(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mapspage"],{"0bc6":function(e,t,a){},"33e9":function(e,t,a){},"481a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-grow-1 flex-column"},[a("v-card",[a("map-card",{staticClass:"h-full",staticStyle:{"min-height":"380px"},attrs:{value:1837.32,percentage:3.2,loading:e.isLoading1,"percentage-label":e.$t("dashboard.lastweek"),"action-label":e.$t("dashboard.viewReport")}})],1),a("v-card",{staticClass:"grey lighten-5 mt-2"},[a("v-container",[a("v-row",[a("v-col",{staticClass:"title cyan lighten-4 white--text",attrs:{cols:"3"}},[a("v-switch",{staticClass:"ml-4",attrs:{inset:"",color:"red",label:"Mode: "+e.chartType.toString()},on:{change:function(t){return e.toggleChartType(t)}},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}})],1),a("v-col",{staticClass:"deep-purple lighten-4 white--text",attrs:{cols:"3"}},[a("v-dialog",{ref:"dialog",attrs:{"return-value":e.dates,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.dates=t},"update:return-value":function(t){e.dates=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({staticClass:"title",attrs:{label:"Select Date Range","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},"v-text-field",s,!1),i))]}}]),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("v-date-picker",{attrs:{range:""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$refs.dialog.save(e.dates),e.dateChangedChecker()}}},[e._v(" OK ")])],1)],1)],1),a("v-col",{staticClass:"green lighten-4 mt-0 pt-1",attrs:{cols:"3"}},[a("v-subheader",{staticClass:"justify-center title"},[e._v("Select time range")]),a("v-range-slider",{staticClass:"align-center",attrs:{max:e.timemax,min:e.timemin,"hide-details":""},on:{change:function(t){return e.dateChangedChecker()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.timerange[0],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){e.$set(e.timerange,0,t),e.dateChangedChecker()}}})]},proxy:!0},{key:"append",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.timerange[1],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){e.$set(e.timerange,1,t),e.dateChangedChecker()}}})]},proxy:!0}]),model:{value:e.timerange,callback:function(t){e.timerange=t},expression:"timerange"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:!e.mode,expression:"!mode"}],staticClass:"blue lighten-4 mt-0 pt-1",attrs:{cols:"3"}},[a("v-subheader",{staticClass:"justify-center title"},[e._v("Set min and max age")]),a("v-range-slider",{staticClass:"align-center",attrs:{max:e.max,min:e.min,"hide-details":""},on:{change:function(t){return e.dateChangedChecker()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.range[0],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){e.$set(e.range,0,t),e.dateChangedChecker()}}})]},proxy:!0},{key:"append",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.range[1],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){e.$set(e.range,1,t),e.dateChangedChecker()}}})]},proxy:!0}]),model:{value:e.range,callback:function(t){e.range=t},expression:"range"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:e.mode,expression:"mode"}],staticClass:"blue lighten-4  mb-0 pb-0 pt-4",attrs:{cols:"3"}},[a("span",{staticClass:"d-inline-flex"},[a("v-text-field",{attrs:{color:"title",outlined:"",label:"Enter mobile number",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-btn",{staticClass:"ml-2",attrs:{"x-large":"",elevation:"4",color:"primary"},on:{click:e.searchUsersByEmail}},[a("v-icon",{attrs:{left:""}},[e._v(" large mdi-feature-search-outline ")]),e._v(" Search ")],1)],1)])],1),a("v-row",[a("v-col",{staticClass:"ml-0 px-0 outlined",attrs:{cols:"6"}},[a("v-card",{staticClass:"red lighten-5 pb-4 mr-1 px-0"},[a("v-card-title",{staticClass:"red lighten-1 justify-center"},[a("v-icon",{attrs:{left:"",large:"",color:"white lighten-2"}},[e._v("mdi-alarm-light-outline ")]),a("span",{staticClass:"headline white--text"},[e._v("SOS")])],1),a("v-divider"),a("v-row",{staticClass:"flex-grow-0",attrs:{dense:""}},[a("v-col",{attrs:{cols:"4"}},[a("v-checkbox",{staticClass:"px-2 pt-1",attrs:{label:"Confront",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("challenge")}},model:{value:e.challengeCheck,callback:function(t){e.challengeCheck=t},expression:"challengeCheck"}}),a("v-checkbox",{staticClass:"px-2",attrs:{label:"Confront SMS",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("challenge-sms")}},model:{value:e.challengeSMSCheck,callback:function(t){e.challengeSMSCheck=t},expression:"challengeSMSCheck"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-checkbox",{staticClass:"px-2 pt-1",attrs:{label:"User SMS",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("user-sms")}},model:{value:e.userSMSCheck,callback:function(t){e.userSMSCheck=t},expression:"userSMSCheck"}}),a("v-checkbox",{staticClass:"px-2",attrs:{label:"Alarm",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("alarm")}},model:{value:e.alarmCheck,callback:function(t){e.alarmCheck=t},expression:"alarmCheck"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-checkbox",{staticClass:"px-2 pt-1",attrs:{label:"Secret",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("secret")}},model:{value:e.secretCheck,callback:function(t){e.secretCheck=t},expression:"secretCheck"}}),a("v-checkbox",{staticClass:"px-2",attrs:{label:"Secret SMS",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("secret-sms")}},model:{value:e.secretSMSCheck,callback:function(t){e.secretSMSCheck=t},expression:"secretSMSCheck"}})],1)],1)],1)],1),a("v-col",{staticClass:"px-1",attrs:{cols:"3"}},[a("v-card",{staticClass:"green lighten-5 pb-4"},[a("v-card-title",{staticClass:"green lighten-1 justify-center"},[a("v-icon",{attrs:{left:"",large:"",color:"white darken-2"}},[e._v("mdi-road-variant ")]),a("span",{staticClass:"headline white--text"},[e._v("Travel")])],1),a("v-checkbox",{staticClass:"px-2 pt-2",attrs:{label:"Zone",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("zone")}},model:{value:e.zoneCheck,callback:function(t){e.zoneCheck=t},expression:"zoneCheck"}}),a("v-checkbox",{staticClass:"px-2",attrs:{label:"Zone SMS",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("zones-sms")}},model:{value:e.zoneSMSCheck,callback:function(t){e.zoneSMSCheck=t},expression:"zoneSMSCheck"}})],1)],1),a("v-col",{staticClass:"px-1",attrs:{cols:"3"}},[a("v-card",{staticClass:"amber lighten-5 pb-4"},[a("v-card-title",{staticClass:"amber darken-1 justify-center"},[a("v-icon",{attrs:{left:"",large:"",color:"white darken-2"}},[e._v("mdi-alarm ")]),a("span",{staticClass:"headline white--text"},[e._v("Reminder")])],1),a("v-checkbox",{staticClass:"px-2 pt-2",attrs:{label:"Reminder",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("timer")}},model:{value:e.timerCheck,callback:function(t){e.timerCheck=t},expression:"timerCheck"}}),a("v-checkbox",{staticClass:"px-2",attrs:{label:"Reminder SMS",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("timer-sms")}},model:{value:e.timerSMSCheck,callback:function(t){e.timerSMSCheck=t},expression:"timerSMSCheck"}})],1)],1)],1)],1)],1)],1)},s=[],n=(a("99af"),a("4160"),a("caad"),a("c975"),a("a434"),a("4fad"),a("07ac"),a("ac1f"),a("2532"),a("1276"),a("159b"),a("3835")),r=a("5530"),c=a("ade3"),l=(a("96cf"),a("1da1")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("gmap-map",{staticStyle:{width:"100%",height:"500px"},attrs:{center:e.center,zoom:15}},[a("gmap-info-window",{attrs:{options:e.infoOptions,position:e.infoWindowPos,opened:e.infoWinOpen},on:{closeclick:function(t){e.infoWinOpen=!1}}}),e._l(e.mapMarkers,(function(t,i){return a("gmap-marker",{key:i,attrs:{position:t.position,clickable:!0,icon:t.icon},on:{click:function(a){return e.toggleInfoWindow(t,i)}}})}))],2)],1)},h=[],u={data:function(){return{center:{lat:23.8103,lng:90.4125},infoWindowPos:null,infoWinOpen:!1,currentMidx:null,infoOptions:{content:"",pixelOffset:{width:0,height:-35}},markers:[{position:{lat:47.376332,lng:8.547511},infoText:"<strong>Marker 1</strong>"},{position:{lat:47.374592,lng:8.548867},infoText:"<strong>Marker 2</strong>"},{position:{lat:47.379592,lng:8.549867},infoText:"<strong>Marker 3</strong>"}]}},computed:{mapMarkers:function(){var e=this.$store.state.queryuser.markers;return e}},methods:{toggleInfoWindow:function(e,t){this.infoWindowPos=e.position,this.infoOptions.content=e.infoText,this.currentMidx===t?this.infoWinOpen=!this.infoWinOpen:(this.infoWinOpen=!0,this.currentMidx=t)}}},d=u,m=a("2877"),p=Object(m["a"])(d,o,h,!1,null,null,null),f=p.exports,v=a("56d7"),g=a("c1df"),b=a.n(g),k=(v["db"].collection("users"),{components:{MapCard:f},data:function(){return{timemin:0,timemax:24,timerange:[0,24],max:99,min:0,range:[0,99],form:!1,mode:!1,chartType:"Group",loadingInterval:null,email:"",foundUser:null,isLoading1:!0,fromDateMenu:!1,fromDateVal:null,dates:[],modal:!1,minDate:"2019-07-04",maxDate:"2030-08-30",allSearchDates:[],allResults:[],challengeList:[],challengeSMSList:[],secretList:[],secretSMSList:[],timerList:[],timerSMSList:[],userSMSList:[],zoneList:[],zoneSMSList:[],alarmList:[],sendMapData:[],selectChallenge:!0,selectChallengeSMS:!0,selectSecret:!0,selectSecretSMS:!1,selectTimer:!0,selectTimerSMS:!0,selectZone:!1,selectZoneSMS:!1,selectUserSMS:!0,selectAlarm:!0,groupChallengeCount:0,groupChallengeSMSCount:0,groupSecretCount:0,groupSecretSMSCount:0,groupTimerCount:0,groupTimerSMSCount:0,groupZoneCount:0,groupZoneSMSCount:0,groupUserSMSCount:0,groupAlarmCount:0,challengeCheck:!1,challengeSMSCheck:!1,secretCheck:!1,secretSMSCheck:!1,timerCheck:!1,timerSMSCheck:!1,zoneCheck:!1,zoneSMSCheck:!1,userSMSCheck:!1,alarmCheck:!1,lowerAge:1,upperAge:99,lowerTime:0,upperTime:24,activeCheckBoxes:[],mapIcons:{timer:"https://bhaithamen.web.app/images/maptimer.png","timer-sms":"https://bhaithamen.web.app/images/maptimersms.png",challenge:"https://bhaithamen.web.app/images/mapconfront.png","challenge-sms":"https://bhaithamen.web.app/images/mapconfrontsms.png",secret:"https://bhaithamen.web.app/images/mapsecret.png","secret-sms":"https://bhaithamen.web.app/images/mapsecretsms.png",zone:"https://bhaithamen.web.app/images/mapzone.png","zones-sms":"https://bhaithamen.web.app/images/mapzonesms.png",alarm:"https://bhaithamen.web.app/images/mapalarm.png","user-sms":"https://bhaithamen.web.app/images/mapusersms.png"}}},mounted:function(){var e=this,t=0;this.loadingInterval=setInterval((function(){e["isLoading".concat(t++)]=!1,4===t&&e.clear()}),400)},beforeDestroy:function(){this.clear()},methods:{clearAllCriteria:function(){this.challengeList=[],this.challengeSMSList=[],this.secreList=[],this.secreSMSList=[],this.timerList=[],this.timerSMSList=[],this.userSMSList=[],this.zoneList=[],this.zoneSMSList=[],this.alarmList=[],this.sendMapData=[],this.challengeCheck=!1,this.challengeSMSCheck=!1,this.secretCheck=!1,this.secretSMSCheck=!1,this.timerCheck=!1,this.timerSMSCheck=!1,this.zoneCheck=!1,this.zoneSMSCheck=!1,this.userSMSCheck=!1,this.alarmCheck=!1,this.activeCheckBoxes=[],this.$store.dispatch("queryuser/setNewMapData",Object.values(this.sendMapData))},toggleChartType:function(e){console.log(e),this.clearAllCriteria(),this.chartType=1==e?"Individual":"Group"},clear:function(){clearInterval(this.loadingInterval)},checkBoxTest:function(e){console.log(e+" "+this.challengeCheck),this.activeCheckBoxes.includes(e)?this.activeCheckBoxes.splice(this.activeCheckBoxes.indexOf(e),1):this.activeCheckBoxes.push(e),console.log(this.activeCheckBoxes),"Group"==this.chartType?this.getGroupData(e,!1):this.selectChartColumns()},dateChangedChecker:function(){if(this.sendMapData=[],"Group"==this.chartType)for(var e=0;e<this.activeCheckBoxes.length;e++)this.getGroupData(this.activeCheckBoxes[e],!0);else this.searchUsersByEmail()},changeData:function(){"Group"==this.chartType?(this.selectChallengeSMS=!1,this.selectChartColumns()):this.searchUsersByEmail()},setTimeUserEventsDocs:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,v["db"].collection("users").get().then((function(e){e.forEach((function(e){t.push(e.ref.id)}))}));case 3:for(console.log(t),a=0;a<t.length;a++)v["db"].collection("users").doc(t[a]).collection("events").get().then((function(e){e.forEach((function(e){var t=e.ref.id.split(" ")[0];console.log(t);var a=Date.parse(t);e.ref.update({createdAt:a}),console.log(b()(a).format("MMM Do YY"))}))}));case 5:case"end":return e.stop()}}),e)})))()},setTimeAllDocs:function(){v["db"].collection("alarm").get().then((function(e){e.forEach((function(e){var t=e.ref.id.split(" ")[0];console.log(t);var a=Date.parse(t);e.ref.update({createdAt:a}),console.log(b()(a).format("MMM Do YY"))}))}))},getGroupData:function(e,t){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var s,n,r,l,o,h;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=Date.parse(a.dates[0]),n=Date.parse(a.dates[1]),null!=a.dates[0]){i.next=4;break}return i.abrupt("return");case 4:if(null==a.dates[1]&&(a.dates[1]=a.dates[0]),r=[],s<n?(r.push(s),r.push(n)):(r.push(n),r.push(s)),console.log(r),a.allSearchDates=a.getDates(r[0],r[1]),console.log(r[1]),a.$store.dispatch("queryuser/setDates",a.allSearchDates),l=[],t){i.next=17;break}for(o=!1,h=a.sendMapData.length-1;h>=0;h--)a.sendMapData[h]["infoText"]==e?(console.log("remove it"),o=!0,console.log(a.sendMapData[h]),a.sendMapData.splice(h,1),a.$store.dispatch("queryuser/setNewMapData",Object.values(a.sendMapData))):console.log("add it");if(!o){i.next=17;break}return i.abrupt("return");case 17:return i.next=19,v["db"].collection(e).orderBy("createdAt").startAt(r[0]).endAt(r[1]).get().then((function(e){e.empty?console.log("cannot find"):e.forEach((function(e){var t=[],i=e.id,s=b()(i).format("MMM Do YY");e.data()["events"].forEach((function(e){var i=1e3*e.time.seconds,s=parseInt(b()(i).format("HH"));s>=a.timerange[0]&&s<=a.timerange[1]&&t.push({doc:e})})),l.push(Object(c["a"])({},s,t))}))}));case 19:return i.next=21,a.fillGroupChartArray(l,e);case 21:a.$store.dispatch("queryuser/setNewMapData",Object.values(a.sendMapData));case 22:case"end":return i.stop()}}),i)})))()},searchUsersByEmail:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i,s,n,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,e.message="",e.foundUser=null,e.challengeList=[],e.challengeSMSList=[],e.secreList=[],e.secreSMSList=[],e.timerList=[],e.timerSMSList=[],e.userSMSList=[],e.zoneList=[],e.zoneSMSList=[],e.alarmList=[],a="+88"!=e.email.substring(0,3)?"+88"+e.email:e.email,t.next=11,v["db"].collection("users").where("userPhone","==",a).get();case 11:if(i=t.sent,i.empty){t.next=29;break}return s=i.docs[0].id,n=i.docs[0].data(),e.foundUser=Object(r["a"])({id:s},n),t.next=18,v["db"].collection("users").doc(s).get();case 18:if(c=t.sent,null===c){t.next=26;break}return l=c.data(),t.next=23,e.$store.dispatch("queryuser/setUserData",{id:c.id,name:l.username,email:l.email});case 23:e.searchUserAndDate(s),t.next=27;break;case 26:console.log("NO USER");case 27:t.next=30;break;case 29:e.message="No user with that email found.";case 30:e.isLoading=!1;case 31:case"end":return t.stop()}}),t)})))()},getDates:function(e,t){var a=[],i=b()(e);t=b()(t);while(i<=t)a.push(b()(i).format("MMM Do YY")),i=b()(i).add(1,"days");return a},searchUserAndDate:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i,s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=Date.parse(t.dates[0]),s=Date.parse(t.dates[1]),null!=t.dates[0]){a.next=4;break}return a.abrupt("return");case 4:null==t.dates[1]&&(t.dates[1]=t.dates[0]),n=[],i<s?(n.push(i),n.push(s)):(n.push(s),n.push(i)),console.log(n),t.allSearchDates=t.getDates(n[0],n[1]),t.$store.dispatch("queryuser/setDates",t.allSearchDates),r=[],v["db"].collection("users").doc(e).collection("events").orderBy("createdAt").startAt(n[0]).endAt(n[1]).get().then((function(e){e.empty?console.log("cannot find"):(e.forEach((function(e){var a=[],i=e.id;e.data()["events"].forEach((function(e){var i=1e3*e.time.seconds,s=parseInt(b()(i).format("HH"));s>=t.timerange[0]&&s<=t.timerange[1]&&a.push({doc:e})})),r.push(Object(c["a"])({},i,a))})),t.allResults=r,t.createArrays())}));case 12:case"end":return a.stop()}}),a)})))()},createArrays:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.allResults.forEach((function(t){for(var a=0,i=Object.entries(t);a<i.length;a++){var s=Object(n["a"])(i[a],2),r=s[0],l=s[1];console.log("NEW ".concat(r,": ").concat(l));for(var o=r,h=0,u=Object.entries(t[o]);h<u.length;h++){var d=Object(n["a"])(u[h],2),m=d[0],p=d[1];console.log("".concat(m,": ").concat(p));var f=b()(p["doc"]["time"].toDate()).format("MMM Do YY");switch(console.log(f),p["doc"]["category"]){case"challenge":e.challengeList.push(Object(c["a"])({},f,p["doc"]));break;case"challenge-sms":e.challengeSMSList.push(Object(c["a"])({},f,p["doc"]));break;case"secret":e.secretList.push(Object(c["a"])({},f,p["doc"]));break;case"secret-sms":e.secretSMSList.push(Object(c["a"])({},f,p["doc"]));break;case"timer":e.timerList.push(Object(c["a"])({},f,p["doc"]));break;case"timer-sms":e.timerSMSList.push(Object(c["a"])({},f,p["doc"]));break;case"user-sms":e.userSMSList.push(Object(c["a"])({},f,p["doc"]));break;case"zone":e.zoneList.push(Object(c["a"])({},f,p["doc"]));break;case"zones-sms":e.zoneSMSList.push(Object(c["a"])({},f,p["doc"]));break;case"alarm":e.alarmList.push(Object(c["a"])({},f,p["doc"]));break;default:break}}}})),e.selectChartColumns();case 2:case"end":return t.stop()}}),t)})))()},selectChartColumns:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.sendMapData=[],console.log(e.alarmList),!(e.challengeList.length>0&&e.challengeCheck)){t.next=5;break}return t.next=5,e.fillChartArray(e.challengeList,"Challenge");case 5:if(!(e.challengeSMSList.length>0&&e.challengeSMSCheck)){t.next=8;break}return t.next=8,e.fillChartArray(e.challengeSMSList,"Challenge SMS");case 8:if(!(e.secretList.length>0&&e.secretCheck)){t.next=11;break}return t.next=11,e.fillChartArray(e.secretList,"Secret");case 11:if(!(e.secretSMSList.length>0&&e.secretSMSCheck)){t.next=14;break}return t.next=14,e.fillChartArray(e.secretSMSList,"Secret SMS");case 14:if(!(e.timerList.length>0&&e.timerCheck)){t.next=17;break}return t.next=17,e.fillChartArray(e.timerList,"Timer");case 17:if(!(e.timerSMSList.length>0&&e.timerSMSCheck)){t.next=20;break}return t.next=20,e.fillChartArray(e.timerSMSList,"Timer SMS");case 20:if(!(e.zoneList.length>0&&e.zoneCheck)){t.next=23;break}return t.next=23,e.fillChartArray(e.zoneList,"Zone");case 23:if(!(e.zoneSMSList.length>0&&e.zoneSMSCheck)){t.next=26;break}return t.next=26,e.fillChartArray(e.zoneSMSList,"Zone SMS");case 26:if(!(e.userSMSList.length>0&&e.userSMSCheck)){t.next=29;break}return t.next=29,e.fillChartArray(e.userSMSList,"User SMS");case 29:if(!(e.alarmList.length>0&&e.alarmCheck)){t.next=32;break}return t.next=32,e.fillChartArray(e.alarmList,"Alarm");case 32:e.$store.dispatch("queryuser/setNewMapData",Object.values(e.sendMapData));case 33:case"end":return t.stop()}}),t)})))()},fillChartArray:function(e,t){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var i,s,r,l,o,h,u,d,m,p,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(i={},s=0;s<a.allSearchDates.length;s++)Object.assign(i,Object(c["a"])({},a.allSearchDates[s],0));for(r=0;r<e.length;r++)for(l=0,o=Object.entries(e[r]);l<o.length;l++)h=Object(n["a"])(o[l],2),u=h[0],d=h[1],console.log("NEW ".concat(u,": ").concat(d)),console.log(d.location.latitude),m=d.location.latitude,p=d.location.longitude,f=d.category,v=a.mapIcons[d.category],console.log("MPPPP "+v),a.sendMapData.push({position:{lat:m,lng:p},infoText:f,icon:v});return console.log(i),t.abrupt("return");case 5:case"end":return t.stop()}}),t)})))()},fillGroupChartArray:function(e,t){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var i,s,r,l,o,h,u,d,m,p,f,v,g,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(i={},{},s=0;s<a.allSearchDates.length;s++)Object.assign(i,Object(c["a"])({},a.allSearchDates[s],0));for(r=0;r<e.length;r++)for(l=0,o=Object.entries(e[r]);l<o.length;l++)for(h=Object(n["a"])(o[l],2),u=h[0],d=h[1],console.log("NEW ".concat(u,": ").concat(d)),i[u]=d.length,m=0;m<d.length;m++)p=d[m]["doc"]["location"],f=p.latitude,v=p.longitude,g=d[m]["doc"]["category"],b=a.mapIcons[d[m]["doc"]["category"]],a.sendMapData.push({position:{lat:f,lng:v},infoText:g,icon:b});return t.abrupt("return");case 5:case"end":return t.stop()}}),t)})))()}}}),C=k,S=a("6544"),x=a.n(S),y=a("8336"),M=a("b0afa"),w=a("99d9"),T=a("ac7c"),O=a("62ad"),V=a("a523"),L=a("2e4b"),D=a("169a"),j=a("ce7e"),$=a("132d"),_=a("5963"),A=a("0fd9"),B=a("2fa4"),z=a("e0c7"),E=a("b73d"),I=a("8654"),R=Object(m["a"])(C,i,s,!1,null,null,null);t["default"]=R.exports;x()(R,{VBtn:y["a"],VCard:M["a"],VCardTitle:w["d"],VCheckbox:T["a"],VCol:O["a"],VContainer:V["a"],VDatePicker:L["a"],VDialog:D["a"],VDivider:j["a"],VIcon:$["a"],VRangeSlider:_["a"],VRow:A["a"],VSpacer:B["a"],VSubheader:z["a"],VSwitch:E["a"],VTextField:I["a"]})},"4fad":function(e,t,a){var i=a("23e7"),s=a("6f53").entries;i({target:"Object",stat:!0},{entries:function(e){return s(e)}})},5963:function(e,t,a){"use strict";a("99af"),a("d81d"),a("a9e3");var i=a("2909"),s=a("ade3"),n=a("5530"),r=(a("33e9"),a("caad"),a("c975"),a("b680"),a("d3b7"),a("25f0"),a("2532"),a("498a"),a("9e29"),a("c37a")),c=a("0789"),l=a("58df"),o=a("297c"),h=a("a293"),u=a("80d2"),d=a("d9bd"),m=Object(l["a"])(r["a"],o["a"]).extend({name:"v-slider",directives:{ClickOutside:h["b"]},mixins:[o["a"]],props:{disabled:Boolean,inverseLabel:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:1},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:function(e){return"boolean"===typeof e||"always"===e}},thumbSize:{type:[Number,String],default:32},tickLabels:{type:Array,default:function(){return[]}},ticks:{type:[Boolean,String],default:!1,validator:function(e){return"boolean"===typeof e||"always"===e}},tickSize:{type:[Number,String],default:2},trackColor:String,trackFillColor:String,value:[Number,String],vertical:Boolean},data:function(){return{app:null,oldValue:null,keyPressed:0,isFocused:!1,isActive:!1,noClick:!1}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-input__slider":!0,"v-input__slider--vertical":this.vertical,"v-input__slider--inverse-label":this.inverseLabel})},internalValue:{get:function(){return this.lazyValue},set:function(e){e=isNaN(e)?this.minValue:e;var t=this.roundValue(Math.min(Math.max(e,this.minValue),this.maxValue));t!==this.lazyValue&&(this.lazyValue=t,this.$emit("input",t))}},trackTransition:function(){return this.keyPressed>=2?"none":""},minValue:function(){return parseFloat(this.min)},maxValue:function(){return parseFloat(this.max)},stepNumeric:function(){return this.step>0?parseFloat(this.step):0},inputWidth:function(){return(this.roundValue(this.internalValue)-this.minValue)/(this.maxValue-this.minValue)*100},trackFillStyles:function(){var e,t=this.vertical?"bottom":"left",a=this.vertical?"top":"right",i=this.vertical?"height":"width",n=this.$vuetify.rtl?"auto":"0",r=this.$vuetify.rtl?"0":"auto",c=this.isDisabled?"calc(".concat(this.inputWidth,"% - 10px)"):"".concat(this.inputWidth,"%");return e={transition:this.trackTransition},Object(s["a"])(e,t,n),Object(s["a"])(e,a,r),Object(s["a"])(e,i,c),e},trackStyles:function(){var e,t=this.vertical?this.$vuetify.rtl?"bottom":"top":this.$vuetify.rtl?"left":"right",a=this.vertical?"height":"width",i="0px",n=this.isDisabled?"calc(".concat(100-this.inputWidth,"% - 10px)"):"calc(".concat(100-this.inputWidth,"%)");return e={transition:this.trackTransition},Object(s["a"])(e,t,i),Object(s["a"])(e,a,n),e},showTicks:function(){return this.tickLabels.length>0||!(this.isDisabled||!this.stepNumeric||!this.ticks)},numTicks:function(){return Math.ceil((this.maxValue-this.minValue)/this.stepNumeric)},showThumbLabel:function(){return!this.isDisabled&&!(!this.thumbLabel&&!this.$scopedSlots["thumb-label"])},computedTrackColor:function(){if(!this.isDisabled)return this.trackColor?this.trackColor:this.isDark?this.validationState:this.validationState||"primary lighten-3"},computedTrackFillColor:function(){if(!this.isDisabled)return this.trackFillColor?this.trackFillColor:this.validationState||this.computedColor},computedThumbColor:function(){return this.thumbColor?this.thumbColor:this.validationState||this.computedColor}},watch:{min:function(e){var t=parseFloat(e);t>this.internalValue&&this.$emit("input",t)},max:function(e){var t=parseFloat(e);t<this.internalValue&&this.$emit("input",t)},value:{handler:function(e){this.internalValue=e}}},beforeMount:function(){this.internalValue=this.value},mounted:function(){this.app=document.querySelector("[data-app]")||Object(d["c"])("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{genDefaultSlot:function(){var e=[this.genLabel()],t=this.genSlider();return this.inverseLabel?e.unshift(t):e.push(t),e.push(this.genProgress()),e},genSlider:function(){return this.$createElement("div",{class:Object(n["a"])({"v-slider":!0,"v-slider--horizontal":!this.vertical,"v-slider--vertical":this.vertical,"v-slider--focused":this.isFocused,"v-slider--active":this.isActive,"v-slider--disabled":this.isDisabled,"v-slider--readonly":this.isReadonly},this.themeClasses),directives:[{name:"click-outside",value:this.onBlur}],on:{click:this.onSliderClick}},this.genChildren())},genChildren:function(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),this.genThumbContainer(this.internalValue,this.inputWidth,this.isActive,this.isFocused,this.onThumbMouseDown,this.onFocus,this.onBlur)]},genInput:function(){return this.$createElement("input",{attrs:Object(n["a"])({value:this.internalValue,id:this.computedId,disabled:!0,readonly:!0,tabindex:-1},this.$attrs)})},genTrackContainer:function(){var e=[this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track-background",style:this.trackStyles})),this.$createElement("div",this.setBackgroundColor(this.computedTrackFillColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles}))];return this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},e)},genSteps:function(){var e=this;if(!this.step||!this.showTicks)return null;var t=parseFloat(this.tickSize),a=Object(u["h"])(this.numTicks+1),i=this.vertical?"bottom":this.$vuetify.rtl?"right":"left",n=this.vertical?this.$vuetify.rtl?"left":"right":"top";this.vertical&&a.reverse();var r=a.map((function(a){var r,c=[];e.tickLabels[a]&&c.push(e.$createElement("div",{staticClass:"v-slider__tick-label"},e.tickLabels[a]));var l=a*(100/e.numTicks),o=e.$vuetify.rtl?100-e.inputWidth<l:l<e.inputWidth;return e.$createElement("span",{key:a,staticClass:"v-slider__tick",class:{"v-slider__tick--filled":o},style:(r={width:"".concat(t,"px"),height:"".concat(t,"px")},Object(s["a"])(r,i,"calc(".concat(l,"% - ").concat(t/2,"px)")),Object(s["a"])(r,n,"calc(50% - ".concat(t/2,"px)")),r)},c)}));return this.$createElement("div",{staticClass:"v-slider__ticks-container",class:{"v-slider__ticks-container--always-show":"always"===this.ticks||this.tickLabels.length>0}},r)},genThumbContainer:function(e,t,a,i,s,r,c){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"thumb",o=[this.genThumb()],h=this.genThumbLabelContent(e);return this.showThumbLabel&&o.push(this.genThumbLabel(h)),this.$createElement("div",this.setTextColor(this.computedThumbColor,{ref:l,key:l,staticClass:"v-slider__thumb-container",class:{"v-slider__thumb-container--active":a,"v-slider__thumb-container--focused":i,"v-slider__thumb-container--show-label":this.showThumbLabel},style:this.getThumbContainerStyles(t),attrs:Object(n["a"])({role:"slider",tabindex:this.isDisabled?-1:this.$attrs.tabindex?this.$attrs.tabindex:0,"aria-label":this.label,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.internalValue,"aria-readonly":String(this.isReadonly),"aria-orientation":this.vertical?"vertical":"horizontal"},this.$attrs),on:{focus:r,blur:c,keydown:this.onKeyDown,keyup:this.onKeyUp,touchstart:s,mousedown:s}}),o)},genThumbLabelContent:function(e){return this.$scopedSlots["thumb-label"]?this.$scopedSlots["thumb-label"]({value:e}):[this.$createElement("span",[String(e)])]},genThumbLabel:function(e){var t=Object(u["g"])(this.thumbSize),a=this.vertical?"translateY(20%) translateY(".concat(Number(this.thumbSize)/3-1,"px) translateX(55%) rotate(135deg)"):"translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg)";return this.$createElement(c["e"],{props:{origin:"bottom center"}},[this.$createElement("div",{staticClass:"v-slider__thumb-label-container",directives:[{name:"show",value:this.isFocused||this.isActive||"always"===this.thumbLabel}]},[this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb-label",style:{height:t,width:t,transform:a}}),[this.$createElement("div",e)])])])},genThumb:function(){return this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb"}))},getThumbContainerStyles:function(e){var t=this.vertical?"top":"left",a=this.$vuetify.rtl?100-e:e;return a=this.vertical?100-a:a,Object(s["a"])({transition:this.trackTransition},t,"".concat(a,"%"))},onThumbMouseDown:function(e){e.preventDefault(),this.oldValue=this.internalValue,this.keyPressed=2,this.isActive=!0;var t=!u["B"]||{passive:!0,capture:!0},a=!!u["B"]&&{passive:!0};"touches"in e?(this.app.addEventListener("touchmove",this.onMouseMove,a),Object(u["a"])(this.app,"touchend",this.onSliderMouseUp,t)):(this.app.addEventListener("mousemove",this.onMouseMove,a),Object(u["a"])(this.app,"mouseup",this.onSliderMouseUp,t)),this.$emit("start",this.internalValue)},onSliderMouseUp:function(e){e.stopPropagation(),this.keyPressed=0;var t=!!u["B"]&&{passive:!0};this.app.removeEventListener("touchmove",this.onMouseMove,t),this.app.removeEventListener("mousemove",this.onMouseMove,t),this.$emit("mouseup",e),this.$emit("end",this.internalValue),Object(u["j"])(this.oldValue,this.internalValue)||(this.$emit("change",this.internalValue),this.noClick=!0),this.isActive=!1},onMouseMove:function(e){var t=this.parseMouseMove(e),a=t.value;this.internalValue=a},onKeyDown:function(e){if(this.isInteractive){var t=this.parseKeyDown(e,this.internalValue);null==t||t<this.minValue||t>this.maxValue||(this.internalValue=t,this.$emit("change",t))}},onKeyUp:function(){this.keyPressed=0},onSliderClick:function(e){if(this.noClick)this.noClick=!1;else{var t=this.$refs.thumb;t.focus(),this.onMouseMove(e),this.$emit("change",this.internalValue)}},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},parseMouseMove:function(e){var t=this.vertical?"top":"left",a=this.vertical?"height":"width",i=this.vertical?"clientY":"clientX",s=this.$refs.track.getBoundingClientRect(),n=s[t],r=s[a],c="touches"in e?e.touches[0][i]:e[i],l=Math.min(Math.max((c-n)/r,0),1)||0;this.vertical&&(l=1-l),this.$vuetify.rtl&&(l=1-l);var o=c>=n&&c<=n+r,h=parseFloat(this.min)+l*(this.maxValue-this.minValue);return{value:h,isInsideTrack:o}},parseKeyDown:function(e,t){if(this.isInteractive){var a=u["x"].pageup,i=u["x"].pagedown,s=u["x"].end,n=u["x"].home,r=u["x"].left,c=u["x"].right,l=u["x"].down,o=u["x"].up;if([a,i,s,n,r,c,l,o].includes(e.keyCode)){e.preventDefault();var h=this.stepNumeric||1,d=(this.maxValue-this.minValue)/h;if([r,c,l,o].includes(e.keyCode)){this.keyPressed+=1;var m=this.$vuetify.rtl?[r,o]:[c,o],p=m.includes(e.keyCode)?1:-1,f=e.shiftKey?3:e.ctrlKey?2:1;t+=p*h*f}else if(e.keyCode===n)t=this.minValue;else if(e.keyCode===s)t=this.maxValue;else{var v=e.keyCode===i?1:-1;t-=v*h*(d>100?d/10:10)}return t}}},roundValue:function(e){if(!this.stepNumeric)return e;var t=this.step.toString().trim(),a=t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0,i=this.minValue%this.stepNumeric,s=Math.round((e-i)/this.stepNumeric)*this.stepNumeric+i;return parseFloat(Math.min(s,this.maxValue).toFixed(a))}}}),p=m;t["a"]=p.extend({name:"v-range-slider",props:{value:{type:Array,default:function(){return[0,0]}}},data:function(){return{activeThumb:null,lazyValue:this.value}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},p.options.computed.classes.call(this)),{},{"v-input--range-slider":!0})},internalValue:{get:function(){return this.lazyValue},set:function(e){var t=this,a=e.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.roundValue(Math.min(Math.max(e,t.minValue),t.maxValue))}));if(a[0]>a[1]||a[1]<a[0]){if(null!==this.activeThumb){var i=1===this.activeThumb?0:1,s=this.$refs["thumb_".concat(i)];s.focus()}a=[a[1],a[0]]}this.lazyValue=a,Object(u["j"])(a,this.value)||this.$emit("input",a),this.validate()}},inputWidth:function(){var e=this;return this.internalValue.map((function(t){return(e.roundValue(t)-e.minValue)/(e.maxValue-e.minValue)*100}))}},methods:{getTrackStyle:function(e,t){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=this.vertical?this.$vuetify.rtl?"top":"bottom":this.$vuetify.rtl?"right":"left",c=this.vertical?"height":"width",l="calc(".concat(e,"% + ").concat(i,"px)"),o="calc(".concat(t,"% + ").concat(n,"px)");return a={transition:this.trackTransition},Object(s["a"])(a,r,l),Object(s["a"])(a,c,o),a},getIndexOfClosestValue:function(e,t){return Math.abs(e[0]-t)<Math.abs(e[1]-t)?0:1},genInput:function(){var e=this;return Object(u["h"])(2).map((function(t){var a=p.options.methods.genInput.call(e);return a.data=a.data||{},a.data.attrs=a.data.attrs||{},a.data.attrs.value=e.internalValue[t],a.data.attrs.id="input-".concat(t?"max":"min","-").concat(e._uid),a}))},genTrackContainer:function(){var e=this,t=[],a=this.isDisabled?10:0,s=[{class:"v-slider__track-background",color:this.computedTrackColor,styles:[0,this.inputWidth[0],0,-a]},{class:this.isDisabled?"v-slider__track-background":"v-slider__track-fill",color:this.isDisabled?this.computedTrackColor:this.computedColor,styles:[this.inputWidth[0],Math.abs(this.inputWidth[1]-this.inputWidth[0]),a,-2*a]},{class:"v-slider__track-background",color:this.computedTrackColor,styles:[this.inputWidth[1],Math.abs(100-this.inputWidth[1]),a,-a]}];return this.$vuetify.rtl&&s.reverse(),t.push.apply(t,Object(i["a"])(s.map((function(t){return e.$createElement("div",e.setBackgroundColor(t.color,{staticClass:t.class,style:e.getTrackStyle.apply(e,Object(i["a"])(t.styles))}))})))),this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},t)},genChildren:function(){var e=this;return[this.genInput(),this.genTrackContainer(),this.genSteps(),Object(u["h"])(2).map((function(t){var a=e.internalValue[t],i=function(a){e.isActive=!0,e.activeThumb=t,e.onThumbMouseDown(a)},s=function(a){e.isFocused=!0,e.activeThumb=t,e.$emit("focus",a)},n=function(t){e.isFocused=!1,e.activeThumb=null,e.$emit("blur",t)},r=e.inputWidth[t],c=e.isActive&&e.activeThumb===t,l=e.isFocused&&e.activeThumb===t;return e.genThumbContainer(a,r,c,l,i,s,n,"thumb_".concat(t))}))]},onSliderClick:function(e){if(!this.isActive){if(this.noClick)return void(this.noClick=!1);var t=this.parseMouseMove(e),a=t.value,i=t.isInsideTrack;if(i){this.activeThumb=this.getIndexOfClosestValue(this.internalValue,a);var s="thumb_".concat(this.activeThumb),n=this.$refs[s];n.focus()}this.setInternalValue(a),this.$emit("change",this.internalValue)}},onMouseMove:function(e){var t=this.parseMouseMove(e),a=t.value,i=t.isInsideTrack;i&&null===this.activeThumb&&(this.activeThumb=this.getIndexOfClosestValue(this.internalValue,a)),this.setInternalValue(a)},onKeyDown:function(e){if(null!==this.activeThumb){var t=this.parseKeyDown(e,this.internalValue[this.activeThumb]);null!=t&&(this.setInternalValue(t),this.$emit("change",this.internalValue))}},setInternalValue:function(e){var t=this;this.internalValue=this.internalValue.map((function(a,i){return i===t.activeThumb?e:Number(a)}))}}})},"9d01":function(e,t,a){},"9e29":function(e,t,a){},b73d:function(e,t,a){"use strict";a("0481"),a("4069");var i=a("5530"),s=(a("ec29"),a("9d01"),a("fe09")),n=a("c37a"),r=a("c3f0"),c=a("0789"),l=a("490a"),o=a("80d2");t["a"]=s["a"].extend({name:"v-switch",directives:{Touch:r["b"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(i["a"])(Object(i["a"])({},this.attrs),this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(i["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(i["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(c["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(l["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(e){(e.keyCode===o["x"].left&&this.isActive||e.keyCode===o["x"].right&&!this.isActive)&&this.onChange()}}})},e0c7:function(e,t,a){"use strict";var i=a("5530"),s=(a("0bc6"),a("7560")),n=a("58df");t["a"]=Object(n["a"])(s["a"]).extend({name:"v-subheader",props:{inset:Boolean},render:function(e){return e("div",{staticClass:"v-subheader",class:Object(i["a"])({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})}}]);