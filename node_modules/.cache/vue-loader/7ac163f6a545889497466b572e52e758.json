{"remainingRequest":"/Users/luke/Documents/VUE/bt-starter/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luke/Documents/VUE/bt-starter/src/apps/newsfeed/components/NewsfeedCompose.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luke/Documents/VUE/bt-starter/src/apps/newsfeed/components/NewsfeedCompose.vue","mtime":1607014716480},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JwoKLyoKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8IFRPRE8gQ29tcG9zZSBDb21wb25lbnQKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8CnwgQ29tcG9zZSBuZXcgdGFza3MgZWRpdG9yCiovCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwppbXBvcnQgeyBkYiB9IGZyb20gJy4uLy4uLy4uL21haW4nCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZScKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgdGl0bGU6ICcnLAogICAgICBhcnRpY2xlOiAnJywKICAgICAgdGltZTogJycsCiAgICAgIGF1dGhvcjogJycsCiAgICAgIGxpa2VzOltdLAogICAgICBzaGFyZXM6MCwKICAgICAgZXZlbnRzOltdLAogICAgICBpbmNpZGVudERhdGU6JycsCiAgICAgIGZvdW5kRXZlbnRzOltdLAogICAgICBzaG93OnRydWUsCiAgICAgIGlBbUVkaXRpbmc6ZmFsc2UsCiAgICAgIHRhc2tMYWJlbHM6IFtdLAogICAgICBzZWFyY2g6IG51bGwsCiAgICAgIGlkOicnLAogICAgICB2YWxpZDogdHJ1ZSwKICAgICAgZmlsZXM6W10sCiAgICAgIGltYWdlUmF3Om51bGwsCiAgICAgIHJlY2VpdmVkVXJsOicnLAogICAgICBpbWFnZVVybDonaHR0cHM6Ly9ob21lcGFnZXMuY2FlLndpc2MuZWR1L35lY2U1MzMvaW1hZ2VzL2FpcnBsYW5lLnBuZycsCiAgICAgIHRpdGxlOiAnJywKICAgICAgc29ydERhdGU6JycsCiAgICAgIGFydGljbGU6JycsCiAgICAgIGF1dGhvcjonJywKICAgICAgcG9zdFR5cGU6J3dhcm4nLAogICAgICB0aXRsZVJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICEhdiB8fCAnVGl0bGUgaXMgcmVxdWlyZWQnLAogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSA4MCkgfHwgJ1RpdGxlIG11c3QgYmUgbGVzcyB0aGFuIDgwIGNoYXJhY3RlcnMnCiAgICAgIF0sCiAgICAgIGFydGljbGVSdWxlczogWwogICAgICAgICh2KSA9PiAhIXYgfHwgJ0FydGljbGUgdGV4dCBpcyByZXF1aXJlZCcsCiAgICAgICAgKHYpID0+ICh2ICYmIHYubGVuZ3RoIDw9IDYwMDApIHx8ICdBcnRpY2xlIG11c3QgYmUgbGVzcyB0aGFuIDYwMDAgY2hhcmFjdGVycycKICAgICAgXSwKICAgICAgYXV0aG9yUnVsZXM6IFsKICAgICAgICAodikgPT4gISF2IHx8ICdBdXRob3IgbmFtZSBpcyByZXF1aXJlZCcsCiAgICAgICAgKHYpID0+ICh2ICYmIHYubGVuZ3RoIDw9IDQwKSB8fCAnTmFtZSBtdXN0IGJlIGxlc3MgdGhhbiA0MCBjaGFyYWN0ZXJzJwogICAgICBdLAogICAgICBlbWFpbDogJycsCiAgICAgIGVtYWlsUnVsZXM6IFsKICAgICAgICAodikgPT4gISF2IHx8ICdFLW1haWwgaXMgcmVxdWlyZWQnLAogICAgICAgICh2KSA9PiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICdFLW1haWwgbXVzdCBiZSB2YWxpZCcKICAgICAgXSwKICAgICAgc2VsZWN0OiBudWxsLAogICAgICBpdGVtczogWwogICAgICAgICdJdGVtIDEnLAogICAgICAgICdJdGVtIDInLAogICAgICAgICdJdGVtIDMnLAogICAgICAgICdJdGVtIDQnCiAgICAgIF0sCiAgICAgIGNoZWNrYm94OiBmYWxzZSwKICAgICAgaW1hZ2VDaGFuZ2VkOmZhbHNlCgogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCduZXdzZmVlZC1hcHAnLCBbJ25ld3NmZWVkbGFiZWxzJ10pLAogICAgaXNFZGl0KCkgewogICAgICBpZiAodGhpcy5pZCE9bnVsbCl7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5pZCkKICAgICAgICBpZiAodGhpcy5pZD09JycpewogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfWVsc2V7CiAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgIH0KICAgICAgfQoKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcE11dGF0aW9ucygnbmV3c2ZlZWQtYXBwJywgWyd1cGRhdGVOZXdzZmVlZCcsICdhZGROZXdzZmVlZCddKSwKICAgIG9wZW4odGFzaywgZWRpdGluZykgewogICAgICBjb25zb2xlLmxvZygnT1BFTicpCiAgICAgIGlmICh0YXNrKSB7CiAgICAgICAgdGhpcy50YXNrID0gdGFzawogICAgICAgIHRoaXMuaUFtRWRpdGluZyA9IHRydWUKICAgICAgICB0aGlzLmlkID0gdGhpcy50YXNrLmlkCiAgICAgICAgdGhpcy5hdXRob3IgPSB0aGlzLnRhc2suYXV0aG9yCiAgICAgICAgdGhpcy50aXRsZSA9IHRoaXMudGFzay50aXRsZQogICAgICAgIHRoaXMuYXJ0aWNsZSA9IHRoaXMudGFzay5hcnRpY2xlCiAgICAgICAgdGhpcy50aW1lID0gdGhpcy50YXNrLnRpbWUKICAgICAgICB0aGlzLmltYWdlID0gdGhpcy50YXNrLmltYWdlCiAgICAgICAgdGhpcy50YXNrTGFiZWxzID0gdGhpcy50YXNrLmxhYmVscwogICAgICAgIHRoaXMubGlrZXMgPSB0aGlzLnRhc2subGlrZXMKICAgICAgICB0aGlzLnNoYXJlcyA9IHRoaXMudGFzay5zaGFyZXMKICAgICAgICB0aGlzLnBvc3RUeXBlID0gdGhpcy50YXNrLmxhYmVsc1swXQogICAgICAgIHRoaXMuaW1hZ2VVcmwgPSB0aGlzLnRhc2suaW1hZ2UKICAgICAgICB0aGlzLmZpbGVzLnB1c2goJ3NhdmVkJykKICAgICAgICB0aGlzLnNob3cgPSB0aGlzLnRhc2suc2hvdwogICAgICAgIHRoaXMuc29ydERhdGUgPSB0aGlzLnRhc2suc29ydERhdGUKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlBbUVkaXRpbmcgPSBmYWxzZQogICAgICAgIHRoaXMuaWQgPSAnJwogICAgICAgIHRoaXMudGFzayA9IHt9CiAgICAgICAgdGhpcy5hdXRob3IgPSAnJwogICAgICAgIHRoaXMudGl0bGUgPSAnJwogICAgICAgIHRoaXMuYXJ0aWNsZSA9ICcnCiAgICAgICAgdGhpcy50aW1lID0gJycKICAgICAgICB0aGlzLmltYWdlID0gJycKICAgICAgICB0aGlzLnRhc2tMYWJlbHMgPSBbXQogICAgICAgIHRoaXMubGlrZXMgPSBbXQogICAgICAgIHRoaXMuc2hhcmVzID0gMAogICAgICAgIHRoaXMucG9zdFR5cGUgPSAnbmV3cycKICAgICAgICB0aGlzLmltYWdlVXJsID0gJycKICAgICAgICB0aGlzLnNob3cgPSB0cnVlCiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZQogICAgfSwKICAgIGNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlCiAgICB9LAogICAgc2F2ZSgpIHsKICAgICAgY29uc3QgeyB0aXRsZSwgYXJ0aWNsZSwgdGFza0xhYmVscywgYXV0aG9yLCBpbWFnZVVybCwgc2hvdywgaWQsIHRpbWUsIHNvcnREYXRlIH0gPSB0aGlzCiAgICAgIGNvbnN0IHRhc2tFZGl0ID0gewogICAgICAgIHRpdGxlLAogICAgICAgIGFydGljbGUsCiAgICAgICAgYXV0aG9yLAogICAgICAgIGltYWdlOiBpbWFnZVVybCwKICAgICAgICBsYWJlbHM6IHRhc2tMYWJlbHMsCiAgICAgICAgc2hvdwogICAgICB9CgogICAgICBpZiAodGhpcy5pQW1FZGl0aW5nID09IHRydWUpIHsKICAgICAgICB0aGlzLnVwZGF0ZU5ld3NmZWVkKHsKICAgICAgICAgIC4uLnRoaXMudGFzaywKICAgICAgICAgIC4uLnRhc2tFZGl0CiAgICAgICAgfSkKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZyAoJ1BBU1MgVVJMICcrc29ydERhdGUpCiAgICAgICAgY29uc3QgdGFza05ldyA9IHsKICAgICAgICBzb3J0RGF0ZSwKICAgICAgICBpZCwKICAgICAgICB0aXRsZSwKICAgICAgICBhcnRpY2xlLAogICAgICAgIGF1dGhvciwKICAgICAgICB0aW1lLAogICAgICAgIGltYWdlOiBpbWFnZVVybCwKICAgICAgICBsYWJlbHM6IHRhc2tMYWJlbHMsCiAgICAgICAgbGlrZXM6W10sCiAgICAgICAgc2hhcmVzOjAsCiAgICAgICAgc2hvdwogICAgICB9CiAgICAgICAgdGhpcy5hZGROZXdzZmVlZCh0YXNrTmV3KQogICAgICB9CgogICAgICB0aGlzLmNsb3NlKCkKICAgIH0sCiAgICBmaWx0ZXIgKGl0ZW0sIHF1ZXJ5VGV4dCwgaXRlbVRleHQpIHsKICAgICAgY29uc3QgaGFzVmFsdWUgPSAodmFsKSA9PiB2YWwgIT09IG51bGwgPyB2YWwgOiAnJwoKICAgICAgY29uc3QgdGV4dCA9IGhhc1ZhbHVlKGl0ZW0udGl0bGUpCiAgICAgIGNvbnN0IHF1ZXJ5ID0gaGFzVmFsdWUocXVlcnlUZXh0KQoKICAgICAgcmV0dXJuIHRleHQudG9TdHJpbmcoKQogICAgICAgIC50b0xvd2VyQ2FzZSgpCiAgICAgICAgLmluZGV4T2YocXVlcnkudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKSA+IC0xCiAgICB9LAoKCiAgICBhc3luYyBwb3N0ICgpIHsKCiAgICAgIGlmICh0aGlzLmlBbUVkaXRpbmc9PWZhbHNlKXsKICAgICAgY29uc3QgdW5peCA9IERhdGUubm93KCkKCiAgICAgIHRoaXMuc29ydERhdGUgPSB1bml4CgogICAgICB0aGlzLmlkID0gdGhpcy5zb3J0RGF0ZS50b1N0cmluZygpCgogICAgICBjb25zdCB0aGVEYXRlID0gbW9tZW50KHVuaXgpLmZvcm1hdCgnRG8gTU1NIFlZJykKCiAgICAgIHRoaXMudGltZSA9IGZpcmViYXNlLmZpcmVzdG9yZS5UaW1lc3RhbXAuZnJvbURhdGUobmV3IERhdGUoKSkKCiAgICAgIHRoaXMudGFza0xhYmVscz1bXQogICAgICB0aGlzLnRhc2tMYWJlbHMucHVzaCh0aGlzLnBvc3RUeXBlKQoKICAgICAgfWVsc2V7CgogICAgICAgIHRoaXMudGFza0xhYmVscz1bXQogICAgICAgIHRoaXMudGFza0xhYmVscy5wdXNoKHRoaXMucG9zdFR5cGUpCgogICAgICAgIGNvbnNvbGUubG9nKCdkb2MgaWQgJyt0aGlzLmlkKQogICAgICB9CgogICAgICBpZiAodGhpcy5pbWFnZUNoYW5nZWQpewoKCgogICAgICBjb25zdCBpbWdOYW1lID0gdGhpcy5pbWFnZS5uYW1lCgogICAgICBjb25zdCBleHQgPSBpbWdOYW1lLnNsaWNlKGltZ05hbWUubGFzdEluZGV4T2YoJy4nKSkKCiAgICAgIGNvbnN0IHVuaXF1ZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKQoKCiAgICAgIGNvbnN0IHN0b3JhZ2VSZWY9ZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZihgbmV3c2ZlZWQvJHt0aGlzLmlkfSR7dW5pcXVlVGltZX0ke2V4dH1gKS5wdXQodGhpcy5pbWFnZSk7CiAgICAgICAgc3RvcmFnZVJlZi5vbihgc3RhdGVfY2hhbmdlZGAsc25hcHNob3Q9PnsKICAgICAgICB0aGlzLnVwbG9hZFZhbHVlID0gKHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQvc25hcHNob3QudG90YWxCeXRlcykqMTAwOwogICAgICAgICAgfSwgZXJyb3I9Pntjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKX0sCiAgICAgICAgKCk9Pnt0aGlzLnVwbG9hZFZhbHVlPTEwMDsKICAgICAgICAgICAgc3RvcmFnZVJlZi5zbmFwc2hvdC5yZWYuZ2V0RG93bmxvYWRVUkwoKS50aGVuKCh1cmwpPT57CiAgICAgICAgICAgICAgICB0aGlzLmltYWdlVXJsID0gdXJsOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5pZCkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGFza0xhYmVsc1swXSkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGl0bGUpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmFydGljbGUpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRpbWUpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmF1dGhvcikKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaW1hZ2VVcmwpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmxpa2VzKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zaGFyZXMpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNob3cpCgogICAgICAgICAgICAgICAgZGIKICAgICAgICAgICAgICAgIC5jb2xsZWN0aW9uKCduZXdzZmVlZCcpCiAgICAgICAgICAgICAgICAuZG9jKHRoaXMuaWQpCiAgICAgICAgICAgICAgICAuc2V0KHsKICAgICAgICAgICAgICAgICAgY2F0OiB0aGlzLnRhc2tMYWJlbHNbMF0sCiAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLAogICAgICAgICAgICAgICAgICBhcnRpY2xlOiB0aGlzLmFydGljbGUsCiAgICAgICAgICAgICAgICAgIHRpbWU6IHRoaXMudGltZSwKICAgICAgICAgICAgICAgICAgYXV0aG9yOiB0aGlzLmF1dGhvciwKICAgICAgICAgICAgICAgICAgaW1hZ2U6IHRoaXMuaW1hZ2VVcmwsCiAgICAgICAgICAgICAgICAgIGxpa2VzOnRoaXMubGlrZXMsCiAgICAgICAgICAgICAgICAgIHNoYXJlczp0aGlzLnNoYXJlcywKICAgICAgICAgICAgICAgICAgc2hvdzp0aGlzLnNob3cKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIHRoaXMuc2F2ZSgpCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICk7CgogICAgICB9IGVsc2UgewoKICAgICAgICAgIGRiCiAgICAgICAgICAuY29sbGVjdGlvbignbmV3c2ZlZWQnKQogICAgICAgICAgLmRvYyh0aGlzLmlkKQogICAgICAgICAgLnNldCh7CiAgICAgICAgICAgIGNhdDogdGhpcy50YXNrTGFiZWxzWzBdLAogICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSwKICAgICAgICAgICAgYXJ0aWNsZTogdGhpcy5hcnRpY2xlLAogICAgICAgICAgICB0aW1lOiB0aGlzLnRpbWUsCiAgICAgICAgICAgIGF1dGhvcjogdGhpcy5hdXRob3IsCiAgICAgICAgICAgIGltYWdlOiB0aGlzLmltYWdlLAogICAgICAgICAgICBsaWtlczp0aGlzLmxpa2VzLAogICAgICAgICAgICBzaGFyZXM6dGhpcy5zaGFyZXMsCiAgICAgICAgICAgIHNob3c6dGhpcy5zaG93CgogICAgICB9KS50aGVuKChkb25lKT0+ewogICAgICAgICAgICAgICAgdGhpcy5zYXZlKCkKICAgICAgICAgICAgICB9KQogICAgICB9CgogICAgfSwKICAgIGltYWdlUHJldmlldygpIHsKICAgICAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCkKCiAgICAgIGlmICh0aGlzLmZpbGVzLmxlbmd0aD4wKXsKCiAgICAgIGZpbGVSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsKCkgPT4gewogICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBmaWxlUmVhZGVyLnJlc3VsdAogICAgICB9KQogICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwodGhpcy5maWxlc1swXSkKICAgICAgdGhpcy5pbWFnZSA9IHRoaXMuZmlsZXNbMF0KICAgICAgdGhpcy5pbWFnZUNoYW5nZWQgPSB0cnVlCiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuaW1hZ2U9JycKICAgICAgICB0aGlzLmltYWdlVXJsPScnCiAgICAgICAgdGhpcy5pbWFnZUNoYW5nZWQgPSBmYWxzZQogICAgICB9CgoKICAgIH0sCiAgICB2YWxpZGF0ZSAoKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpCiAgICB9LAogICAgcmVzZXQgKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKQogICAgfSwKICAgIHJlc2V0VmFsaWRhdGlvbiAoKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldFZhbGlkYXRpb24oKQogICAgfQogIH0KfQo="},{"version":3,"sources":["NewsfeedCompose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;AAIA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewsfeedCompose.vue","sourceRoot":"src/apps/newsfeed/components","sourcesContent":["<template>\n  <v-dialog v-model=\"dialog\" width=\"600\">\n    <v-card>\n      <v-card-title class=\"pa-2\">\n        {{ isEdit ? 'Edit News...' : 'Add News' }}\n        <v-spacer></v-spacer>\n        <v-btn icon @click=\"dialog = false\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-card-title>\n\n      <v-divider></v-divider>\n\n      <!-- task form -->\n\n  <v-form\n    ref=\"form\"\n    v-model=\"valid\"\n    lazy-validation\n  >\n  <h2>Bhai Thamen News</h2>\n\n    <v-radio-group\n      v-model=\"postType\"\n      row\n    >\n      <v-radio\n        label=\"Warning\"\n        value=\"warn\"\n      ></v-radio>\n      <v-radio\n        label=\"News\"\n        value=\"news\"\n      ></v-radio>\n      <v-radio\n        label=\"Info\"\n        value=\"info\"\n      ></v-radio>\n    </v-radio-group>\n\n    <v-text-field\n      v-model=\"title\"\n      outlined\n      :counter=\"80\"\n      :rules=\"titleRules\"\n      label=\"Title\"\n      required\n    ></v-text-field>\n\n\n\n\n        <v-textarea\n          v-model=\"article\"\n          clearable\n          auto-grow\n          outlined\n          rows=\"7\"\n          row-height=\"15\"\n          :counter=\"6000\"\n          :rules=\"articleRules\"\n          label=\"Article\"\n          required\n        ></v-textarea>\n\n\n\n    <v-text-field\n      v-model=\"author\"\n      outlined\n      :counter=\"40\"\n      :rules=\"authorRules\"\n      label=\"Author\"\n      required\n    ></v-text-field>\n\n     <v-file-input\n    v-model=\"files\"\n    color=\"deep-purple accent-4\"\n    counter\n    label=\"File input\"\n    multiple\n    placeholder=\"Select your files\"\n    prepend-icon=\"mdi-paperclip\"\n    outlined\n    @change=\"imagePreview\"\n    :show-size=\"1000\"\n  >\n    <template v-slot:selection=\"{ index, text }\">\n      <v-chip\n        v-if=\"index < 2\"\n        color=\"deep-purple accent-4\"\n        dark\n        label\n        small\n      >\n        {{ text }}\n      </v-chip>\n\n      <span\n        v-else-if=\"index === 2\"\n        class=\"overline grey--text text--darken-3 mx-2\"\n      >\n        +{{ files.length - 2 }} File(s)\n      </span>\n    </template>\n  </v-file-input>\n  <v-flex xs12 sm6 offset-sm3>\n    <img :src=\"imageUrl\" height=\"150\">\n\n  </v-flex>\n    </v-form>\n      <v-divider></v-divider>\n\n      <v-card-actions class=\"pa-2\">\n        <v-btn outlined @click=\"close\">{{ $t('common.cancel') }}</v-btn>\n        <v-spacer></v-spacer>\n        <v-btn color=\"primary\" @click=\"post\">{{ $t('common.save') }}</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n\n/*\n|---------------------------------------------------------------------\n| TODO Compose Component\n|---------------------------------------------------------------------\n|\n| Compose new tasks editor\n*/\nimport moment from 'moment'\nimport { db } from '../../../main'\nimport firebase from 'firebase'\nexport default {\n  data () {\n    return {\n      dialog: false,\n      title: '',\n      article: '',\n      time: '',\n      author: '',\n      likes:[],\n      shares:0,\n      events:[],\n      incidentDate:'',\n      foundEvents:[],\n      show:true,\n      iAmEditing:false,\n      taskLabels: [],\n      search: null,\n      id:'',\n      valid: true,\n      files:[],\n      imageRaw:null,\n      receivedUrl:'',\n      imageUrl:'https://homepages.cae.wisc.edu/~ece533/images/airplane.png',\n      title: '',\n      sortDate:'',\n      article:'',\n      author:'',\n      postType:'warn',\n      titleRules: [\n        (v) => !!v || 'Title is required',\n        (v) => (v && v.length <= 80) || 'Title must be less than 80 characters'\n      ],\n      articleRules: [\n        (v) => !!v || 'Article text is required',\n        (v) => (v && v.length <= 6000) || 'Article must be less than 6000 characters'\n      ],\n      authorRules: [\n        (v) => !!v || 'Author name is required',\n        (v) => (v && v.length <= 40) || 'Name must be less than 40 characters'\n      ],\n      email: '',\n      emailRules: [\n        (v) => !!v || 'E-mail is required',\n        (v) => /.+@.+\\..+/.test(v) || 'E-mail must be valid'\n      ],\n      select: null,\n      items: [\n        'Item 1',\n        'Item 2',\n        'Item 3',\n        'Item 4'\n      ],\n      checkbox: false,\n      imageChanged:false\n\n    }\n  },\n  computed: {\n    ...mapState('newsfeed-app', ['newsfeedlabels']),\n    isEdit() {\n      if (this.id!=null){\n        console.log(this.id)\n        if (this.id==''){\n          return false\n        }else{\n          return true\n        }\n      }\n\n    }\n  },\n  methods: {\n    ...mapMutations('newsfeed-app', ['updateNewsfeed', 'addNewsfeed']),\n    open(task, editing) {\n      console.log('OPEN')\n      if (task) {\n        this.task = task\n        this.iAmEditing = true\n        this.id = this.task.id\n        this.author = this.task.author\n        this.title = this.task.title\n        this.article = this.task.article\n        this.time = this.task.time\n        this.image = this.task.image\n        this.taskLabels = this.task.labels\n        this.likes = this.task.likes\n        this.shares = this.task.shares\n        this.postType = this.task.labels[0]\n        this.imageUrl = this.task.image\n        this.files.push('saved')\n        this.show = this.task.show\n        this.sortDate = this.task.sortDate\n      } else {\n        this.iAmEditing = false\n        this.id = ''\n        this.task = {}\n        this.author = ''\n        this.title = ''\n        this.article = ''\n        this.time = ''\n        this.image = ''\n        this.taskLabels = []\n        this.likes = []\n        this.shares = 0\n        this.postType = 'news'\n        this.imageUrl = ''\n        this.show = true\n      }\n\n      this.dialog = true\n    },\n    close() {\n      this.dialog = false\n    },\n    save() {\n      const { title, article, taskLabels, author, imageUrl, show, id, time, sortDate } = this\n      const taskEdit = {\n        title,\n        article,\n        author,\n        image: imageUrl,\n        labels: taskLabels,\n        show\n      }\n\n      if (this.iAmEditing == true) {\n        this.updateNewsfeed({\n          ...this.task,\n          ...taskEdit\n        })\n      } else {\n        console.log ('PASS URL '+sortDate)\n        const taskNew = {\n        sortDate,\n        id,\n        title,\n        article,\n        author,\n        time,\n        image: imageUrl,\n        labels: taskLabels,\n        likes:[],\n        shares:0,\n        show\n      }\n        this.addNewsfeed(taskNew)\n      }\n\n      this.close()\n    },\n    filter (item, queryText, itemText) {\n      const hasValue = (val) => val !== null ? val : ''\n\n      const text = hasValue(item.title)\n      const query = hasValue(queryText)\n\n      return text.toString()\n        .toLowerCase()\n        .indexOf(query.toString().toLowerCase()) > -1\n    },\n\n\n    async post () {\n\n      if (this.iAmEditing==false){\n      const unix = Date.now()\n\n      this.sortDate = unix\n\n      this.id = this.sortDate.toString()\n\n      const theDate = moment(unix).format('Do MMM YY')\n\n      this.time = firebase.firestore.Timestamp.fromDate(new Date())\n\n      this.taskLabels=[]\n      this.taskLabels.push(this.postType)\n\n      }else{\n\n        this.taskLabels=[]\n        this.taskLabels.push(this.postType)\n\n        console.log('doc id '+this.id)\n      }\n\n      if (this.imageChanged){\n\n\n\n      const imgName = this.image.name\n\n      const ext = imgName.slice(imgName.lastIndexOf('.'))\n\n      const uniqueTime = new Date().getTime()\n\n\n      const storageRef=firebase.storage().ref(`newsfeed/${this.id}${uniqueTime}${ext}`).put(this.image);\n        storageRef.on(`state_changed`,snapshot=>{\n        this.uploadValue = (snapshot.bytesTransferred/snapshot.totalBytes)*100;\n          }, error=>{console.log(error.message)},\n        ()=>{this.uploadValue=100;\n            storageRef.snapshot.ref.getDownloadURL().then((url)=>{\n                this.imageUrl = url;\n                console.log(this.id)\n                console.log(this.taskLabels[0])\n                console.log(this.title)\n                console.log(this.article)\n                console.log(this.time)\n                console.log(this.author)\n                console.log(this.imageUrl)\n                console.log(this.likes)\n                console.log(this.shares)\n                console.log(this.show)\n\n                db\n                .collection('newsfeed')\n                .doc(this.id)\n                .set({\n                  cat: this.taskLabels[0],\n                  title: this.title,\n                  article: this.article,\n                  time: this.time,\n                  author: this.author,\n                  image: this.imageUrl,\n                  likes:this.likes,\n                  shares:this.shares,\n                  show:this.show\n              })\n              this.save()\n              });\n            }\n          );\n\n      } else {\n\n          db\n          .collection('newsfeed')\n          .doc(this.id)\n          .set({\n            cat: this.taskLabels[0],\n            title: this.title,\n            article: this.article,\n            time: this.time,\n            author: this.author,\n            image: this.image,\n            likes:this.likes,\n            shares:this.shares,\n            show:this.show\n\n      }).then((done)=>{\n                this.save()\n              })\n      }\n\n    },\n    imagePreview() {\n      const fileReader = new FileReader()\n\n      if (this.files.length>0){\n\n      fileReader.addEventListener('load',() => {\n        this.imageUrl = fileReader.result\n      })\n      fileReader.readAsDataURL(this.files[0])\n      this.image = this.files[0]\n      this.imageChanged = true\n      }else{\n        this.image=''\n        this.imageUrl=''\n        this.imageChanged = false\n      }\n\n\n    },\n    validate () {\n      this.$refs.form.validate()\n    },\n    reset () {\n      this.$refs.form.reset()\n    },\n    resetValidation () {\n      this.$refs.form.resetValidation()\n    }\n  }\n}\n</script>\n"]}]}