{"remainingRequest":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luke/Documents/VUE/caffe-clothing/src/apps/newsfeed/components/NewsfeedCompose.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luke/Documents/VUE/caffe-clothing/src/apps/newsfeed/components/NewsfeedCompose.vue","mtime":1607091107820},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JwoKLyoKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8IFRPRE8gQ29tcG9zZSBDb21wb25lbnQKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8CnwgQ29tcG9zZSBuZXcgdGFza3MgZWRpdG9yCiovCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwppbXBvcnQgeyBkYiB9IGZyb20gJy4uLy4uLy4uL21haW4nCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZScKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgdGl0bGU6ICcnLAogICAgICB0aW1lOiAnJywKICAgICAgbGlrZXM6W10sCiAgICAgIHNoYXJlczowLAogICAgICBldmVudHM6W10sCiAgICAgIGNvZGVQcmVmaXg6JycsCiAgICAgIGluY2lkZW50RGF0ZTonJywKICAgICAgZm91bmRFdmVudHM6W10sCiAgICAgIHNob3c6dHJ1ZSwKICAgICAgaUFtRWRpdGluZzpmYWxzZSwKICAgICAgdGFza0xhYmVsczogW10sCiAgICAgIHNlYXJjaDogbnVsbCwKICAgICAgaWQ6JycsCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBmaWxlczpbXSwKICAgICAgaW1hZ2VSYXc6bnVsbCwKICAgICAgcmVjZWl2ZWRVcmw6JycsCiAgICAgIGltYWdlVXJsOicnLAogICAgICB0aXRsZTogJycsCiAgICAgIHNvcnREYXRlOicnLAogICAgICBhdXRob3I6JycsCiAgICAgIGNvZGU6JycsCiAgICAgIGNhdGVnb3J5OidpbmZhbnQnLAogICAgICB1c2VyOidpcmlzJywKICAgICAgc2l6ZTonJywKICAgICAgYWdlOicnLAogICAgICBjb2xvdXI6JycsCiAgICAgIG1hdGVyaWFsOicnLAogICAgICBxdHk6JycsCiAgICAgIHByaWNlOicnLAogICAgICBpc0RyYWdnaW5nOiBmYWxzZSwKICAgICAgZHJhZ0NvdW50OiAwLAogICAgICBmaWxlczogW10sCiAgICAgIGNvZGVSdWxlczogWwogICAgICAgICh2KSA9PiAhIXYgfHwgJ0NvZGUgaXMgcmVxdWlyZWQnLAogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSA4MCkgfHwgJ0NvZGUgbXVzdCBiZSBsZXNzIHRoYW4gOCBjaGFyYWN0ZXJzJwogICAgICBdLAogICAgICB0aXRsZVJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICEhdiB8fCAnVGl0bGUgaXMgcmVxdWlyZWQnLAogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSA4MCkgfHwgJ1RpdGxlIG11c3QgYmUgbGVzcyB0aGFuIDgwIGNoYXJhY3RlcnMnCiAgICAgIF0sCiAgICAgIHNpemVSdWxlczogWwogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSA4MCkgfHwgJ1NpemUgbXVzdCBiZSBsZXNzIHRoYW4gODAgY2hhcmFjdGVycycKICAgICAgXSwKICAgICAgYWdlUnVsZXM6IFsKICAgICAgICAodikgPT4gKHYgJiYgdi5sZW5ndGggPD0gMTAwKSB8fCAnQWdlIG11c3QgYmUgbGVzcyB0aGFuIDEwMCBjaGFyYWN0ZXJzJwogICAgICBdLAogICAgICBjb2xvdXJSdWxlczogWwogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSAxMDApIHx8ICdDb2xvdXIgbXVzdCBiZSBsZXNzIHRoYW4gMTAwIGNoYXJhY3RlcnMnCiAgICAgIF0sCiAgICAgIG1hdGVyaWFsUnVsZXM6IFsKICAgICAgICAodikgPT4gKHYgJiYgdi5sZW5ndGggPD0gMTAwKSB8fCAnTWF0ZXJpYWwgbXVzdCBiZSBsZXNzIHRoYW4gMTAwIGNoYXJhY3RlcnMnCiAgICAgIF0sCiAgICAgIHF0eVJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICEhdiB8fCAnUXVhbnRpdHkgaXMgcmVxdWlyZWQnLAogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSAxMDApIHx8ICdRdWFudGl0eSBtdXN0IGJlIGxlc3MgdGhhbiAxMDAgY2hhcmFjdGVycycKICAgICAgXSwKICAgICAgcHJpY2VSdWxlczogWwogICAgICAgICh2KSA9PiAhIXYgfHwgJ1ByaWNlIGlzIHJlcXVpcmVkJywKICAgICAgICAodikgPT4gKHYgJiYgdi5sZW5ndGggPD0gMTAwKSB8fCAnUHJpY2UgbXVzdCBiZSBsZXNzIHRoYW4gMTAwIGNoYXJhY3RlcnMnCiAgICAgIF0sCiAgICAgIHNlbGVjdDogbnVsbCwKICAgICAgY2hlY2tib3g6IGZhbHNlLAogICAgICBpbWFnZUNoYW5nZWQ6ZmFsc2UKCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoJ25ld3NmZWVkLWFwcCcsIFsnbmV3c2ZlZWRsYWJlbHMnXSksCiAgICBpc0VkaXQoKSB7CiAgICAgIGlmICh0aGlzLmlkIT1udWxsKXsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmlkKQogICAgICAgIGlmICh0aGlzLmlkPT0nJyl7CiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9ZWxzZXsKICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgfQogICAgICB9CgogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKCduZXdzZmVlZC1hcHAnLCBbJ3VwZGF0ZU5ld3NmZWVkJywgJ2FkZE5ld3NmZWVkJ10pLAogICAgb3Blbih0YXNrLCBlZGl0aW5nKSB7CiAgICAgIGNvbnNvbGUubG9nKCdPUEVOJykKICAgICAgaWYgKHRhc2spIHsKICAgICAgICB0aGlzLnRhc2sgPSB0YXNrCiAgICAgICAgdGhpcy5pQW1FZGl0aW5nID0gdHJ1ZQogICAgICAgIHRoaXMuY29kZSA9IHRoaXMudGFzay5jb2RlCiAgICAgICAgdGhpcy5pZCA9IHRoaXMudGFzay5pZAogICAgICAgIHRoaXMuY29tcGxldGUgPSB0aGlzLnRhc2suY29tcGxldGUKICAgICAgICB0aGlzLnRpdGxlID0gdGhpcy50YXNrLnRpdGxlCiAgICAgICAgdGhpcy5hZ2UgPSB0aGlzLnRhc2suYWdlCiAgICAgICAgdGhpcy5zaXplID0gdGhpcy50YXNrLnNpemUKICAgICAgICB0aGlzLmNvbG91ciA9IHRoaXMudGFzay5jb2xvdXIKICAgICAgICB0aGlzLm1hdGVyaWFsID0gdGhpcy50YXNrLm1hdGVyaWFsCiAgICAgICAgdGhpcy5xdHkgPSB0aGlzLnRhc2sucXR5CiAgICAgICAgdGhpcy5wcmljZSA9IHRoaXMucHJpY2UucXR5CiAgICAgICAgdGhpcy5jb2RlUHJlZml4ID0gdGhpcy5jb2RlUHJlZml4CiAgICAgICAgdGhpcy5pbWFnZXMgPSB0aGlzLnRhc2suaW1hZ2VzCiAgICAgICAgdGhpcy50YXNrTGFiZWxzID0gdGhpcy50YXNrLmxhYmVscwogICAgICAgIHRoaXMuaW1hZ2VVcmxzID0gdGhpcy50YXNrLmltYWdlcwogICAgICAgIHRoaXMuc29ydERhdGUgPSB0aGlzLnRhc2suc29ydERhdGUKICAgICAgICB0aGlzLmNhdGVnb3J5ID0gdGhpcy50YXNrLmNhdGVnb3J5CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pQW1FZGl0aW5nID0gZmFsc2UKICAgICAgICB0aGlzLmlkID0gJycKICAgICAgICB0aGlzLmNhdGVnb3J5ID0gJ2luZmFudCcKICAgICAgICB0aGlzLnVzZXI9J2lyaXMnCiAgICAgICAgdGhpcy5jb2RlID0gJycKICAgICAgICB0aGlzLmNvbXBsZXRlID0gZmFsc2UKICAgICAgICB0aGlzLmNvZGVQcmVmaXggPSAnaScKICAgICAgICB0aGlzLnRpdGxlID0gJycKICAgICAgICB0aGlzLmFnZSA9ICcnCiAgICAgICAgdGhpcy5zaXplID0gJycKICAgICAgICB0aGlzLmNvbG91ciA9ICcnCiAgICAgICAgdGhpcy5tYXRlcmlhbCA9ICcnCiAgICAgICAgdGhpcy5xdHkgPSAnJwogICAgICAgIHRoaXMucHJpY2UgPSAnJwogICAgICAgIHRoaXMuaW1hZ2VzID0gW10KICAgICAgICB0aGlzLnRhc2tMYWJlbHMgPSBbXQogICAgICAgIHRoaXMuaW1hZ2VVcmxzID0gW10KICAgICAgICB0aGlzLnNvcnREYXRlID0gMAogICAgICB9CgogICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZQogICAgfSwKICAgIHNhdmUoKSB7CiAgICAgIGNvbnN0IHsgdGl0bGUsIGNvZGUsIHNpemUsIGFnZSwgdGFza0xhYmVscywgaW1hZ2VVcmxzLCBpZCwgY29sb3VyLCBtYXRlcmlhbCwgcXR5LCBwcmljZSwgY29tcGxldGUsIHVzZXIsIGNvZGVQcmVmaXggfSA9IHRoaXMKICAgICAgY29uc3QgdGFza0VkaXQgPSB7CiAgICAgICAgdGl0bGUsCiAgICAgICAgY29kZSwKICAgICAgICBzaXplLAogICAgICAgIGFnZSwKICAgICAgICBpZCwKICAgICAgICBjb2xvdXIsCiAgICAgICAgbWF0ZXJpYWwsCiAgICAgICAgcXR5LAogICAgICAgIHByaWNlLAogICAgICAgIGNvbXBsZXRlLAogICAgICAgIHVzZXIsCiAgICAgICAgY29kZVByZWZpeCwKICAgICAgICBpbWFnZXM6IGltYWdlVXJscywKICAgICAgICBsYWJlbHM6IHRhc2tMYWJlbHMKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaUFtRWRpdGluZyA9PSB0cnVlKSB7CiAgICAgICAgdGhpcy51cGRhdGVOZXdzZmVlZCh7CiAgICAgICAgICAuLi50aGlzLnRhc2ssCiAgICAgICAgICAuLi50YXNrRWRpdAogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2cgKCdQQVNTIFVSTCAnK3NvcnREYXRlKQogICAgICAgIGNvbnN0IHRhc2tOZXcgPSB7CiAgICAgICAgc29ydERhdGUsCiAgICAgICAgY29kZSwKICAgICAgICB0aXRsZSwKICAgICAgICBzaXplLAogICAgICAgIGFnZSwKICAgICAgICBpZCwKICAgICAgICBjb2xvdXIsCiAgICAgICAgbWF0ZXJpYWwsCiAgICAgICAgcXR5LAogICAgICAgIHByaWNlLAogICAgICAgIGNvbXBsZXRlLAogICAgICAgIHVzZXIsCiAgICAgICAgY29kZVByZWZpeCwKICAgICAgICBpbWFnZXM6IGltYWdlVXJscywKICAgICAgICBsYWJlbHM6IHRhc2tMYWJlbHMKICAgICAgfQogICAgICAgIHRoaXMuYWRkTmV3c2ZlZWQodGFza05ldykKICAgICAgfQoKICAgICAgdGhpcy5jbG9zZSgpCiAgICB9LAogICAgc2VsZWN0UHJlZml4KCl7CiAgICAgIGlmICh0aGlzLnVzZXI9PSdpcmlzJyl7CiAgICAgICAgc3dpdGNoICh0aGlzLmNhdGVnb3J5KSB7CiAgICAgICAgICBjYXNlICdpbmZhbnQnOgogICAgICAgICAgICB0aGlzLmNvZGVQcmVmaXg9J2knCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnYm95cyc6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0nYicKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdnaXJscyc6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0nZycKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICd3b21lbic6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0ndycKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdtZW4nOgogICAgICAgICAgICB0aGlzLmNvZGVQcmVmaXg9J20nCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9ZWxzZXsKICAgICAgICBzd2l0Y2ggKHRoaXMuY2F0ZWdvcnkpIHsKICAgICAgICAgIGNhc2UgJ2luZmFudCc6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0ndmknCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnYm95cyc6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0ndmInCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnZ2lybHMnOgogICAgICAgICAgICB0aGlzLmNvZGVQcmVmaXg9J3ZnJwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ3dvbWVuJzoKICAgICAgICAgICAgdGhpcy5jb2RlUHJlZml4PSd2dycKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdtZW4nOgogICAgICAgICAgICB0aGlzLmNvZGVQcmVmaXg9J3ZtJwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIH0KCiAgICB9LAoKICAgIGZpbHRlciAoaXRlbSwgcXVlcnlUZXh0LCBpdGVtVGV4dCkgewogICAgICBjb25zdCBoYXNWYWx1ZSA9ICh2YWwpID0+IHZhbCAhPT0gbnVsbCA/IHZhbCA6ICcnCgogICAgICBjb25zdCB0ZXh0ID0gaGFzVmFsdWUoaXRlbS50aXRsZSkKICAgICAgY29uc3QgcXVlcnkgPSBoYXNWYWx1ZShxdWVyeVRleHQpCgogICAgICByZXR1cm4gdGV4dC50b1N0cmluZygpCiAgICAgICAgLnRvTG93ZXJDYXNlKCkKICAgICAgICAuaW5kZXhPZihxdWVyeS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpID4gLTEKICAgIH0sCgoKICAgIGFzeW5jIHBvc3QgKCkgewoKICAgICAgaWYgKHRoaXMuaUFtRWRpdGluZz09ZmFsc2UpewogICAgICBjb25zdCB1bml4ID0gRGF0ZS5ub3coKQoKICAgICAgdGhpcy5zb3J0RGF0ZSA9IHVuaXgKCiAgICAgIHRoaXMuaWQgPSB0aGlzLnNvcnREYXRlLnRvU3RyaW5nKCkKCiAgICAgIGNvbnN0IHRoZURhdGUgPSBtb21lbnQodW5peCkuZm9ybWF0KCdEbyBNTU0gWVknKQoKICAgICAgdGhpcy50aW1lID0gZmlyZWJhc2UuZmlyZXN0b3JlLlRpbWVzdGFtcC5mcm9tRGF0ZShuZXcgRGF0ZSgpKQoKICAgICAgdGhpcy50YXNrTGFiZWxzPVtdCiAgICAgIHRoaXMudGFza0xhYmVscy5wdXNoKHRoaXMucG9zdFR5cGUpCgogICAgICB9ZWxzZXsKCiAgICAgICAgdGhpcy50YXNrTGFiZWxzPVtdCiAgICAgICAgdGhpcy50YXNrTGFiZWxzLnB1c2godGhpcy5wb3N0VHlwZSkKCiAgICAgICAgY29uc29sZS5sb2coJ2RvYyBpZCAnK3RoaXMuaWQpCiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmltYWdlQ2hhbmdlZCl7CgoKCiAgICAgIGNvbnN0IGltZ05hbWUgPSB0aGlzLmltYWdlLm5hbWUKCiAgICAgIGNvbnN0IGV4dCA9IGltZ05hbWUuc2xpY2UoaW1nTmFtZS5sYXN0SW5kZXhPZignLicpKQoKICAgICAgY29uc3QgdW5pcXVlVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpCgoKCiAgICAgIGNvbnN0IHN0b3JhZ2VSZWY9ZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZihgY2xvdGhlcy8ke3RoaXMuY29kZVByZWZpeH0vJHt0aGlzLmNvZGV9JHtleHR9YCkucHV0KHRoaXMuaW1hZ2UpOwogICAgICAgIHN0b3JhZ2VSZWYub24oYHN0YXRlX2NoYW5nZWRgLHNuYXBzaG90PT57CiAgICAgICAgdGhpcy51cGxvYWRWYWx1ZSA9IChzbmFwc2hvdC5ieXRlc1RyYW5zZmVycmVkL3NuYXBzaG90LnRvdGFsQnl0ZXMpKjEwMDsKICAgICAgICAgIH0sIGVycm9yPT57Y29uc29sZS5sb2coZXJyb3IubWVzc2FnZSl9LAogICAgICAgICgpPT57dGhpcy51cGxvYWRWYWx1ZT0xMDA7CiAgICAgICAgICAgIHN0b3JhZ2VSZWYuc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkudGhlbigodXJsKT0+ewogICAgICAgICAgICAgIHRoaXMuaW1hZ2VVcmxzLnB1c2godXJsKQogICAgICAgICAgICAgIC8vdGhpcy5zYXZlKCkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICk7CgogICAgICAgIC8vICAgZGIKICAgICAgICAvLyAgIC5jb2xsZWN0aW9uKCduZXdzZmVlZCcpCiAgICAgICAgLy8gICAuZG9jKHRoaXMuaWQpCiAgICAgICAgLy8gICAuc2V0KHsKICAgICAgICAvLyAgICAgbGFiZWw6IHRoaXMudGFza0xhYmVsc1swXSwKICAgICAgICAvLyAgICAgY29kZTogdGhpcy5jb2RlLAogICAgICAgIC8vICAgICBzaXplOiB0aGlzLnRpdGxlLAogICAgICAgIC8vICAgICBhZ2U6IHRoaXMuYWdlLAogICAgICAgIC8vICAgICBjb2xvdXI6IHRoaXMuY29sb3VyLAogICAgICAgIC8vICAgICBpbWFnZXM6IHRoaXMuaW1hZ2VVcmxzLAogICAgICAgIC8vICAgICBtYXRlcmlhbDp0aGlzLm1hdGVyaWFsLAogICAgICAgIC8vICAgICBxdHk6dGhpcy5xdHksCiAgICAgICAgLy8gICAgIHVzZXI6dGhpcy51c2VyLAogICAgICAgIC8vICAgICBjb2RlUHJlZml4OiB0aGlzLmNvZGVQcmVmaXgsCiAgICAgICAgLy8gICAgIHByaWNlOnRoaXMucHJpY2UsCiAgICAgICAgLy8gICAgIGNvbXBsZXRlOnRoaXMuY29tcGxldGUKICAgICAgICAvLyB9KQoKICAgICAgfSBlbHNlIHsKCiAgICAgICAgICBkYgogICAgICAgICAgLmNvbGxlY3Rpb24oJ25ld3NmZWVkJykKICAgICAgICAgIC5kb2ModGhpcy5pZCkKICAgICAgICAgIC5zZXQoewogICAgICAgICAgICAgIGxhYmVsOiB0aGlzLnRhc2tMYWJlbHNbMF0sCiAgICAgICAgICAgICAgY29kZTogdGhpcy5jb2RlLAogICAgICAgICAgICAgIHNpemU6IHRoaXMudGl0bGUsCiAgICAgICAgICAgICAgYWdlOiB0aGlzLmFnZSwKICAgICAgICAgICAgICBjb2xvdXI6IHRoaXMuY29sb3VyLAogICAgICAgICAgICAgIGltYWdlczogdGhpcy5pbWFnZVVybHMsCiAgICAgICAgICAgICAgbWF0ZXJpYWw6dGhpcy5tYXRlcmlhbCwKICAgICAgICAgICAgICBxdHk6dGhpcy5xdHksCiAgICAgICAgICAgICAgcHJpY2U6dGhpcy5wcmljZSwKICAgICAgICAgICAgICB1c2VyOnRoaXMudXNlciwKICAgICAgICAgICAgICBjb2RlUHJlZml4OiB0aGlzLmNvZGVQcmVmaXgsCiAgICAgICAgICAgICAgY29tcGxldGU6dGhpcy5jb21wbGV0ZQoKICAgICAgfSkudGhlbigoZG9uZSk9PnsKICAgICAgICAgICAgICAgIHRoaXMuc2F2ZSgpCiAgICAgICAgICAgICAgfSkKICAgICAgfQoKICAgIH0sCiAgICBpbWFnZVByZXZpZXcoKSB7CiAgICAgIGNvbnN0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpCgogICAgICB0aGlzLmltYWdlVXJscz1bXQoKICAgICAgaWYgKHRoaXMuZmlsZXMubGVuZ3RoPjApewoKICAgICAgZmlsZVJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywoKSA9PiB7CiAgICAgICAgdGhpcy5pbWFnZVVybHMucHVzaChmaWxlUmVhZGVyLnJlc3VsdCkKICAgICAgfSkKICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKHRoaXMuZmlsZXMpCiAgICAgIHRoaXMuaW1hZ2VzID0gdGhpcy5maWxlcwogICAgICB0aGlzLmltYWdlQ2hhbmdlZCA9IHRydWUKCiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuaW1hZ2VzPVtdCiAgICAgICAgdGhpcy5pbWFnZVVybHM9W10KICAgICAgICB0aGlzLmltYWdlQ2hhbmdlZCA9IGZhbHNlCiAgICAgIH0KCgogICAgfSwKICAgIHZhbGlkYXRlICgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkKICAgIH0sCiAgICByZXNldCAoKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpCiAgICB9LAogICAgcmVzZXRWYWxpZGF0aW9uICgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0VmFsaWRhdGlvbigpCiAgICB9LAoKICAgICAgICBPbkRyYWdFbnRlcihlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgICAgIHRoaXMuZHJhZ0NvdW50Kys7CiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LAogICAgICAgIE9uRHJhZ0xlYXZlKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB0aGlzLmRyYWdDb3VudC0tOwogICAgICAgICAgICBpZiAodGhpcy5kcmFnQ291bnQgPD0gMCkKICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgb25JbnB1dENoYW5nZShlKSB7CiAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gZS50YXJnZXQuZmlsZXM7CiAgICAgICAgICAgIEFycmF5LmZyb20oZmlsZXMpLmZvckVhY2goZmlsZSA9PiB0aGlzLmFkZEltYWdlKGZpbGUpKTsKICAgICAgICB9LAogICAgICAgIG9uRHJvcChlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gZS5kYXRhVHJhbnNmZXIuZmlsZXM7CiAgICAgICAgICAgIEFycmF5LmZyb20oZmlsZXMpLmZvckVhY2goZmlsZSA9PiB0aGlzLmFkZEltYWdlKGZpbGUpKTsKICAgICAgICB9LAogICAgICAgIGFkZEltYWdlKGZpbGUpIHsKICAgICAgICAgICAgaWYgKCFmaWxlLnR5cGUubWF0Y2goJ2ltYWdlLionKSkgewogICAgICAgICAgICAgICAgdGhpcy4kdG9hc3RyLmUoYCR7ZmlsZS5uYW1lfSBpcyBub3QgYW4gaW1hZ2VgKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmZpbGVzLnB1c2goZmlsZSk7CiAgICAgICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpLAogICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB0aGlzLmltYWdlcy5wdXNoKGUudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICAgIH0sCiAgICAgICAgZ2V0RmlsZVNpemUoc2l6ZSkgewogICAgICAgICAgICBjb25zdCBmU0V4dCA9IFsnQnl0ZXMnLCAnS0InLCAnTUInLCAnR0InXTsKICAgICAgICAgICAgbGV0IGkgPSAwOwoKICAgICAgICAgICAgd2hpbGUoc2l6ZSA+IDkwMCkgewogICAgICAgICAgICAgICAgc2l6ZSAvPSAxMDI0OwogICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBgJHsoTWF0aC5yb3VuZChzaXplICogMTAwKSAvIDEwMCl9ICR7ZlNFeHRbaV19YDsKICAgICAgICB9LAoKICB9Cn0K"},{"version":3,"sources":["NewsfeedCompose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuNA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;AAIA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"NewsfeedCompose.vue","sourceRoot":"src/apps/newsfeed/components","sourcesContent":["<template>\n  <v-dialog v-model=\"dialog\" width=\"1000\">\n    <v-card>\n      <v-card-title class=\"pa-2\">\n        {{ isEdit ? 'Edit News...' : 'Add News' }}\n        <v-spacer></v-spacer>\n        <v-btn icon @click=\"dialog = false\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-card-title>\n\n      <v-divider></v-divider>\n\n      <!-- task form -->\n\n  <v-form\n    ref=\"form\"\n    v-model=\"valid\"\n    lazy-validation\n  >\n  <h2>CAFFE Clothing</h2>\n\n   <v-radio-group\n      v-model=\"user\"\n      row\n      @change=\"selectPrefix\"\n    >\n      <v-radio\n        label=\"Iris\"\n        value=\"iris\"\n      ></v-radio>\n      <v-radio\n        label=\"Valerie\"\n        value=\"valerie\"\n      ></v-radio>\n    </v-radio-group>\n\n   <v-radio-group\n      v-model=\"category\"\n      @change=\"selectPrefix\"\n      row\n    >\n      <v-radio\n        label=\"Infant\"\n        value=\"infant\"\n      ></v-radio>\n      <v-radio\n        label=\"Boys\"\n        value=\"boys\"\n      ></v-radio>\n      <v-radio\n        label=\"Girls\"\n        value=\"girls\"\n      ></v-radio>\n      <v-radio\n        label=\"Women\"\n        value=\"women\"\n      ></v-radio>\n           <v-radio\n        label=\"Men\"\n        value=\"men\"\n      ></v-radio>\n    </v-radio-group>\n\n\n    <h2>{{codePrefix}}</h2>\n    <v-text-field\n      v-model=\"code\"\n      outlined\n      :counter=\"8\"\n      :rules=\"codeRules\"\n      label=\"Code\"\n      required\n    ></v-text-field>\n\n\n    <v-text-field\n      v-model=\"title\"\n      outlined\n      :counter=\"80\"\n      :rules=\"titleRules\"\n      label=\"Title\"\n      required\n    ></v-text-field>\n\n    <v-text-field\n      v-model=\"age\"\n      outlined\n      :counter=\"60\"\n      :rules=\"ageRules\"\n      label=\"Age\"\n    ></v-text-field>\n\n    <v-text-field\n      v-model=\"size\"\n      outlined\n      :counter=\"100\"\n      :rules=\"sizeRules\"\n      label=\"Size\"\n    ></v-text-field>\n\n    <v-text-field\n      v-model=\"colour\"\n      outlined\n      :counter=\"100\"\n      :rules=\"colourRules\"\n      label=\"Colour\"\n    ></v-text-field>\n\n    <v-text-field\n      v-model=\"material\"\n      outlined\n      :counter=\"100\"\n      :rules=\"materialRules\"\n      label=\"Material\"\n    ></v-text-field>\n\n    <v-text-field\n      v-model=\"qty\"\n      outlined\n      :counter=\"100\"\n      :rules=\"qtyRules\"\n      label=\"Quantity\"\n      required\n    ></v-text-field>\n\n      <v-text-field\n      v-model=\"price\"\n      outlined\n      :counter=\"100\"\n      :rules=\"priceRules\"\n      label=\"Price\"\n      required\n    ></v-text-field>\n\n     <!-- <v-file-input\n    v-model=\"files\"\n    color=\"deep-purple accent-4\"\n    counter\n    label=\"File input\"\n    multiple\n    placeholder=\"Select your files\"\n    prepend-icon=\"mdi-paperclip\"\n    outlined\n    @change=\"imagePreview\"\n    :show-size=\"1000\"\n  >\n    <template v-slot:selection=\"{ index, text }\">\n      <v-chip\n        v-if=\"index < 2\"\n        color=\"deep-purple accent-4\"\n        dark\n        label\n        small\n      >\n        {{ text }}\n      </v-chip>\n\n      <span\n        v-else-if=\"index === 2\"\n        class=\"overline grey--text text--darken-3 mx-2\"\n      >\n        +{{ files.length - 2 }} File(s)\n      </span>\n    </template>\n  </v-file-input>\n  <v-flex xs12 sm6 offset-sm3>\n    <img :src=\"imageUrl\" height=\"150\">\n\n  </v-flex> -->\n\n\n          <div class=\"uploader\"\n        @dragenter=\"OnDragEnter\"\n        @dragleave=\"OnDragLeave\"\n        @dragover.prevent\n        @drop=\"onDrop\"\n        :class=\"{ dragging: isDragging }\">\n\n\n\n        <div v-show=\"!images.length\">\n            <i class=\"fa fa-cloud-upload\"></i>\n            <p>Drag your images here</p>\n            <div>OR</div>\n            <div class=\"file-input\">\n                <label for=\"file\">Select a file</label>\n                <input type=\"file\" id=\"file\" @change=\"onInputChange\" multiple>\n            </div>\n        </div>\n\n        <div class=\"images-preview\" v-show=\"images.length\">\n            <div class=\"img-wrapper\" v-for=\"(image, index) in images\" :key=\"index\">\n                <img :src=\"image\" :alt=\"`Image Uplaoder ${index}`\">\n                <div class=\"details\">\n                    <span class=\"name\" v-text=\"files[index].name\"></span>\n                    <span class=\"size\" v-text=\"getFileSize(files[index].size)\"></span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    </v-form>\n      <v-divider></v-divider>\n\n      <v-card-actions class=\"pa-2\">\n        <v-btn outlined @click=\"close\">{{ $t('common.cancel') }}</v-btn>\n        <v-spacer></v-spacer>\n        <v-btn color=\"primary\" @click=\"post\">{{ $t('common.save') }}</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n\n/*\n|---------------------------------------------------------------------\n| TODO Compose Component\n|---------------------------------------------------------------------\n|\n| Compose new tasks editor\n*/\nimport moment from 'moment'\nimport { db } from '../../../main'\nimport firebase from 'firebase'\nexport default {\n  data () {\n    return {\n      dialog: false,\n      title: '',\n      time: '',\n      likes:[],\n      shares:0,\n      events:[],\n      codePrefix:'',\n      incidentDate:'',\n      foundEvents:[],\n      show:true,\n      iAmEditing:false,\n      taskLabels: [],\n      search: null,\n      id:'',\n      valid: true,\n      files:[],\n      imageRaw:null,\n      receivedUrl:'',\n      imageUrl:'',\n      title: '',\n      sortDate:'',\n      author:'',\n      code:'',\n      category:'infant',\n      user:'iris',\n      size:'',\n      age:'',\n      colour:'',\n      material:'',\n      qty:'',\n      price:'',\n      isDragging: false,\n      dragCount: 0,\n      files: [],\n      codeRules: [\n        (v) => !!v || 'Code is required',\n        (v) => (v && v.length <= 80) || 'Code must be less than 8 characters'\n      ],\n      titleRules: [\n        (v) => !!v || 'Title is required',\n        (v) => (v && v.length <= 80) || 'Title must be less than 80 characters'\n      ],\n      sizeRules: [\n        (v) => (v && v.length <= 80) || 'Size must be less than 80 characters'\n      ],\n      ageRules: [\n        (v) => (v && v.length <= 100) || 'Age must be less than 100 characters'\n      ],\n      colourRules: [\n        (v) => (v && v.length <= 100) || 'Colour must be less than 100 characters'\n      ],\n      materialRules: [\n        (v) => (v && v.length <= 100) || 'Material must be less than 100 characters'\n      ],\n      qtyRules: [\n        (v) => !!v || 'Quantity is required',\n        (v) => (v && v.length <= 100) || 'Quantity must be less than 100 characters'\n      ],\n      priceRules: [\n        (v) => !!v || 'Price is required',\n        (v) => (v && v.length <= 100) || 'Price must be less than 100 characters'\n      ],\n      select: null,\n      checkbox: false,\n      imageChanged:false\n\n    }\n  },\n  computed: {\n    ...mapState('newsfeed-app', ['newsfeedlabels']),\n    isEdit() {\n      if (this.id!=null){\n        console.log(this.id)\n        if (this.id==''){\n          return false\n        }else{\n          return true\n        }\n      }\n\n    }\n  },\n  methods: {\n    ...mapMutations('newsfeed-app', ['updateNewsfeed', 'addNewsfeed']),\n    open(task, editing) {\n      console.log('OPEN')\n      if (task) {\n        this.task = task\n        this.iAmEditing = true\n        this.code = this.task.code\n        this.id = this.task.id\n        this.complete = this.task.complete\n        this.title = this.task.title\n        this.age = this.task.age\n        this.size = this.task.size\n        this.colour = this.task.colour\n        this.material = this.task.material\n        this.qty = this.task.qty\n        this.price = this.price.qty\n        this.codePrefix = this.codePrefix\n        this.images = this.task.images\n        this.taskLabels = this.task.labels\n        this.imageUrls = this.task.images\n        this.sortDate = this.task.sortDate\n        this.category = this.task.category\n      } else {\n        this.iAmEditing = false\n        this.id = ''\n        this.category = 'infant'\n        this.user='iris'\n        this.code = ''\n        this.complete = false\n        this.codePrefix = 'i'\n        this.title = ''\n        this.age = ''\n        this.size = ''\n        this.colour = ''\n        this.material = ''\n        this.qty = ''\n        this.price = ''\n        this.images = []\n        this.taskLabels = []\n        this.imageUrls = []\n        this.sortDate = 0\n      }\n\n      this.dialog = true\n    },\n    close() {\n      this.dialog = false\n    },\n    save() {\n      const { title, code, size, age, taskLabels, imageUrls, id, colour, material, qty, price, complete, user, codePrefix } = this\n      const taskEdit = {\n        title,\n        code,\n        size,\n        age,\n        id,\n        colour,\n        material,\n        qty,\n        price,\n        complete,\n        user,\n        codePrefix,\n        images: imageUrls,\n        labels: taskLabels\n      }\n\n      if (this.iAmEditing == true) {\n        this.updateNewsfeed({\n          ...this.task,\n          ...taskEdit\n        })\n      } else {\n        console.log ('PASS URL '+sortDate)\n        const taskNew = {\n        sortDate,\n        code,\n        title,\n        size,\n        age,\n        id,\n        colour,\n        material,\n        qty,\n        price,\n        complete,\n        user,\n        codePrefix,\n        images: imageUrls,\n        labels: taskLabels\n      }\n        this.addNewsfeed(taskNew)\n      }\n\n      this.close()\n    },\n    selectPrefix(){\n      if (this.user=='iris'){\n        switch (this.category) {\n          case 'infant':\n            this.codePrefix='i'\n            break;\n          case 'boys':\n            this.codePrefix='b'\n            break;\n          case 'girls':\n            this.codePrefix='g'\n            break;\n          case 'women':\n            this.codePrefix='w'\n            break;\n          case 'men':\n            this.codePrefix='m'\n            break;\n          default:\n            break;\n        }\n      }else{\n        switch (this.category) {\n          case 'infant':\n            this.codePrefix='vi'\n            break;\n          case 'boys':\n            this.codePrefix='vb'\n            break;\n          case 'girls':\n            this.codePrefix='vg'\n            break;\n          case 'women':\n            this.codePrefix='vw'\n            break;\n          case 'men':\n            this.codePrefix='vm'\n            break;\n          default:\n            break;\n      }\n      }\n\n    },\n\n    filter (item, queryText, itemText) {\n      const hasValue = (val) => val !== null ? val : ''\n\n      const text = hasValue(item.title)\n      const query = hasValue(queryText)\n\n      return text.toString()\n        .toLowerCase()\n        .indexOf(query.toString().toLowerCase()) > -1\n    },\n\n\n    async post () {\n\n      if (this.iAmEditing==false){\n      const unix = Date.now()\n\n      this.sortDate = unix\n\n      this.id = this.sortDate.toString()\n\n      const theDate = moment(unix).format('Do MMM YY')\n\n      this.time = firebase.firestore.Timestamp.fromDate(new Date())\n\n      this.taskLabels=[]\n      this.taskLabels.push(this.postType)\n\n      }else{\n\n        this.taskLabels=[]\n        this.taskLabels.push(this.postType)\n\n        console.log('doc id '+this.id)\n      }\n\n      if (this.imageChanged){\n\n\n\n      const imgName = this.image.name\n\n      const ext = imgName.slice(imgName.lastIndexOf('.'))\n\n      const uniqueTime = new Date().getTime()\n\n\n\n      const storageRef=firebase.storage().ref(`clothes/${this.codePrefix}/${this.code}${ext}`).put(this.image);\n        storageRef.on(`state_changed`,snapshot=>{\n        this.uploadValue = (snapshot.bytesTransferred/snapshot.totalBytes)*100;\n          }, error=>{console.log(error.message)},\n        ()=>{this.uploadValue=100;\n            storageRef.snapshot.ref.getDownloadURL().then((url)=>{\n              this.imageUrls.push(url)\n              //this.save()\n              });\n            }\n\n          );\n\n        //   db\n        //   .collection('newsfeed')\n        //   .doc(this.id)\n        //   .set({\n        //     label: this.taskLabels[0],\n        //     code: this.code,\n        //     size: this.title,\n        //     age: this.age,\n        //     colour: this.colour,\n        //     images: this.imageUrls,\n        //     material:this.material,\n        //     qty:this.qty,\n        //     user:this.user,\n        //     codePrefix: this.codePrefix,\n        //     price:this.price,\n        //     complete:this.complete\n        // })\n\n      } else {\n\n          db\n          .collection('newsfeed')\n          .doc(this.id)\n          .set({\n              label: this.taskLabels[0],\n              code: this.code,\n              size: this.title,\n              age: this.age,\n              colour: this.colour,\n              images: this.imageUrls,\n              material:this.material,\n              qty:this.qty,\n              price:this.price,\n              user:this.user,\n              codePrefix: this.codePrefix,\n              complete:this.complete\n\n      }).then((done)=>{\n                this.save()\n              })\n      }\n\n    },\n    imagePreview() {\n      const fileReader = new FileReader()\n\n      this.imageUrls=[]\n\n      if (this.files.length>0){\n\n      fileReader.addEventListener('load',() => {\n        this.imageUrls.push(fileReader.result)\n      })\n      fileReader.readAsDataURL(this.files)\n      this.images = this.files\n      this.imageChanged = true\n\n      }else{\n        this.images=[]\n        this.imageUrls=[]\n        this.imageChanged = false\n      }\n\n\n    },\n    validate () {\n      this.$refs.form.validate()\n    },\n    reset () {\n      this.$refs.form.reset()\n    },\n    resetValidation () {\n      this.$refs.form.resetValidation()\n    },\n\n        OnDragEnter(e) {\n            e.preventDefault();\n\n            this.dragCount++;\n            this.isDragging = true;\n            return false;\n        },\n        OnDragLeave(e) {\n            e.preventDefault();\n            this.dragCount--;\n            if (this.dragCount <= 0)\n                this.isDragging = false;\n        },\n        onInputChange(e) {\n            const files = e.target.files;\n            Array.from(files).forEach(file => this.addImage(file));\n        },\n        onDrop(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.isDragging = false;\n            const files = e.dataTransfer.files;\n            Array.from(files).forEach(file => this.addImage(file));\n        },\n        addImage(file) {\n            if (!file.type.match('image.*')) {\n                this.$toastr.e(`${file.name} is not an image`);\n                return;\n            }\n            this.files.push(file);\n            const img = new Image(),\n                reader = new FileReader();\n            reader.onload = (e) => this.images.push(e.target.result);\n            reader.readAsDataURL(file);\n        },\n        getFileSize(size) {\n            const fSExt = ['Bytes', 'KB', 'MB', 'GB'];\n            let i = 0;\n\n            while(size > 900) {\n                size /= 1024;\n                i++;\n            }\n            return `${(Math.round(size * 100) / 100)} ${fSExt[i]}`;\n        },\n\n  }\n}\n</script>\n"]}]}