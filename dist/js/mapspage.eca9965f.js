(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mapspage"],{"481a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-grow-1 flex-column"},[a("v-card",[a("map-card",{staticClass:"h-full",staticStyle:{"min-height":"380px"},attrs:{value:1837.32,percentage:3.2,loading:e.isLoading1,"percentage-label":e.$t("dashboard.lastweek"),"action-label":e.$t("dashboard.viewReport")}})],1),a("v-card",{staticClass:"grey lighten-5 mt-2"},[a("v-container",[a("v-row",[a("v-col",{staticClass:"title cyan lighten-4 white--text",attrs:{cols:"3"}},[a("v-switch",{staticClass:"ml-4",attrs:{inset:"",color:"red",label:"Mode: "+e.chartType.toString()},on:{change:function(t){return e.toggleChartType(t)}},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}})],1),a("v-col",{staticClass:"deep-purple lighten-4 white--text",attrs:{cols:"3"}},[a("v-dialog",{ref:"dialog",attrs:{"return-value":e.dates,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.dates=t},"update:return-value":function(t){e.dates=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({staticClass:"title",attrs:{label:"Select Date Range","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},"v-text-field",s,!1),n))]}}]),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("v-date-picker",{attrs:{range:""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$refs.dialog.save(e.dates),e.dateChangedChecker()}}},[e._v(" OK ")])],1)],1)],1),a("v-col",{staticClass:"green lighten-4 mt-0 pt-1",attrs:{cols:"3"}},[a("v-subheader",{staticClass:"justify-center title"},[e._v("Select time range")]),a("v-range-slider",{staticClass:"align-center",attrs:{max:e.timemax,min:e.timemin,"hide-details":""},on:{change:function(t){return e.dateChangedChecker()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.timerange[0],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){e.$set(e.timerange,0,t),e.dateChangedChecker()}}})]},proxy:!0},{key:"append",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.timerange[1],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){e.$set(e.timerange,1,t),e.dateChangedChecker()}}})]},proxy:!0}]),model:{value:e.timerange,callback:function(t){e.timerange=t},expression:"timerange"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:!e.mode,expression:"!mode"}],staticClass:"blue lighten-4 mt-0 pt-1",attrs:{cols:"3"}},[a("v-subheader",{staticClass:"justify-center title"},[e._v("Set min and max age")]),a("v-range-slider",{staticClass:"align-center",attrs:{max:e.max,min:e.min,"hide-details":""},on:{change:function(t){return e.dateChangedChecker()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.range[0],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){e.$set(e.range,0,t),e.dateChangedChecker()}}})]},proxy:!0},{key:"append",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.range[1],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){e.$set(e.range,1,t),e.dateChangedChecker()}}})]},proxy:!0}]),model:{value:e.range,callback:function(t){e.range=t},expression:"range"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:e.mode,expression:"mode"}],staticClass:"green lighten-4  mb-0 pb-0 pt-4",attrs:{cols:"3"}},[a("span",{staticClass:"d-inline-flex"},[a("v-text-field",{attrs:{color:"title",outlined:"",label:"Enter mobile number",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-btn",{staticClass:"ml-2",attrs:{"x-large":"",elevation:"4",color:"primary"},on:{click:e.searchUsersByEmail}},[a("v-icon",{attrs:{left:""}},[e._v(" large mdi-feature-search-outline ")]),e._v(" Search ")],1)],1)])],1),a("v-row",[a("v-col",{staticClass:"ml-0 px-0 outlined",attrs:{cols:"6"}},[a("v-card",{staticClass:"red lighten-5 pb-4 mr-1 px-0"},[a("v-card-title",{staticClass:"red lighten-1 justify-center"},[a("v-icon",{attrs:{left:"",large:"",color:"white lighten-2"}},[e._v("mdi-alarm-light-outline ")]),a("span",{staticClass:"headline white--text"},[e._v("SOS")])],1),a("v-divider"),a("v-row",{staticClass:"flex-grow-0",attrs:{dense:""}},[a("v-col",{attrs:{cols:"4"}},[a("v-checkbox",{staticClass:"px-2 pt-1",attrs:{label:"Confront",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("challenge")}},model:{value:e.challengeCheck,callback:function(t){e.challengeCheck=t},expression:"challengeCheck"}}),a("v-checkbox",{staticClass:"px-2",attrs:{label:"Confront SMS",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("challenge-sms")}},model:{value:e.challengeSMSCheck,callback:function(t){e.challengeSMSCheck=t},expression:"challengeSMSCheck"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-checkbox",{staticClass:"px-2 pt-1",attrs:{label:"User SMS",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("user-sms")}},model:{value:e.userSMSCheck,callback:function(t){e.userSMSCheck=t},expression:"userSMSCheck"}}),a("v-checkbox",{staticClass:"px-2",attrs:{label:"Alarm",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("alarm")}},model:{value:e.alarmCheck,callback:function(t){e.alarmCheck=t},expression:"alarmCheck"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-checkbox",{staticClass:"px-2 pt-1",attrs:{label:"Secret",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("secret")}},model:{value:e.secretCheck,callback:function(t){e.secretCheck=t},expression:"secretCheck"}}),a("v-checkbox",{staticClass:"px-2",attrs:{label:"Secret SMS",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("secret-sms")}},model:{value:e.secretSMSCheck,callback:function(t){e.secretSMSCheck=t},expression:"secretSMSCheck"}})],1)],1)],1)],1),a("v-col",{staticClass:"px-1",attrs:{cols:"3"}},[a("v-card",{staticClass:"green lighten-5 pb-4"},[a("v-card-title",{staticClass:"green lighten-1 justify-center"},[a("v-icon",{attrs:{left:"",large:"",color:"white darken-2"}},[e._v("mdi-road-variant ")]),a("span",{staticClass:"headline white--text"},[e._v("Travel")])],1),a("v-checkbox",{staticClass:"px-2 pt-2",attrs:{label:"Zone",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("zone")}},model:{value:e.zoneCheck,callback:function(t){e.zoneCheck=t},expression:"zoneCheck"}}),a("v-checkbox",{staticClass:"px-2",attrs:{label:"Zone SMS",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("zones-sms")}},model:{value:e.zoneSMSCheck,callback:function(t){e.zoneSMSCheck=t},expression:"zoneSMSCheck"}})],1)],1),a("v-col",{staticClass:"px-1",attrs:{cols:"3"}},[a("v-card",{staticClass:"amber lighten-5 pb-4"},[a("v-card-title",{staticClass:"amber darken-1 justify-center"},[a("v-icon",{attrs:{left:"",large:"",color:"white darken-2"}},[e._v("mdi-alarm ")]),a("span",{staticClass:"headline white--text"},[e._v("Reminder")])],1),a("v-checkbox",{staticClass:"px-2 pt-2",attrs:{label:"Reminder",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("timer")}},model:{value:e.timerCheck,callback:function(t){e.timerCheck=t},expression:"timerCheck"}}),a("v-checkbox",{staticClass:"px-2",attrs:{label:"Reminder SMS",color:"primary","hide-details":""},on:{change:function(t){return e.checkBoxTest("timer-sms")}},model:{value:e.timerSMSCheck,callback:function(t){e.timerSMSCheck=t},expression:"timerSMSCheck"}})],1)],1)],1)],1)],1)],1)},s=[],r=(a("99af"),a("4160"),a("caad"),a("c975"),a("a434"),a("4fad"),a("07ac"),a("ac1f"),a("2532"),a("1276"),a("159b"),a("3835")),c=a("5530"),i=a("ade3"),o=(a("96cf"),a("1da1")),l=a("8fa9"),h=a("56d7"),u=a("c1df"),d=a.n(u),p=(h["db"].collection("users"),{components:{MapCard:l["a"]},data:function(){return{timemin:0,timemax:24,timerange:[0,24],max:99,min:0,range:[0,99],form:!1,mode:!1,chartType:"Group",loadingInterval:null,email:"",foundUser:null,isLoading1:!0,fromDateMenu:!1,fromDateVal:null,dates:[],modal:!1,minDate:"2019-07-04",maxDate:"2030-08-30",allSearchDates:[],allResults:[],challengeList:[],challengeSMSList:[],secretList:[],secretSMSList:[],timerList:[],timerSMSList:[],userSMSList:[],zoneList:[],zoneSMSList:[],alarmList:[],sendMapData:[],selectChallenge:!0,selectChallengeSMS:!0,selectSecret:!0,selectSecretSMS:!1,selectTimer:!0,selectTimerSMS:!0,selectZone:!1,selectZoneSMS:!1,selectUserSMS:!0,selectAlarm:!0,groupChallengeCount:0,groupChallengeSMSCount:0,groupSecretCount:0,groupSecretSMSCount:0,groupTimerCount:0,groupTimerSMSCount:0,groupZoneCount:0,groupZoneSMSCount:0,groupUserSMSCount:0,groupAlarmCount:0,challengeCheck:!1,challengeSMSCheck:!1,secretCheck:!1,secretSMSCheck:!1,timerCheck:!1,timerSMSCheck:!1,zoneCheck:!1,zoneSMSCheck:!1,userSMSCheck:!1,alarmCheck:!1,lowerAge:1,upperAge:99,lowerTime:0,upperTime:24,activeCheckBoxes:[],mapIcons:{timer:"https://bhaithamen.web.app/images/maptimer.png","timer-sms":"https://bhaithamen.web.app/images/maptimersms.png",challenge:"https://bhaithamen.web.app/images/mapconfront.png","challenge-sms":"https://bhaithamen.web.app/images/mapconfrontsms.png",secret:"https://bhaithamen.web.app/images/mapsecret.png","secret-sms":"https://bhaithamen.web.app/images/mapsecretsms.png",zone:"https://bhaithamen.web.app/images/mapzone.png","zones-sms":"https://bhaithamen.web.app/images/mapzonesms.png",alarm:"https://bhaithamen.web.app/images/mapalarm.png","user-sms":"https://bhaithamen.web.app/images/mapusersms.png"}}},mounted:function(){var e=this,t=0;this.loadingInterval=setInterval((function(){e["isLoading".concat(t++)]=!1,4===t&&e.clear()}),400)},beforeDestroy:function(){this.clear()},methods:{clearAllCriteria:function(){this.challengeList=[],this.challengeSMSList=[],this.secreList=[],this.secreSMSList=[],this.timerList=[],this.timerSMSList=[],this.userSMSList=[],this.zoneList=[],this.zoneSMSList=[],this.alarmList=[],this.sendMapData=[],this.challengeCheck=!1,this.challengeSMSCheck=!1,this.secretCheck=!1,this.secretSMSCheck=!1,this.timerCheck=!1,this.timerSMSCheck=!1,this.zoneCheck=!1,this.zoneSMSCheck=!1,this.userSMSCheck=!1,this.alarmCheck=!1,this.activeCheckBoxes=[],this.$store.dispatch("queryuser/setNewMapData",Object.values(this.sendMapData))},toggleChartType:function(e){console.log(e),this.clearAllCriteria(),this.chartType=1==e?"Individual":"Group"},clear:function(){clearInterval(this.loadingInterval)},checkBoxTest:function(e){console.log(e+" "+this.challengeCheck),this.activeCheckBoxes.includes(e)?this.activeCheckBoxes.splice(this.activeCheckBoxes.indexOf(e),1):this.activeCheckBoxes.push(e),console.log(this.activeCheckBoxes),"Group"==this.chartType?this.getGroupData(e,!1):this.selectChartColumns()},dateChangedChecker:function(){if(this.sendMapData=[],"Group"==this.chartType)for(var e=0;e<this.activeCheckBoxes.length;e++)this.getGroupData(this.activeCheckBoxes[e],!0);else this.searchUsersByEmail()},changeData:function(){"Group"==this.chartType?(this.selectChallengeSMS=!1,this.selectChartColumns()):this.searchUsersByEmail()},setTimeUserEventsDocs:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,h["db"].collection("users").get().then((function(e){e.forEach((function(e){t.push(e.ref.id)}))}));case 3:for(console.log(t),a=0;a<t.length;a++)h["db"].collection("users").doc(t[a]).collection("events").get().then((function(e){e.forEach((function(e){var t=e.ref.id.split(" ")[0];console.log(t);var a=Date.parse(t);e.ref.update({createdAt:a}),console.log(d()(a).format("MMM Do YY"))}))}));case 5:case"end":return e.stop()}}),e)})))()},setTimeAllDocs:function(){h["db"].collection("alarm").get().then((function(e){e.forEach((function(e){var t=e.ref.id.split(" ")[0];console.log(t);var a=Date.parse(t);e.ref.update({createdAt:a}),console.log(d()(a).format("MMM Do YY"))}))}))},getGroupData:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var s,r,c,o,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=Date.parse(a.dates[0]),r=Date.parse(a.dates[1]),null!=a.dates[0]){n.next=4;break}return n.abrupt("return");case 4:if(null==a.dates[1]&&(a.dates[1]=a.dates[0]),c=[],s<r?(c.push(s),c.push(r)):(c.push(r),c.push(s)),console.log(c),a.allSearchDates=a.getDates(c[0],c[1]),console.log(c[1]),a.$store.dispatch("queryuser/setDates",a.allSearchDates),o=[],t){n.next=17;break}for(l=!1,u=a.sendMapData.length-1;u>=0;u--)a.sendMapData[u]["infoText"]==e?(console.log("remove it"),l=!0,console.log(a.sendMapData[u]),a.sendMapData.splice(u,1),a.$store.dispatch("queryuser/setNewMapData",Object.values(a.sendMapData))):console.log("add it");if(!l){n.next=17;break}return n.abrupt("return");case 17:return n.next=19,h["db"].collection(e).orderBy("createdAt").startAt(c[0]).endAt(c[1]).get().then((function(e){e.empty?console.log("cannot find"):e.forEach((function(e){var t=[],n=e.id,s=d()(n).format("MMM Do YY");e.data()["events"].forEach((function(e){var n=1e3*e.time.seconds,s=parseInt(d()(n).format("HH"));s>=a.timerange[0]&&s<=a.timerange[1]&&t.push({doc:e})})),o.push(Object(i["a"])({},s,t))}))}));case 19:return n.next=21,a.fillGroupChartArray(o,e);case 21:a.$store.dispatch("queryuser/setNewMapData",Object.values(a.sendMapData));case 22:case"end":return n.stop()}}),n)})))()},searchUsersByEmail:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,e.message="",e.foundUser=null,e.challengeList=[],e.challengeSMSList=[],e.secreList=[],e.secreSMSList=[],e.timerList=[],e.timerSMSList=[],e.userSMSList=[],e.zoneList=[],e.zoneSMSList=[],e.alarmList=[],a="+88"!=e.email.substring(0,3)?"+88"+e.email:e.email,t.next=11,h["db"].collection("users").where("userPhone","==",a).get();case 11:if(n=t.sent,n.empty){t.next=29;break}return s=n.docs[0].id,r=n.docs[0].data(),e.foundUser=Object(c["a"])({id:s},r),t.next=18,h["db"].collection("users").doc(s).get();case 18:if(i=t.sent,null===i){t.next=26;break}return o=i.data(),t.next=23,e.$store.dispatch("queryuser/setUserData",{id:i.id,name:o.username,email:o.email});case 23:e.searchUserAndDate(s),t.next=27;break;case 26:console.log("NO USER");case 27:t.next=30;break;case 29:e.message="No user with that email found.";case 30:e.isLoading=!1;case 31:case"end":return t.stop()}}),t)})))()},getDates:function(e,t){var a=[],n=d()(e);t=d()(t);while(n<=t)a.push(d()(n).format("MMM Do YY")),n=d()(n).add(1,"days");return a},searchUserAndDate:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,s,r,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=Date.parse(t.dates[0]),s=Date.parse(t.dates[1]),null!=t.dates[0]){a.next=4;break}return a.abrupt("return");case 4:null==t.dates[1]&&(t.dates[1]=t.dates[0]),r=[],n<s?(r.push(n),r.push(s)):(r.push(s),r.push(n)),console.log(r),t.allSearchDates=t.getDates(r[0],r[1]),t.$store.dispatch("queryuser/setDates",t.allSearchDates),c=[],h["db"].collection("users").doc(e).collection("events").orderBy("createdAt").startAt(r[0]).endAt(r[1]).get().then((function(e){e.empty?console.log("cannot find"):(e.forEach((function(e){var a=[],n=e.id;e.data()["events"].forEach((function(e){var n=1e3*e.time.seconds,s=parseInt(d()(n).format("HH"));s>=t.timerange[0]&&s<=t.timerange[1]&&a.push({doc:e})})),c.push(Object(i["a"])({},n,a))})),t.allResults=c,t.createArrays())}));case 12:case"end":return a.stop()}}),a)})))()},createArrays:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.allResults.forEach((function(t){for(var a=0,n=Object.entries(t);a<n.length;a++){var s=Object(r["a"])(n[a],2),c=s[0],o=s[1];console.log("NEW ".concat(c,": ").concat(o));for(var l=c,h=0,u=Object.entries(t[l]);h<u.length;h++){var p=Object(r["a"])(u[h],2),m=p[0],g=p[1];console.log("".concat(m,": ").concat(g));var f=d()(g["doc"]["time"].toDate()).format("MMM Do YY");switch(console.log(f),g["doc"]["category"]){case"challenge":e.challengeList.push(Object(i["a"])({},f,g["doc"]));break;case"challenge-sms":e.challengeSMSList.push(Object(i["a"])({},f,g["doc"]));break;case"secret":e.secretList.push(Object(i["a"])({},f,g["doc"]));break;case"secret-sms":e.secretSMSList.push(Object(i["a"])({},f,g["doc"]));break;case"timer":e.timerList.push(Object(i["a"])({},f,g["doc"]));break;case"timer-sms":e.timerSMSList.push(Object(i["a"])({},f,g["doc"]));break;case"user-sms":e.userSMSList.push(Object(i["a"])({},f,g["doc"]));break;case"zone":e.zoneList.push(Object(i["a"])({},f,g["doc"]));break;case"zones-sms":e.zoneSMSList.push(Object(i["a"])({},f,g["doc"]));break;case"alarm":e.alarmList.push(Object(i["a"])({},f,g["doc"]));break;default:break}}}})),e.selectChartColumns();case 2:case"end":return t.stop()}}),t)})))()},selectChartColumns:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.sendMapData=[],console.log(e.alarmList),!(e.challengeList.length>0&&e.challengeCheck)){t.next=5;break}return t.next=5,e.fillChartArray(e.challengeList,"Challenge");case 5:if(!(e.challengeSMSList.length>0&&e.challengeSMSCheck)){t.next=8;break}return t.next=8,e.fillChartArray(e.challengeSMSList,"Challenge SMS");case 8:if(!(e.secretList.length>0&&e.secretCheck)){t.next=11;break}return t.next=11,e.fillChartArray(e.secretList,"Secret");case 11:if(!(e.secretSMSList.length>0&&e.secretSMSCheck)){t.next=14;break}return t.next=14,e.fillChartArray(e.secretSMSList,"Secret SMS");case 14:if(!(e.timerList.length>0&&e.timerCheck)){t.next=17;break}return t.next=17,e.fillChartArray(e.timerList,"Timer");case 17:if(!(e.timerSMSList.length>0&&e.timerSMSCheck)){t.next=20;break}return t.next=20,e.fillChartArray(e.timerSMSList,"Timer SMS");case 20:if(!(e.zoneList.length>0&&e.zoneCheck)){t.next=23;break}return t.next=23,e.fillChartArray(e.zoneList,"Zone");case 23:if(!(e.zoneSMSList.length>0&&e.zoneSMSCheck)){t.next=26;break}return t.next=26,e.fillChartArray(e.zoneSMSList,"Zone SMS");case 26:if(!(e.userSMSList.length>0&&e.userSMSCheck)){t.next=29;break}return t.next=29,e.fillChartArray(e.userSMSList,"User SMS");case 29:if(!(e.alarmList.length>0&&e.alarmCheck)){t.next=32;break}return t.next=32,e.fillChartArray(e.alarmList,"Alarm");case 32:e.$store.dispatch("queryuser/setNewMapData",Object.values(e.sendMapData));case 33:case"end":return t.stop()}}),t)})))()},fillChartArray:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,c,o,l,h,u,d,p,m,g,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n={},s=0;s<a.allSearchDates.length;s++)Object.assign(n,Object(i["a"])({},a.allSearchDates[s],0));for(c=0;c<e.length;c++)for(o=0,l=Object.entries(e[c]);o<l.length;o++)h=Object(r["a"])(l[o],2),u=h[0],d=h[1],console.log("NEW ".concat(u,": ").concat(d)),console.log(d.location.latitude),p=d.location.latitude,m=d.location.longitude,g=d.category,f=a.mapIcons[d.category],console.log("MPPPP "+f),a.sendMapData.push({position:{lat:p,lng:m},infoText:g,icon:f});return console.log(n),t.abrupt("return");case 5:case"end":return t.stop()}}),t)})))()},fillGroupChartArray:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,c,o,l,h,u,d,p,m,g,f,S,k;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n={},{},s=0;s<a.allSearchDates.length;s++)Object.assign(n,Object(i["a"])({},a.allSearchDates[s],0));for(c=0;c<e.length;c++)for(o=0,l=Object.entries(e[c]);o<l.length;o++)for(h=Object(r["a"])(l[o],2),u=h[0],d=h[1],console.log("NEW ".concat(u,": ").concat(d)),n[u]=d.length,p=0;p<d.length;p++)m=d[p]["doc"]["location"],g=m.latitude,f=m.longitude,S=d[p]["doc"]["category"],k=a.mapIcons[d[p]["doc"]["category"]],a.sendMapData.push({position:{lat:g,lng:f},infoText:S,icon:k});return t.abrupt("return");case 5:case"end":return t.stop()}}),t)})))()}}}),m=p,g=a("2877"),f=a("6544"),S=a.n(f),k=a("8336"),C=a("b0afa"),b=a("99d9"),v=a("ac7c"),x=a("62ad"),M=a("a523"),y=a("2e4b"),w=a("169a"),L=a("ce7e"),D=a("132d"),O=a("5963"),j=a("0fd9"),T=a("2fa4"),A=a("e0c7"),z=a("b73d"),B=a("8654"),R=Object(g["a"])(m,n,s,!1,null,null,null);t["default"]=R.exports;S()(R,{VBtn:k["a"],VCard:C["a"],VCardTitle:b["d"],VCheckbox:v["a"],VCol:x["a"],VContainer:M["a"],VDatePicker:y["a"],VDialog:w["a"],VDivider:L["a"],VIcon:D["a"],VRangeSlider:O["a"],VRow:j["a"],VSpacer:T["a"],VSubheader:A["a"],VSwitch:z["a"],VTextField:B["a"]})},"8fa9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("gmap-map",{staticStyle:{width:"100%",height:"500px"},attrs:{center:e.center,zoom:15}},[a("gmap-info-window",{attrs:{options:e.infoOptions,position:e.infoWindowPos,opened:e.infoWinOpen},on:{closeclick:function(t){e.infoWinOpen=!1}}}),e._l(e.mapMarkers,(function(t,n){return a("gmap-marker",{key:n,attrs:{position:t.position,clickable:!0,icon:t.icon},on:{click:function(a){return e.toggleInfoWindow(t,n)}}})}))],2)],1)},s=[],r={data:function(){return{center:{lat:23.8103,lng:90.4125},infoWindowPos:null,infoWinOpen:!1,currentMidx:null,infoOptions:{content:"",pixelOffset:{width:0,height:-35}},markers:[{position:{lat:47.376332,lng:8.547511},infoText:"<strong>Marker 1</strong>"},{position:{lat:47.374592,lng:8.548867},infoText:"<strong>Marker 2</strong>"},{position:{lat:47.379592,lng:8.549867},infoText:"<strong>Marker 3</strong>"}]}},computed:{mapMarkers:function(){var e=this.$store.state.queryuser.markers;return e}},methods:{toggleInfoWindow:function(e,t){this.infoWindowPos=e.position,this.infoOptions.content=e.infoText,this.currentMidx===t?this.infoWinOpen=!this.infoWinOpen:(this.infoWinOpen=!0,this.currentMidx=t)}}},c=r,i=a("2877"),o=Object(i["a"])(c,n,s,!1,null,null,null);t["a"]=o.exports}}]);