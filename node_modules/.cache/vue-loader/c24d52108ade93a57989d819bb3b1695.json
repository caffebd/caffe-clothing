{"remainingRequest":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luke/Documents/VUE/caffe-clothing/src/apps/clothesread/components/ClothesreadCompose.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luke/Documents/VUE/caffe-clothing/src/apps/clothesread/components/ClothesreadCompose.vue","mtime":1607422399850},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JwoKLyoKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8IFRPRE8gQ29tcG9zZSBDb21wb25lbnQKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8CnwgQ29tcG9zZSBuZXcgdGFza3MgZWRpdG9yCiovCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwppbXBvcnQgeyBkYiB9IGZyb20gJy4uLy4uLy4uL21haW4nCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZScKaW1wb3J0IHZ1ZTJEcm9wem9uZSBmcm9tICd2dWUyLWRyb3B6b25lJwppbXBvcnQgInZ1ZTItZHJvcHpvbmUvZGlzdC92dWUyRHJvcHpvbmUubWluLmNzcyIKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIHZ1ZURyb3B6b25lOiB2dWUyRHJvcHpvbmUKICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgZHJvcHpvbmVPcHRpb25zOiB7CiAgICAgICAgdXJsOiAiaHR0cHM6Ly9odHRwYmluLm9yZy9wb3N0IiwKICAgICAgICB0aHVtYm5haWxXaWR0aDogMjUwLAogICAgICAgIHRodW1ibmFpbEhlaWdodDogMjUwLAogICAgICAgIGFkZFJlbW92ZUxpbmtzOiB0cnVlLAogICAgICAgIGFjY2VwdGVkRmlsZXM6ICIuanBnLCAuanBlZywgLnBuZyIKICAgICAgfSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgbG9hZGluZzp0cnVlLAogICAgICB0aXRsZTogJycsCiAgICAgIHRpbWU6ICcnLAogICAgICBsaWtlczpbXSwKICAgICAgc2hhcmVzOjAsCiAgICAgIGV2ZW50czpbXSwKICAgICAgY29kZVByZWZpeDonJywKICAgICAgaW5jaWRlbnREYXRlOicnLAogICAgICBmb3VuZEV2ZW50czpbXSwKICAgICAgc2hvdzp0cnVlLAogICAgICBpQW1FZGl0aW5nOmZhbHNlLAogICAgICB0YXNrTGFiZWxzOiBbXSwKICAgICAgc2VhcmNoOiBudWxsLAogICAgICBpZDonJywKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIGZpbGVzOltdLAogICAgICBpbWFnZVJhdzpudWxsLAogICAgICByZWNlaXZlZFVybDonJywKICAgICAgaW1hZ2VVcmw6JycsCiAgICAgIGltYWdlVXJsczpbXSwKICAgICAgdGl0bGU6ICcnLAogICAgICBzb3J0RGF0ZTonJywKICAgICAgYXV0aG9yOicnLAogICAgICBjb2RlOicnLAogICAgICBjYXRlZ29yeTonaW5mYW50JywKICAgICAgdXNlcjonaXJpcycsCiAgICAgIHNpemU6JycsCiAgICAgIGFnZTonJywKICAgICAgY29sb3VyOicnLAogICAgICBtYXRlcmlhbDonJywKICAgICAgcXR5OicnLAogICAgICBwcmljZTonJywKICAgICAgY29kZVJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICEhdiB8fCAnQ29kZSBpcyByZXF1aXJlZCcsCiAgICAgICAgKHYpID0+ICh2ICYmIHYubGVuZ3RoIDw9IDgwKSB8fCAnQ29kZSBtdXN0IGJlIGxlc3MgdGhhbiA4IGNoYXJhY3RlcnMnCiAgICAgIF0sCiAgICAgIHRpdGxlUnVsZXM6IFsKICAgICAgICAodikgPT4gISF2IHx8ICdUaXRsZSBpcyByZXF1aXJlZCcsCiAgICAgICAgKHYpID0+ICh2ICYmIHYubGVuZ3RoIDw9IDgwKSB8fCAnVGl0bGUgbXVzdCBiZSBsZXNzIHRoYW4gODAgY2hhcmFjdGVycycKICAgICAgXSwKICAgICAgc2l6ZVJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICh2ICYmIHYubGVuZ3RoIDw9IDgwKSB8fCAnU2l6ZSBtdXN0IGJlIGxlc3MgdGhhbiA4MCBjaGFyYWN0ZXJzJwogICAgICBdLAogICAgICBhZ2VSdWxlczogWwogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSAxMDApIHx8ICdBZ2UgbXVzdCBiZSBsZXNzIHRoYW4gMTAwIGNoYXJhY3RlcnMnCiAgICAgIF0sCiAgICAgIGNvbG91clJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICh2ICYmIHYubGVuZ3RoIDw9IDEwMCkgfHwgJ0NvbG91ciBtdXN0IGJlIGxlc3MgdGhhbiAxMDAgY2hhcmFjdGVycycKICAgICAgXSwKICAgICAgbWF0ZXJpYWxSdWxlczogWwogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSAxMDApIHx8ICdNYXRlcmlhbCBtdXN0IGJlIGxlc3MgdGhhbiAxMDAgY2hhcmFjdGVycycKICAgICAgXSwKICAgICAgcXR5UnVsZXM6IFsKICAgICAgICAodikgPT4gISF2IHx8ICdRdWFudGl0eSBpcyByZXF1aXJlZCcsCiAgICAgICAgKHYpID0+ICh2ICYmIHYubGVuZ3RoIDw9IDEwMCkgfHwgJ1F1YW50aXR5IG11c3QgYmUgbGVzcyB0aGFuIDEwMCBjaGFyYWN0ZXJzJwogICAgICBdLAogICAgICBwcmljZVJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICEhdiB8fCAnUHJpY2UgaXMgcmVxdWlyZWQnLAogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSAxMDApIHx8ICdQcmljZSBtdXN0IGJlIGxlc3MgdGhhbiAxMDAgY2hhcmFjdGVycycKICAgICAgXSwKICAgICAgc2VsZWN0OiBudWxsLAogICAgICBjaGVja2JveDogZmFsc2UsCiAgICAgIGltYWdlQ2hhbmdlZDpmYWxzZQoKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSgnbmV3c2ZlZWQtYXBwJywgWyduZXdzZmVlZGxhYmVscyddKSwKICAgIGlzRWRpdCgpIHsKICAgICAgaWYgKHRoaXMuaWQhPW51bGwpewogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaWQpCiAgICAgICAgaWYgKHRoaXMuaWQ9PScnKXsKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH1lbHNlewogICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICB9CiAgICAgIH0KCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoJ25ld3NmZWVkLWFwcCcsIFsndXBkYXRlTmV3c2ZlZWQnLCAnYWRkTmV3c2ZlZWQnXSksCiAgICBvcGVuKHRhc2ssIGVkaXRpbmcpIHsKICAgICAgY29uc29sZS5sb2coJ09QRU4nKQogICAgICBpZiAodGFzaykgewogICAgICAgIHRoaXMudGFzayA9IHRhc2sKICAgICAgICB0aGlzLmlBbUVkaXRpbmcgPSB0cnVlCiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy50YXNrLmNvZGUKICAgICAgICB0aGlzLmlkID0gdGhpcy50YXNrLmlkCiAgICAgICAgdGhpcy5jb21wbGV0ZSA9IHRoaXMudGFzay5jb21wbGV0ZQogICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLnRhc2sudGl0bGUKICAgICAgICB0aGlzLmFnZSA9IHRoaXMudGFzay5hZ2UKICAgICAgICB0aGlzLnNpemUgPSB0aGlzLnRhc2suc2l6ZQogICAgICAgIHRoaXMuY29sb3VyID0gdGhpcy50YXNrLmNvbG91cgogICAgICAgIHRoaXMubWF0ZXJpYWwgPSB0aGlzLnRhc2subWF0ZXJpYWwKICAgICAgICB0aGlzLnF0eSA9IHRoaXMudGFzay5xdHkKICAgICAgICB0aGlzLnByaWNlID0gdGhpcy50YXNrLnByaWNlCiAgICAgICAgdGhpcy5jb2RlUHJlZml4ID0gdGhpcy50YXNrLmNvZGVQcmVmaXgKICAgICAgICB0aGlzLmltYWdlcyA9IHRoaXMudGFzay5pbWFnZXMKICAgICAgICB0aGlzLnRhc2tMYWJlbHMgPSB0aGlzLnRhc2subGFiZWxzCiAgICAgICAgdGhpcy5pbWFnZVVybHMgPSB0aGlzLnRhc2suaW1hZ2VzCiAgICAgICAgdGhpcy5zb3J0RGF0ZSA9IHRoaXMudGFzay5zb3J0RGF0ZQogICAgICAgIHRoaXMuY2F0ZWdvcnkgPSB0aGlzLnRhc2suY2F0ZWdvcnkKICAgICAgICB0aGlzLnVzZXIgPSB0aGlzLnRhc2sudXNlcgogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaUFtRWRpdGluZyA9IGZhbHNlCiAgICAgICAgdGhpcy5pZCA9ICcnCiAgICAgICAgdGhpcy5jYXRlZ29yeSA9ICdpbmZhbnQnCiAgICAgICAgdGhpcy51c2VyPSdpcmlzJwogICAgICAgIHRoaXMuY29kZSA9ICcnCiAgICAgICAgdGhpcy5jb21wbGV0ZSA9IGZhbHNlCiAgICAgICAgdGhpcy5jb2RlUHJlZml4ID0gJ2knCiAgICAgICAgdGhpcy50aXRsZSA9ICcnCiAgICAgICAgdGhpcy5hZ2UgPSAnJwogICAgICAgIHRoaXMuc2l6ZSA9ICcnCiAgICAgICAgdGhpcy5jb2xvdXIgPSAnJwogICAgICAgIHRoaXMubWF0ZXJpYWwgPSAnJwogICAgICAgIHRoaXMucXR5ID0gJycKICAgICAgICB0aGlzLnByaWNlID0gJycKICAgICAgICB0aGlzLmltYWdlcyA9IFtdCiAgICAgICAgdGhpcy50YXNrTGFiZWxzID0gW10KICAgICAgICB0aGlzLmltYWdlVXJscyA9IFtdCiAgICAgICAgdGhpcy5zb3J0RGF0ZSA9IDAKICAgICAgfQoKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlCiAgICB9LAogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2UKICAgIH0sCiAgICBzYXZlKCkgewogICAgICBjb25zdCB7Y2F0ZWdvcnksIHRpdGxlLCBjb2RlLCBzaXplLCBhZ2UsIHRhc2tMYWJlbHMsIGltYWdlVXJscywgaWQsCiAgICAgICAgY29sb3VyLCBtYXRlcmlhbCwgcXR5LCBwcmljZSwgY29tcGxldGUsIHVzZXIsIGNvZGVQcmVmaXgsIHNvcnREYXRlIH0gPSB0aGlzCgogICAgICBjb25zdCB0YXNrRWRpdCA9IHsKICAgICAgICB0aXRsZSwKICAgICAgICBzb3J0RGF0ZSwKICAgICAgICBjYXRlZ29yeSwKICAgICAgICBjb2RlLAogICAgICAgIHNpemUsCiAgICAgICAgYWdlLAogICAgICAgIGlkLAogICAgICAgIGNvbG91ciwKICAgICAgICBtYXRlcmlhbCwKICAgICAgICBxdHksCiAgICAgICAgcHJpY2UsCiAgICAgICAgY29tcGxldGUsCiAgICAgICAgdXNlciwKICAgICAgICBjb2RlUHJlZml4LAogICAgICAgIGltYWdlczogaW1hZ2VVcmxzLAogICAgICAgIGxhYmVsOiBbY2F0ZWdvcnldLAoKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaUFtRWRpdGluZyA9PSB0cnVlKSB7CiAgICAgICAgdGhpcy51cGRhdGVOZXdzZmVlZCh7CiAgICAgICAgICAuLi50aGlzLnRhc2ssCiAgICAgICAgICAuLi50YXNrRWRpdAogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2cgKCdQQVNTIFVSTCAnK3NvcnREYXRlKQogICAgICAgIGNvbnN0IHRhc2tOZXcgPSB7CiAgICAgICAgc29ydERhdGUsCiAgICAgICAgY2F0ZWdvcnksCiAgICAgICAgY29kZSwKICAgICAgICB0aXRsZSwKICAgICAgICBzaXplLAogICAgICAgIGFnZSwKICAgICAgICBpZCwKICAgICAgICBjb2xvdXIsCiAgICAgICAgbWF0ZXJpYWwsCiAgICAgICAgcXR5LAogICAgICAgIHByaWNlLAogICAgICAgIGNvbXBsZXRlLAogICAgICAgIHVzZXIsCiAgICAgICAgY29kZVByZWZpeCwKICAgICAgICBpbWFnZXM6IGltYWdlVXJscywKICAgICAgICBsYWJlbDogW2NhdGVnb3J5XSwKICAgICAgfQogICAgICAgIHRoaXMuYWRkTmV3c2ZlZWQodGFza05ldykKICAgICAgfQogICAgICAvL3RoaXMucmVzZXRWYWxpZGF0aW9uKCkKICAgICAgdGhpcy5jbG9zZSgpCiAgICB9LAoKICAgIHJhbmRvbU51bWJlciAoKXsKICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg5OTkpKSArIDE7CiAgICB9LAogICAgc2VsZWN0UHJlZml4KCl7CiAgICAgIGlmICh0aGlzLnVzZXI9PSdpcmlzJyl7CiAgICAgICAgc3dpdGNoICh0aGlzLmNhdGVnb3J5KSB7CiAgICAgICAgICBjYXNlICdpbmZhbnQnOgogICAgICAgICAgICB0aGlzLmNvZGVQcmVmaXg9J2knCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnYm95cyc6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0nYicKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdnaXJscyc6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0nZycKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICd3b21lbic6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0ndycKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdtZW4nOgogICAgICAgICAgICB0aGlzLmNvZGVQcmVmaXg9J20nCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9ZWxzZXsKICAgICAgICBzd2l0Y2ggKHRoaXMuY2F0ZWdvcnkpIHsKICAgICAgICAgIGNhc2UgJ2luZmFudCc6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0ndmknCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnYm95cyc6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0ndmInCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnZ2lybHMnOgogICAgICAgICAgICB0aGlzLmNvZGVQcmVmaXg9J3ZnJwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ3dvbWVuJzoKICAgICAgICAgICAgdGhpcy5jb2RlUHJlZml4PSd2dycKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdtZW4nOgogICAgICAgICAgICB0aGlzLmNvZGVQcmVmaXg9J3ZtJwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIH0KCiAgICB9LAoKICAgIGZpbHRlciAoaXRlbSwgcXVlcnlUZXh0LCBpdGVtVGV4dCkgewogICAgICBjb25zdCBoYXNWYWx1ZSA9ICh2YWwpID0+IHZhbCAhPT0gbnVsbCA/IHZhbCA6ICcnCgogICAgICBjb25zdCB0ZXh0ID0gaGFzVmFsdWUoaXRlbS50aXRsZSkKICAgICAgY29uc3QgcXVlcnkgPSBoYXNWYWx1ZShxdWVyeVRleHQpCgogICAgICByZXR1cm4gdGV4dC50b1N0cmluZygpCiAgICAgICAgLnRvTG93ZXJDYXNlKCkKICAgICAgICAuaW5kZXhPZihxdWVyeS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpID4gLTEKICAgIH0sCgoKICAgIGFzeW5jIHBvc3QgKCkgewoKICAgICAgaWYgKHRoaXMuaUFtRWRpdGluZz09ZmFsc2UpewogICAgICBjb25zdCB1bml4ID0gRGF0ZS5ub3coKQoKICAgICAgdGhpcy5zb3J0RGF0ZSA9IHVuaXgKCiAgICAgIC8vdGhpcy5pZCA9IHRoaXMuc29ydERhdGUudG9TdHJpbmcoKQoKICAgICAgY29uc3QgdGhlRGF0ZSA9IG1vbWVudCh1bml4KS5mb3JtYXQoJ0RvIE1NTSBZWScpCgogICAgICB0aGlzLnRpbWUgPSBmaXJlYmFzZS5maXJlc3RvcmUuVGltZXN0YW1wLmZyb21EYXRlKG5ldyBEYXRlKCkpCgogICAgICB0aGlzLnRhc2tMYWJlbHM9W10KICAgICAgdGhpcy50YXNrTGFiZWxzLnB1c2godGhpcy5wb3N0VHlwZSkKCiAgICAgIH1lbHNlewoKICAgICAgICB0aGlzLnRhc2tMYWJlbHM9W10KICAgICAgICB0aGlzLnRhc2tMYWJlbHMucHVzaCh0aGlzLnBvc3RUeXBlKQoKICAgICAgICBjb25zb2xlLmxvZygnZG9jIGlkICcrdGhpcy5pZCkKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaW1hZ2VDaGFuZ2VkKXsKCgoKCgogICAgICBjb25zdCB1bmlxdWVUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkKCiAgICAgIHRoaXMuaW1hZ2VzID0gdGhpcy4kcmVmcy5pbWdEcm9wem9uZS5nZXRBY2NlcHRlZEZpbGVzKCkKCiAgICAgIGxldCBwaG90b0RvbmU9MAoKICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuaW1hZ2VzLmxlbmd0aDsgaSsrKXsKCiAgICAgICAgbGV0IGltZ05hbWUgPSB0aGlzLmltYWdlc1tpXS5uYW1lCgogICAgICAgIGxldCBleHQgPSBpbWdOYW1lLnNsaWNlKGltZ05hbWUubGFzdEluZGV4T2YoJy4nKSkKCiAgICAgIGNvbnN0IHN0b3JhZ2VSZWY9ZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZihgY2xvdGhlcy8ke3RoaXMudXNlcn0vJHt0aGlzLmNvZGVQcmVmaXh9LyR7dW5pcXVlVGltZX0vJHt0aGlzLmNvZGVQcmVmaXh9JHt0aGlzLmNvZGV9LS0tJHtpfSR7ZXh0fWApLnB1dCh0aGlzLmltYWdlc1tpXSk7CiAgICAgICAgc3RvcmFnZVJlZi5vbihgc3RhdGVfY2hhbmdlZGAsc25hcHNob3Q9PnsKICAgICAgICB0aGlzLnVwbG9hZFZhbHVlID0gKHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQvc25hcHNob3QudG90YWxCeXRlcykqMTAwOwogICAgICAgICAgfSwgZXJyb3I9Pntjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKX0sCiAgICAgICAgKCk9Pnt0aGlzLnVwbG9hZFZhbHVlPTEwMDsKICAgICAgICAgICAgc3RvcmFnZVJlZi5zbmFwc2hvdC5yZWYuZ2V0RG93bmxvYWRVUkwoKS50aGVuKCh1cmwpPT57CgogICAgICAgICAgICAgIHRoaXMuaW1hZ2VVcmxzLnB1c2godXJsKQoKCiAgICAgICAgICAgICAgaWYgKHBob3RvRG9uZT09dGhpcy5pbWFnZXMubGVuZ3RoLTEpewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmltYWdlVXJscykKCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnb3QgaWQgJyt0aGlzLmlkKQoKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaWQgIT0gJycpewoKICAgICAgICAgICAgICAgICAgZGIKICAgICAgICAgICAgICAgICAgLmNvbGxlY3Rpb24odGhpcy5jb2RlUHJlZml4KQogICAgICAgICAgICAgICAgICAuZG9jKHRoaXMuaWQpCiAgICAgICAgICAgICAgICAgIC51cGRhdGUoewogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmNhdGVnb3J5LAogICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LAogICAgICAgICAgICAgICAgICAgIHNvcnREYXRlIDogdGhpcy5zb3J0RGF0ZSwKICAgICAgICAgICAgICAgICAgICBjb2RlOiB0aGlzLmNvZGUgPz8nJywKICAgICAgICAgICAgICAgICAgICBzaXplOiB0aGlzLnNpemUgPz8nJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSA/PycnLAogICAgICAgICAgICAgICAgICAgIGFnZTogdGhpcy5hZ2UgPz8nJywKICAgICAgICAgICAgICAgICAgICBjb2xvdXI6IHRoaXMuY29sb3VyID8/JycsCiAgICAgICAgICAgICAgICAgICAgaW1hZ2VzOiB0aGlzLmltYWdlVXJscyA/P1tdLAogICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOnRoaXMubWF0ZXJpYWwgPz8nJywKICAgICAgICAgICAgICAgICAgICBxdHk6dGhpcy5xdHkgPz8nJywKICAgICAgICAgICAgICAgICAgICB1c2VyOnRoaXMudXNlciA/PycnLAogICAgICAgICAgICAgICAgICAgIGNvZGVQcmVmaXg6IHRoaXMuY29kZVByZWZpeCA/PycnLAogICAgICAgICAgICAgICAgICAgIHByaWNlOnRoaXMucHJpY2UgPz8nJywKICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTp0aGlzLmNvbXBsZXRlID8/IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKGRvbmUpPT57CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlKCkKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmltZ0Ryb3B6b25lLnJlbW92ZUFsbEZpbGVzKCkKICAgICAgICAgICAgICAgICAgfSkKCgogICAgICAgICAgICAgICAgICB9ZWxzZXsKCiAgICAgICAgICAgICAgICAgIGRiCiAgICAgICAgICAgICAgICAgIC5jb2xsZWN0aW9uKHRoaXMuY29kZVByZWZpeCkKICAgICAgICAgICAgICAgICAgLmFkZCh7CiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuY2F0ZWdvcnksCiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksCiAgICAgICAgICAgICAgICAgICAgc29ydERhdGUgOiB0aGlzLnNvcnREYXRlLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IHRoaXMuY29kZSA/PycnLAogICAgICAgICAgICAgICAgICAgIHNpemU6IHRoaXMuc2l6ZSA/PycnLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlID8/JycsCiAgICAgICAgICAgICAgICAgICAgYWdlOiB0aGlzLmFnZSA/PycnLAogICAgICAgICAgICAgICAgICAgIGNvbG91cjogdGhpcy5jb2xvdXIgPz8nJywKICAgICAgICAgICAgICAgICAgICBpbWFnZXM6IHRoaXMuaW1hZ2VVcmxzID8/W10sCiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6dGhpcy5tYXRlcmlhbCA/PycnLAogICAgICAgICAgICAgICAgICAgIHF0eTp0aGlzLnF0eSA/PycnLAogICAgICAgICAgICAgICAgICAgIHVzZXI6dGhpcy51c2VyID8/JycsCiAgICAgICAgICAgICAgICAgICAgY29kZVByZWZpeDogdGhpcy5jb2RlUHJlZml4ID8/JycsCiAgICAgICAgICAgICAgICAgICAgcHJpY2U6dGhpcy5wcmljZSA/PycnLAogICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOnRoaXMuY29tcGxldGUgPz8gZmFsc2UKICAgICAgICAgICAgICAgICAgfSkudGhlbigoZG9uZSk9PnsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmUoKQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuaW1nRHJvcHpvbmUucmVtb3ZlQWxsRmlsZXMoKQogICAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcGhvdG9Eb25lKysKICAgICAgICAgICAgICAvL3RoaXMuc2F2ZSgpCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICApOwoKICAgICAgfQoKCiAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICAgICAgICBpZiAodGhpcy5pZCAhPSAnJyl7CgogICAgICAgICAgICAgICAgICBkYgogICAgICAgICAgICAgICAgICAuY29sbGVjdGlvbih0aGlzLmNvZGVQcmVmaXgpCiAgICAgICAgICAgICAgICAgIC5kb2ModGhpcy5pZCkKICAgICAgICAgICAgICAgICAgLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuY2F0ZWdvcnksCiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksCiAgICAgICAgICAgICAgICAgICAgc29ydERhdGUgOiB0aGlzLnNvcnREYXRlLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IHRoaXMuY29kZSA/PycnLAogICAgICAgICAgICAgICAgICAgIHNpemU6IHRoaXMuc2l6ZSA/PycnLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlID8/JycsCiAgICAgICAgICAgICAgICAgICAgYWdlOiB0aGlzLmFnZSA/PycnLAogICAgICAgICAgICAgICAgICAgIGNvbG91cjogdGhpcy5jb2xvdXIgPz8nJywKICAgICAgICAgICAgICAgICAgICBpbWFnZXM6IHRoaXMuaW1hZ2VVcmxzID8/W10sCiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6dGhpcy5tYXRlcmlhbCA/PycnLAogICAgICAgICAgICAgICAgICAgIHF0eTp0aGlzLnF0eSA/PycnLAogICAgICAgICAgICAgICAgICAgIHVzZXI6dGhpcy51c2VyID8/JycsCiAgICAgICAgICAgICAgICAgICAgY29kZVByZWZpeDogdGhpcy5jb2RlUHJlZml4ID8/JycsCiAgICAgICAgICAgICAgICAgICAgcHJpY2U6dGhpcy5wcmljZSA/PycnLAogICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOnRoaXMuY29tcGxldGUgPz8gZmFsc2UKICAgICAgICAgICAgICAgICAgfSkudGhlbigoZG9uZSk9PnsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmUoKQogICAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICAgICAgfWVsc2V7CgogICAgICAgICAgICAgICAgICBkYgogICAgICAgICAgICAgICAgICAuY29sbGVjdGlvbih0aGlzLmNvZGVQcmVmaXgpCiAgICAgICAgICAgICAgICAgIC5hZGQoewogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmNhdGVnb3J5LAogICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LAogICAgICAgICAgICAgICAgICAgIHNvcnREYXRlIDogdGhpcy5zb3J0RGF0ZSwKICAgICAgICAgICAgICAgICAgICBjb2RlOiB0aGlzLmNvZGUgPz8nJywKICAgICAgICAgICAgICAgICAgICBzaXplOiB0aGlzLnNpemUgPz8nJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSA/PycnLAogICAgICAgICAgICAgICAgICAgIGFnZTogdGhpcy5hZ2UgPz8nJywKICAgICAgICAgICAgICAgICAgICBjb2xvdXI6IHRoaXMuY29sb3VyID8/JycsCiAgICAgICAgICAgICAgICAgICAgaW1hZ2VzOiB0aGlzLmltYWdlVXJscyA/P1tdLAogICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOnRoaXMubWF0ZXJpYWwgPz8nJywKICAgICAgICAgICAgICAgICAgICBxdHk6dGhpcy5xdHkgPz8nJywKICAgICAgICAgICAgICAgICAgICB1c2VyOnRoaXMudXNlciA/PycnLAogICAgICAgICAgICAgICAgICAgIGNvZGVQcmVmaXg6IHRoaXMuY29kZVByZWZpeCA/PycnLAogICAgICAgICAgICAgICAgICAgIHByaWNlOnRoaXMucHJpY2UgPz8nJywKICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTp0aGlzLmNvbXBsZXRlID8/IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKGRvbmUpPT57CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlKCkKICAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICB9CiAgICAgIH0KCiAgICB9LAogICAgaW1hZ2VQcmV2aWV3KCkgewogICAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKQoKICAgICAgaWYgKHRoaXMuZmlsZXMubGVuZ3RoPjApewoKICAgICAgZmlsZVJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywoKSA9PiB7CiAgICAgICAgdGhpcy5pbWFnZVVybHMucHVzaChmaWxlUmVhZGVyLnJlc3VsdCkKICAgICAgfSkKICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKHRoaXMuZmlsZXMpCiAgICAgIHRoaXMuaW1hZ2VzID0gdGhpcy5maWxlcwogICAgICB0aGlzLmltYWdlQ2hhbmdlZCA9IHRydWUKCiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuaW1hZ2VzPVtdCiAgICAgICAgdGhpcy5pbWFnZVVybHM9W10KICAgICAgICB0aGlzLmltYWdlQ2hhbmdlZCA9IGZhbHNlCiAgICAgIH0KCgogICAgfSwKICAgIHZhbGlkYXRlICgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkKICAgIH0sCiAgICByZXNldCAoKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpCiAgICB9LAogICAgcmVzZXRWYWxpZGF0aW9uICgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0VmFsaWRhdGlvbigpCiAgICB9LAogICAgZGVsZXRlSW1hZ2UgKGltZykgewogICAgIGxldCBpbWFnZSA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWZGcm9tVVJMKGltZyk7CgogICAgIHZhciBpbmQgPSB0aGlzLmltYWdlVXJscy5pbmRleE9mKGltZyk7CgogICAgICB0aGlzLmltYWdlVXJscy5zcGxpY2UoaW5kLDEpOwoKICAgICAgICBjb25zb2xlLmxvZyAodGhpcy5jb2RlUHJlZml4KycgICAnK3RoaXMuaWQpCgogICAgICAgICAgZGIKICAgICAgICAgIC5jb2xsZWN0aW9uKHRoaXMuY29kZVByZWZpeCkKICAgICAgICAgIC5kb2ModGhpcy5pZCkKICAgICAgICAgIC51cGRhdGUoewogICAgICAgICAgICBpbWFnZXM6IHRoaXMuaW1hZ2VVcmxzLAogICAgICAgICAgfSkKCiAgICAgICAgaW1hZ2UuZGVsZXRlKCkudGhlbihmdW5jdGlvbigpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdpbWFnZSBkZWxldGVkJyk7CgogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAvLyBVaC1vaCwgYW4gZXJyb3Igb2NjdXJyZWQhCiAgICAgICAgICBjb25zb2xlLmxvZygnYW4gZXJyb3Igb2NjdXJyZWQnKTsKICAgICAgICB9KTsKCgogICAgfSwKICAgIGRyb3BNb3VudGVkICgpIHsKCiAgICAgIGZvciAodmFyIHA9MDsgcDx0aGlzLmltYWdlcy5sZW5ndGg7IHArKyl7CiAgICAgICAgdmFyIGZpbGUgPSB7IHNpemU6IDEyMywgbmFtZTogJ0ljb24nK3AsIHR5cGU6ICdpbWFnZS9wbmcnIH07CiAgICAgICAgdmFyIHVybCA9IHRoaXMuaW1hZ2VzW3BdOwogICAgICAgIHRoaXMuJHJlZnMuaW1nRHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKGZpbGUsIHVybCk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCdkcm9wIG1vdW50ZWQnKQoKICAgIH0sCiAgICBhc3luYyBhZnRlckNvbXBsZXRlKGZpbGUpIHsKICAgICAgdHJ5IHsKICAgICAgICAvL2NvbnN0IGltYWdlTmFtZSA9IHV1aWQudjEoKTsKICAgICAgICB2YXIgbWV0YURhdGEgPSB7CiAgICAgICAgICBjb250ZW50VHlwZTogImltYWdlL3BuZyIKICAgICAgICB9CgoKICAgICAgLy90aGlzLmltYWdlcyA9IHRoaXMuJHJlZnMuaW1nRHJvcHpvbmUuZ2V0QWNjZXB0ZWRGaWxlcygpCgogICAgICAgdGhpcy5pbWFnZUNoYW5nZWQgPSB0cnVlCgogICAgICBjb25zb2xlLmxvZyAoJ2ltYWdlIGRvbmUnKQoKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0KCiAgfQp9Cg=="},{"version":3,"sources":["ClothesreadCompose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;AAMA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"ClothesreadCompose.vue","sourceRoot":"src/apps/clothesread/components","sourcesContent":["<template>\n  <v-dialog v-model=\"dialog\" width=\"1000\">\n    <v-card>\n      <v-card-title class=\"pa-2\">\n        {{ isEdit ? 'Edit News...' : 'Add News' }}\n        <v-spacer></v-spacer>\n        <v-btn icon @click=\"dialog = false\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-card-title>\n\n      <v-divider></v-divider>\n\n      <!-- task form -->\n\n  <h2>CAFFE Clothing</h2>\n\n\n    <h2>{{codePrefix+' '+code}}</h2>\n\n\n\n  <v-row>\n    <v-col\n      v-for=\"anImage in imageUrls\" v-bind:key=\"anImage.id\"\n      class=\"d-flex child-flex\"\n      cols=\"4\"\n    >\n      <v-img\n        :src=\"anImage\"\n        aspect-ratio=\"1\"\n        class=\"grey lighten-2\"\n      >\n      <span  @click=\"deleteImage(anImage)\">X</span>\n        <template v-slot:placeholder>\n          <v-row\n            class=\"fill-height ma-0\"\n            align=\"center\"\n            justify=\"center\"\n          >\n            <v-progress-circular\n              indeterminate\n              color=\"grey lighten-5\"\n            ></v-progress-circular>\n          </v-row>\n        </template>\n      </v-img>\n    </v-col>\n  </v-row>\n\n<v-dialog v-model=\"loading\" fullscreen full-width>\n  <v-container fluid fill-height style=\"background-color: rgba(255, 255, 255, 0.5);\">\n    <v-layout justify-center align-center>\n      <v-progress-circular\n        indeterminate\n        color=\"primary\">\n      </v-progress-circular>\n    </v-layout>\n  </v-container>\n</v-dialog>\n\n\n      <v-divider></v-divider>\n <!-- @vdropzone-mounted=\"dropMounted\" -->\n  <vue-dropzone id=\"imgDropzone\" ref=\"imgDropzone\" :options=\"dropzoneOptions\" @vdropzone-complete=\"afterComplete\"></vue-dropzone>\n\n\n      <v-card-actions class=\"pa-2\">\n        <v-btn outlined @click=\"close\">{{ $t('common.cancel') }}</v-btn>\n        <v-spacer></v-spacer>\n        <v-btn color=\"primary\" @click=\"post\">UPLOAD PHOTOS</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n\n/*\n|---------------------------------------------------------------------\n| TODO Compose Component\n|---------------------------------------------------------------------\n|\n| Compose new tasks editor\n*/\nimport moment from 'moment'\nimport { db } from '../../../main'\nimport firebase from 'firebase'\nimport vue2Dropzone from 'vue2-dropzone'\nimport \"vue2-dropzone/dist/vue2Dropzone.min.css\"\nexport default {\n  components: {\n    vueDropzone: vue2Dropzone\n  },\n  data () {\n    return {\n      dropzoneOptions: {\n        url: \"https://httpbin.org/post\",\n        thumbnailWidth: 250,\n        thumbnailHeight: 250,\n        addRemoveLinks: true,\n        acceptedFiles: \".jpg, .jpeg, .png\"\n      },\n      dialog: false,\n      loading:true,\n      title: '',\n      time: '',\n      likes:[],\n      shares:0,\n      events:[],\n      codePrefix:'',\n      incidentDate:'',\n      foundEvents:[],\n      show:true,\n      iAmEditing:false,\n      taskLabels: [],\n      search: null,\n      id:'',\n      valid: true,\n      files:[],\n      imageRaw:null,\n      receivedUrl:'',\n      imageUrl:'',\n      imageUrls:[],\n      title: '',\n      sortDate:'',\n      author:'',\n      code:'',\n      category:'infant',\n      user:'iris',\n      size:'',\n      age:'',\n      colour:'',\n      material:'',\n      qty:'',\n      price:'',\n      codeRules: [\n        (v) => !!v || 'Code is required',\n        (v) => (v && v.length <= 80) || 'Code must be less than 8 characters'\n      ],\n      titleRules: [\n        (v) => !!v || 'Title is required',\n        (v) => (v && v.length <= 80) || 'Title must be less than 80 characters'\n      ],\n      sizeRules: [\n        (v) => (v && v.length <= 80) || 'Size must be less than 80 characters'\n      ],\n      ageRules: [\n        (v) => (v && v.length <= 100) || 'Age must be less than 100 characters'\n      ],\n      colourRules: [\n        (v) => (v && v.length <= 100) || 'Colour must be less than 100 characters'\n      ],\n      materialRules: [\n        (v) => (v && v.length <= 100) || 'Material must be less than 100 characters'\n      ],\n      qtyRules: [\n        (v) => !!v || 'Quantity is required',\n        (v) => (v && v.length <= 100) || 'Quantity must be less than 100 characters'\n      ],\n      priceRules: [\n        (v) => !!v || 'Price is required',\n        (v) => (v && v.length <= 100) || 'Price must be less than 100 characters'\n      ],\n      select: null,\n      checkbox: false,\n      imageChanged:false\n\n    }\n  },\n  computed: {\n    ...mapState('newsfeed-app', ['newsfeedlabels']),\n    isEdit() {\n      if (this.id!=null){\n        console.log(this.id)\n        if (this.id==''){\n          return false\n        }else{\n          return true\n        }\n      }\n\n    }\n  },\n  methods: {\n    ...mapMutations('newsfeed-app', ['updateNewsfeed', 'addNewsfeed']),\n    open(task, editing) {\n      console.log('OPEN')\n      if (task) {\n        this.task = task\n        this.iAmEditing = true\n        this.code = this.task.code\n        this.id = this.task.id\n        this.complete = this.task.complete\n        this.title = this.task.title\n        this.age = this.task.age\n        this.size = this.task.size\n        this.colour = this.task.colour\n        this.material = this.task.material\n        this.qty = this.task.qty\n        this.price = this.task.price\n        this.codePrefix = this.task.codePrefix\n        this.images = this.task.images\n        this.taskLabels = this.task.labels\n        this.imageUrls = this.task.images\n        this.sortDate = this.task.sortDate\n        this.category = this.task.category\n        this.user = this.task.user\n      } else {\n        this.iAmEditing = false\n        this.id = ''\n        this.category = 'infant'\n        this.user='iris'\n        this.code = ''\n        this.complete = false\n        this.codePrefix = 'i'\n        this.title = ''\n        this.age = ''\n        this.size = ''\n        this.colour = ''\n        this.material = ''\n        this.qty = ''\n        this.price = ''\n        this.images = []\n        this.taskLabels = []\n        this.imageUrls = []\n        this.sortDate = 0\n      }\n\n      this.dialog = true\n    },\n    close() {\n      this.dialog = false\n    },\n    save() {\n      const {category, title, code, size, age, taskLabels, imageUrls, id,\n        colour, material, qty, price, complete, user, codePrefix, sortDate } = this\n\n      const taskEdit = {\n        title,\n        sortDate,\n        category,\n        code,\n        size,\n        age,\n        id,\n        colour,\n        material,\n        qty,\n        price,\n        complete,\n        user,\n        codePrefix,\n        images: imageUrls,\n        label: [category],\n\n      }\n\n      if (this.iAmEditing == true) {\n        this.updateNewsfeed({\n          ...this.task,\n          ...taskEdit\n        })\n      } else {\n        console.log ('PASS URL '+sortDate)\n        const taskNew = {\n        sortDate,\n        category,\n        code,\n        title,\n        size,\n        age,\n        id,\n        colour,\n        material,\n        qty,\n        price,\n        complete,\n        user,\n        codePrefix,\n        images: imageUrls,\n        label: [category],\n      }\n        this.addNewsfeed(taskNew)\n      }\n      //this.resetValidation()\n      this.close()\n    },\n\n    randomNumber (){\n      return Math.floor(Math.random() * (999)) + 1;\n    },\n    selectPrefix(){\n      if (this.user=='iris'){\n        switch (this.category) {\n          case 'infant':\n            this.codePrefix='i'\n            break;\n          case 'boys':\n            this.codePrefix='b'\n            break;\n          case 'girls':\n            this.codePrefix='g'\n            break;\n          case 'women':\n            this.codePrefix='w'\n            break;\n          case 'men':\n            this.codePrefix='m'\n            break;\n          default:\n            break;\n        }\n      }else{\n        switch (this.category) {\n          case 'infant':\n            this.codePrefix='vi'\n            break;\n          case 'boys':\n            this.codePrefix='vb'\n            break;\n          case 'girls':\n            this.codePrefix='vg'\n            break;\n          case 'women':\n            this.codePrefix='vw'\n            break;\n          case 'men':\n            this.codePrefix='vm'\n            break;\n          default:\n            break;\n      }\n      }\n\n    },\n\n    filter (item, queryText, itemText) {\n      const hasValue = (val) => val !== null ? val : ''\n\n      const text = hasValue(item.title)\n      const query = hasValue(queryText)\n\n      return text.toString()\n        .toLowerCase()\n        .indexOf(query.toString().toLowerCase()) > -1\n    },\n\n\n    async post () {\n\n      if (this.iAmEditing==false){\n      const unix = Date.now()\n\n      this.sortDate = unix\n\n      //this.id = this.sortDate.toString()\n\n      const theDate = moment(unix).format('Do MMM YY')\n\n      this.time = firebase.firestore.Timestamp.fromDate(new Date())\n\n      this.taskLabels=[]\n      this.taskLabels.push(this.postType)\n\n      }else{\n\n        this.taskLabels=[]\n        this.taskLabels.push(this.postType)\n\n        console.log('doc id '+this.id)\n      }\n\n      if (this.imageChanged){\n\n\n\n\n\n      const uniqueTime = new Date().getTime()\n\n      this.images = this.$refs.imgDropzone.getAcceptedFiles()\n\n      let photoDone=0\n\n      for (var i=0; i<this.images.length; i++){\n\n        let imgName = this.images[i].name\n\n        let ext = imgName.slice(imgName.lastIndexOf('.'))\n\n      const storageRef=firebase.storage().ref(`clothes/${this.user}/${this.codePrefix}/${uniqueTime}/${this.codePrefix}${this.code}---${i}${ext}`).put(this.images[i]);\n        storageRef.on(`state_changed`,snapshot=>{\n        this.uploadValue = (snapshot.bytesTransferred/snapshot.totalBytes)*100;\n          }, error=>{console.log(error.message)},\n        ()=>{this.uploadValue=100;\n            storageRef.snapshot.ref.getDownloadURL().then((url)=>{\n\n              this.imageUrls.push(url)\n\n\n              if (photoDone==this.images.length-1){\n                  console.log(this.imageUrls)\n\n                  console.log('got id '+this.id)\n\n                  if (this.id != ''){\n\n                  db\n                  .collection(this.codePrefix)\n                  .doc(this.id)\n                  .update({\n                    label: this.category,\n                    category: this.category,\n                    sortDate : this.sortDate,\n                    code: this.code ??'',\n                    size: this.size ??'',\n                    title: this.title ??'',\n                    age: this.age ??'',\n                    colour: this.colour ??'',\n                    images: this.imageUrls ??[],\n                    material:this.material ??'',\n                    qty:this.qty ??'',\n                    user:this.user ??'',\n                    codePrefix: this.codePrefix ??'',\n                    price:this.price ??'',\n                    complete:this.complete ?? false\n                  }).then((done)=>{\n                    this.save()\n                    this.$refs.imgDropzone.removeAllFiles()\n                  })\n\n\n                  }else{\n\n                  db\n                  .collection(this.codePrefix)\n                  .add({\n                    label: this.category,\n                    category: this.category,\n                    sortDate : this.sortDate,\n                    code: this.code ??'',\n                    size: this.size ??'',\n                    title: this.title ??'',\n                    age: this.age ??'',\n                    colour: this.colour ??'',\n                    images: this.imageUrls ??[],\n                    material:this.material ??'',\n                    qty:this.qty ??'',\n                    user:this.user ??'',\n                    codePrefix: this.codePrefix ??'',\n                    price:this.price ??'',\n                    complete:this.complete ?? false\n                  }).then((done)=>{\n                    this.save()\n                    this.$refs.imgDropzone.removeAllFiles()\n                  })\n\n                }\n              }\n              photoDone++\n              //this.save()\n              });\n            }\n\n          );\n\n      }\n\n\n      } else {\n\n                  if (this.id != ''){\n\n                  db\n                  .collection(this.codePrefix)\n                  .doc(this.id)\n                  .update({\n                    label: this.category,\n                    category: this.category,\n                    sortDate : this.sortDate,\n                    code: this.code ??'',\n                    size: this.size ??'',\n                    title: this.title ??'',\n                    age: this.age ??'',\n                    colour: this.colour ??'',\n                    images: this.imageUrls ??[],\n                    material:this.material ??'',\n                    qty:this.qty ??'',\n                    user:this.user ??'',\n                    codePrefix: this.codePrefix ??'',\n                    price:this.price ??'',\n                    complete:this.complete ?? false\n                  }).then((done)=>{\n                    this.save()\n                  })\n\n                  }else{\n\n                  db\n                  .collection(this.codePrefix)\n                  .add({\n                    label: this.category,\n                    category: this.category,\n                    sortDate : this.sortDate,\n                    code: this.code ??'',\n                    size: this.size ??'',\n                    title: this.title ??'',\n                    age: this.age ??'',\n                    colour: this.colour ??'',\n                    images: this.imageUrls ??[],\n                    material:this.material ??'',\n                    qty:this.qty ??'',\n                    user:this.user ??'',\n                    codePrefix: this.codePrefix ??'',\n                    price:this.price ??'',\n                    complete:this.complete ?? false\n                  }).then((done)=>{\n                    this.save()\n                  })\n\n                }\n      }\n\n    },\n    imagePreview() {\n      const fileReader = new FileReader()\n\n      if (this.files.length>0){\n\n      fileReader.addEventListener('load',() => {\n        this.imageUrls.push(fileReader.result)\n      })\n      fileReader.readAsDataURL(this.files)\n      this.images = this.files\n      this.imageChanged = true\n\n      }else{\n        this.images=[]\n        this.imageUrls=[]\n        this.imageChanged = false\n      }\n\n\n    },\n    validate () {\n      this.$refs.form.validate()\n    },\n    reset () {\n      this.$refs.form.reset()\n    },\n    resetValidation () {\n      this.$refs.form.resetValidation()\n    },\n    deleteImage (img) {\n     let image = firebase.storage().refFromURL(img);\n\n     var ind = this.imageUrls.indexOf(img);\n\n      this.imageUrls.splice(ind,1);\n\n        console.log (this.codePrefix+'   '+this.id)\n\n          db\n          .collection(this.codePrefix)\n          .doc(this.id)\n          .update({\n            images: this.imageUrls,\n          })\n\n        image.delete().then(function() {\n          console.log('image deleted');\n\n        }).catch(function(error) {\n          // Uh-oh, an error occurred!\n          console.log('an error occurred');\n        });\n\n\n    },\n    dropMounted () {\n\n      for (var p=0; p<this.images.length; p++){\n        var file = { size: 123, name: 'Icon'+p, type: 'image/png' };\n        var url = this.images[p];\n        this.$refs.imgDropzone.manuallyAddFile(file, url);\n      }\n\n      console.log('drop mounted')\n\n    },\n    async afterComplete(file) {\n      try {\n        //const imageName = uuid.v1();\n        var metaData = {\n          contentType: \"image/png\"\n        }\n\n\n      //this.images = this.$refs.imgDropzone.getAcceptedFiles()\n\n       this.imageChanged = true\n\n      console.log ('image done')\n\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  }\n}\n</script>\n"]}]}