{"remainingRequest":"/Users/luke/Documents/VUE/bt-starter/node_modules/babel-loader/lib/index.js!/Users/luke/Documents/VUE/bt-starter/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/luke/Documents/VUE/bt-starter/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luke/Documents/VUE/bt-starter/src/apps/email/components/EmailList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luke/Documents/VUE/bt-starter/src/apps/email/components/EmailList.vue","mtime":1598028626000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgovKgp8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnwgRW1haWwgTGlzdCBDb21wb25lbnQKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8CnwgTGlzdCB0byBkaXNwbGF5IGVtYWlscwp8CiovCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgZW1haWxzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBsYWJlbHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGlzTG9hZGluZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdEFsbDogZmFsc2UsCiAgICAgIHNlbGVjdEFsbW9zdEFsbDogZmFsc2UsCiAgICAgIHNlbGVjdGVkOiBbXSwKICAgICAgbWVudVNlbGVjdGlvbjogW3sKICAgICAgICB0aXRsZTogJ0FsbCcsCiAgICAgICAga2V5OiAnYWxsJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICdSZWFkJywKICAgICAgICBrZXk6ICdyZWFkJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICdVbnJlYWQnLAogICAgICAgIGtleTogJ3VucmVhZCcKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAnU3RhcnJlZCcsCiAgICAgICAga2V5OiAnc3RhcnJlZCcKICAgICAgfV0KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgc2VsZWN0ZWQ6IGZ1bmN0aW9uIHNlbGVjdGVkKHZhbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gY2hlY2sgc2VsZWN0QWxsIGludGVybWVkaWF0ZSBzdGF0ZQogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzLnNlbGVjdEFsbCkgewogICAgICAgICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgX3RoaXMuc2VsZWN0QWxsID0gZmFsc2U7CiAgICAgICAgICAgIF90aGlzLnNlbGVjdEFsbW9zdEFsbCA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKF90aGlzLmVtYWlscy5sZW5ndGggPT09IHZhbC5sZW5ndGgpIHsKICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RBbG1vc3RBbGwgPSBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RBbG1vc3RBbGwgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uTWVudVNlbGVjdGlvbjogZnVuY3Rpb24gb25NZW51U2VsZWN0aW9uKGtleSkgewogICAgICBzd2l0Y2ggKGtleSkgewogICAgICAgIGNhc2UgJ2FsbCc6CiAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5lbWFpbHMubWFwKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgIHJldHVybiBpLmlkOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnNlbGVjdEFsbCA9IHRydWU7CiAgICAgICAgICB0aGlzLnNlbGVjdEFsbW9zdEFsbCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgb25TZWxlY3RBbGw6IGZ1bmN0aW9uIG9uU2VsZWN0QWxsKHNlbGVjdEFsbCkgewogICAgICBpZiAodGhpcy5zZWxlY3RBbGwpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkID0gW107CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMuZW1haWxzLm1hcChmdW5jdGlvbiAoaSkgewogICAgICAgICAgcmV0dXJuIGkuaWQ7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2VsZWN0QWxtb3N0QWxsID0gZmFsc2U7CiAgICAgIHRoaXMuc2VsZWN0QWxsID0gIXRoaXMuc2VsZWN0QWxsOwogICAgfSwKICAgIGdldExhYmVsQ29sb3I6IGZ1bmN0aW9uIGdldExhYmVsQ29sb3IoaWQpIHsKICAgICAgdmFyIGxhYmVsID0gdGhpcy5sYWJlbHMuZmluZChmdW5jdGlvbiAobCkgewogICAgICAgIHJldHVybiBsLmlkID09PSBpZDsKICAgICAgfSk7CiAgICAgIHJldHVybiBsYWJlbCA/IGxhYmVsLmNvbG9yIDogJyc7CiAgICB9LAogICAgZ2V0TGFiZWxUaXRsZTogZnVuY3Rpb24gZ2V0TGFiZWxUaXRsZShpZCkgewogICAgICB2YXIgbGFiZWwgPSB0aGlzLmxhYmVscy5maW5kKGZ1bmN0aW9uIChsKSB7CiAgICAgICAgcmV0dXJuIGwuaWQgPT09IGlkOwogICAgICB9KTsKICAgICAgcmV0dXJuIGxhYmVsID8gbGFiZWwudGl0bGUgOiAnJzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["EmailList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-card class=\"min-w-0\">\n    <div class=\"email-app-top px-2 py-1 d-flex align-center\">\n      <v-checkbox :value=\"selectAll\" :indeterminate=\"selectAlmostAll\" @click.stop=\"onSelectAll(selectAll)\"></v-checkbox>\n\n      <v-menu offset-y>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn icon v-bind=\"attrs\" v-on=\"on\">\n            <v-icon>mdi-menu-down</v-icon>\n          </v-btn>\n        </template>\n\n        <v-list>\n          <v-list-item v-for=\"item in menuSelection\" :key=\"item.key\" link @click=\"onMenuSelection(item.key)\">\n            <v-list-item-title>{{ item.title }}</v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n\n      <v-btn v-show=\"selected.length === 0\" icon :loading=\"isLoading\" @click=\"$emit('refresh')\">\n        <v-icon>mdi-refresh</v-icon>\n      </v-btn>\n\n      <div v-show=\"selected.length > 0\">\n        <v-btn icon>\n          <v-icon>bx-archive</v-icon>\n        </v-btn>\n        <v-btn icon>\n          <v-icon>mdi-email-mark-as-unread</v-icon>\n        </v-btn>\n        <v-btn icon>\n          <v-icon>bx-trash-alt</v-icon>\n        </v-btn>\n      </div>\n\n      <v-spacer></v-spacer>\n\n      <div class=\"caption mr-1\">1 - 20 of 428</div>\n      <v-btn icon disabled>\n        <v-icon>mdi-chevron-left</v-icon>\n      </v-btn>\n      <v-btn icon>\n        <v-icon>mdi-chevron-right</v-icon>\n      </v-btn>\n    </div>\n\n    <v-divider></v-divider>\n\n    <v-list class=\"py-0\">\n      <template v-for=\"(item, index) in emails\">\n        <v-list-item\n          :key=\"item.title\"\n          :class=\"{\n            'grey lighten-5': item.read && !$vuetify.theme.dark,\n            'v-list-item--active primary--text': selected.indexOf(item.id) !== -1\n          }\"\n          link\n        >\n          <v-list-item-action class=\"d-flex flex-row align-center\">\n            <v-checkbox v-model=\"selected\" :value=\"item.id\"></v-checkbox>\n\n            <v-btn icon class=\"ml-1\" @click=\"item.starred = !item.starred\">\n              <v-icon v-if=\"!item.starred\" color=\"grey lighten-1\">\n                bx-star\n              </v-icon>\n              <v-icon v-else color=\"yellow darken-1\">\n                bx bxs-star\n              </v-icon>\n            </v-btn>\n          </v-list-item-action>\n\n          <v-list-item-content @click=\"$router.push(`/apps/email/inbox/${item.id}`)\">\n            <v-list-item-title v-text=\"item.subject\"></v-list-item-title>\n            <v-list-item-subtitle class=\"font-weight-bold\" v-text=\"item.title\"></v-list-item-subtitle>\n            <v-list-item-subtitle v-text=\"item.content\"></v-list-item-subtitle>\n            <v-list-item-subtitle>\n              <v-chip\n                v-for=\"label in item.labels\"\n                :key=\"label\"\n                :color=\"getLabelColor(label)\"\n                class=\"font-weight-bold mt-1 mr-1\"\n                outlined\n                small\n              >\n                {{ getLabelTitle(label) }}\n              </v-chip>\n            </v-list-item-subtitle>\n          </v-list-item-content>\n\n          <v-list-item-action>\n            <v-list-item-action-text v-text=\"item.time\"></v-list-item-action-text>\n          </v-list-item-action>\n        </v-list-item>\n\n        <v-divider\n          v-if=\"index + 1 < emails.length\"\n          :key=\"index\"\n        ></v-divider>\n      </template>\n      <template v-if=\"!isLoading && emails.length === 0\">\n        <div class=\"px-1 py-6 text-center\">{{ $t('email.emptyList') }}</div>\n      </template>\n    </v-list>\n\n    <v-overlay :value=\"isLoading\" absolute>\n      <v-progress-circular indeterminate size=\"32\"></v-progress-circular>\n    </v-overlay>\n  </v-card>\n</template>\n\n<script>\n/*\n|---------------------------------------------------------------------\n| Email List Component\n|---------------------------------------------------------------------\n|\n| List to display emails\n|\n*/\nexport default {\n  props: {\n    emails: {\n      type: Array,\n      default: () => []\n    },\n    labels: {\n      type: Array,\n      default: () => []\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      selectAll: false,\n      selectAlmostAll: false,\n      selected: [],\n      menuSelection: [{\n        title: 'All',\n        key: 'all'\n      }, {\n        title: 'Read',\n        key: 'read'\n      }, {\n        title: 'Unread',\n        key: 'unread'\n      }, {\n        title: 'Starred',\n        key: 'starred'\n      }]\n    }\n  },\n  watch: {\n    selected(val) {\n      // check selectAll intermediate state\n      this.$nextTick(() => {\n        if (this.selectAll) {\n          if (val.length === 0) {\n            this.selectAll = false\n            this.selectAlmostAll = false\n          } else {\n            if (this.emails.length === val.length) {\n              this.selectAlmostAll = false\n            } else {\n              this.selectAlmostAll = true\n            }\n          }\n        }\n      })\n    }\n  },\n  methods: {\n    onMenuSelection(key) {\n      switch (key) {\n      case 'all':\n        this.selected = this.emails.map((i) => i.id)\n        this.selectAll = true\n        this.selectAlmostAll = false\n      }\n    },\n    onSelectAll(selectAll) {\n      if (this.selectAll) {\n        this.selected = []\n      } else {\n        this.selected = this.emails.map((i) => i.id)\n      }\n\n      this.selectAlmostAll = false\n      this.selectAll = !this.selectAll\n    },\n    getLabelColor(id) {\n      const label = this.labels.find((l) => l.id === id)\n\n      return label ? label.color : ''\n    },\n    getLabelTitle(id) {\n      const label = this.labels.find((l) => l.id === id)\n\n      return label ? label.title : ''\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.email-app-top {\n  height: 82px;\n}\n</style>\n"],"sourceRoot":"src/apps/email/components"}]}