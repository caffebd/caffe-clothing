{"remainingRequest":"/Users/luke/Documents/VUE/bt-starter/node_modules/babel-loader/lib/index.js!/Users/luke/Documents/VUE/bt-starter/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/luke/Documents/VUE/bt-starter/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luke/Documents/VUE/bt-starter/src/apps/chat/pages/ChannelPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luke/Documents/VUE/bt-starter/src/apps/chat/pages/ChannelPage.vue","mtime":1597249840000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9sdWtlL0RvY3VtZW50cy9WVUUvYnQtc3RhcnRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgSW5wdXRCb3ggZnJvbSAnLi4vY29tcG9uZW50cy9JbnB1dEJveCc7CmltcG9ydCBVc2VyQXZhdGFyIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckF2YXRhcic7CmltcG9ydCBDaGFubmVsTWVzc2FnZSBmcm9tICcuLi9jb21wb25lbnRzL0NoYW5uZWxNZXNzYWdlJzsgLy8gRGVtbyBtZXNzYWdlcyBhbmQgdXNlcnMKCmltcG9ydCBnZXRNZXNzYWdlLCB7IHVzZXJzIH0gZnJvbSAnLi4vY29udGVudC9tZXNzYWdlcyc7Ci8qCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KfCBDaGF0IENoYW5uZWwgUGFnZSBDb21wb25lbnQKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8CnwgTGF5b3V0IHRvIGRpc3BsYXkgdGhlIGNoYW5uZWwgbWVzc2FnZXMgYW5kIHVzZXJzIG9ubGluZQp8CiovCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSW5wdXRCb3g6IElucHV0Qm94LAogICAgVXNlckF2YXRhcjogVXNlckF2YXRhciwKICAgIENoYW5uZWxNZXNzYWdlOiBDaGFubmVsTWVzc2FnZQogIH0sCiAgcHJvcHM6IHsKICAgIC8vIEN1cnJlbnQgbG9nZ2VkIHVzZXIKICAgIHVzZXI6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyB1c2VycyBvbmxpbmUgZHJhd2VyCiAgICAgIHVzZXJzRHJhd2VyOiB0cnVlLAogICAgICAvLyBjaGFubmVsIGluZm9ybWF0aW9uIGFuZCBtZXNzYWdlcwogICAgICBjaGFubmVsOiAnJywKICAgICAgbWVzc2FnZXM6IFtdLAogICAgICAvLyBvbmxpbmUgdXNlcnMKICAgICAgdXNlcnM6IFt0aGlzLnVzZXJdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodXNlcnMpKSwKICAgICAgLy8gZGVtbyByYW5kb20gbWVzc2FnZSB0aW1lb3V0CiAgICAgIHRpbWVvdXRHZW5lcmF0b3I6IG51bGwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZS5wYXJhbXMuaWQnOiBmdW5jdGlvbiAkcm91dGVQYXJhbXNJZCgpIHsKICAgICAgdGhpcy5zdGFydENoYW5uZWwodGhpcy4kcm91dGUucGFyYW1zLmlkKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnN0YXJ0Q2hhbm5lbCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRHZW5lcmF0b3IpOwogIH0sCiAgbWV0aG9kczogewogICAgc3RhcnRDaGFubmVsOiBmdW5jdGlvbiBzdGFydENoYW5uZWwoY2hhbm5lbElkKSB7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRHZW5lcmF0b3IpOwogICAgICB0aGlzLm1lc3NhZ2VzID0gW107IC8vIERFTU86IGdlbmVyYXRlIHJhbmRvbSBtZXNzYWdlIHRvIGZpbGwgdGhlIGNoYW5uZWwKCiAgICAgIHRoaXMubWVzc2FnZXMucHVzaChnZXRNZXNzYWdlKCkpOwogICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goZ2V0TWVzc2FnZSgpKTsKICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKGdldE1lc3NhZ2UodGhpcy51c2VyKSk7CiAgICAgIHRoaXMubWVzc2FnZXMucHVzaChnZXRNZXNzYWdlKCkpOwogICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsSWQ7CiAgICAgIHRoaXMuc2VuZFJhbmRvbSgpOwogICAgfSwKICAgIC8vIFJhbmRvbSBtZXNzYWdlIGdlbmVyYXRvcgogICAgc2VuZFJhbmRvbTogZnVuY3Rpb24gc2VuZFJhbmRvbSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMudGltZW91dEdlbmVyYXRvciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLm1lc3NhZ2VzLnB1c2goZ2V0TWVzc2FnZSgpKTsKCiAgICAgICAgX3RoaXMuc2Nyb2xsVG9Cb3R0b20oKTsKCiAgICAgICAgX3RoaXMuc2VuZFJhbmRvbSgpOwogICAgICB9LCAxMDAwICogKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE1KSArIDEpKTsKICAgIH0sCiAgICAvLyBTZW5kIG1lc3NhZ2UgdG8gY2hhbm5lbAogICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHsKICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKHsKICAgICAgICBpZDogJ18nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpLAogICAgICAgIHVzZXI6IHRoaXMudXNlciwKICAgICAgICB0ZXh0OiBtZXNzYWdlLAogICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS5nZXRUaW1lKCkKICAgICAgfSk7CiAgICAgIHRoaXMuc2Nyb2xsVG9Cb3R0b20oKTsKICAgIH0sCiAgICBzY3JvbGxUb0JvdHRvbTogZnVuY3Rpb24gc2Nyb2xsVG9Cb3R0b20oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kcmVmcy5tZXNzYWdlcy5zY3JvbGxUb3AgPSBfdGhpczIuJHJlZnMubWVzc2FnZXMuc2Nyb2xsSGVpZ2h0OwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ChannelPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <!-- channel toolbar -->\n    <v-app-bar flat height=\"64\">\n      <v-app-bar-nav-icon class=\"hidden-lg-and-up\" @click=\"$emit('toggle-menu')\"></v-app-bar-nav-icon>\n      <div class=\"title font-weight-bold\"># {{ $route.params.id }}</div>\n\n      <v-spacer></v-spacer>\n\n      <v-btn class=\"mx-1\" icon @click.stop=\"usersDrawer = !usersDrawer\">\n        <v-icon>mdi-account-group-outline</v-icon>\n      </v-btn>\n    </v-app-bar>\n\n    <v-divider></v-divider>\n\n    <!-- channel messages -->\n    <div class=\"channel-page\">\n      <div id=\"messages\" ref=\"messages\" class=\"messages mx-2\">\n        <transition-group name=\"list\">\n          <channel-message\n            v-for=\"message in messages\"\n            :key=\"message.id\"\n            :message=\"message\"\n            :user=\"user\"\n            class=\"my-4 d-flex\"\n          />\n        </transition-group>\n      </div>\n\n      <div class=\"input-box pa-2\">\n        <input-box :channel=\"channel\" @send-message=\"sendMessage\" />\n      </div>\n    </div>\n\n    <!-- online users drawer -->\n    <v-navigation-drawer\n      v-model=\"usersDrawer\"\n      width=\"180\"\n      :right=\"!$vuetify.rtl\"\n      app\n    >\n      <v-list dense>\n        <v-subheader class=\"mx-1 overline\">\n          {{ $t('chat.online', { count: users.length }) }}\n        </v-subheader>\n        <v-list-item v-for=\"item in users\" :key=\"item.id\" class=\"mb-1\">\n          <user-avatar :user=\"item\" class=\"mx-1\" />\n          <v-list-item-content>\n            <v-list-item-title :class=\"{ 'primary--text': item.id === user.id }\">{{ item.name }}</v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n  </div>\n</template>\n\n<script>\nimport InputBox from '../components/InputBox'\nimport UserAvatar from '../components/UserAvatar'\nimport ChannelMessage from '../components/ChannelMessage'\n\n// Demo messages and users\nimport getMessage, { users } from '../content/messages'\n\n/*\n|---------------------------------------------------------------------\n| Chat Channel Page Component\n|---------------------------------------------------------------------\n|\n| Layout to display the channel messages and users online\n|\n*/\nexport default {\n  components: {\n    InputBox,\n    UserAvatar,\n    ChannelMessage\n  },\n  props: {\n    // Current logged user\n    user: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data() {\n    return {\n      // users online drawer\n      usersDrawer: true,\n\n      // channel information and messages\n      channel: '',\n      messages: [],\n\n      // online users\n      users: [\n        this.user,\n        ...users\n      ],\n\n      // demo random message timeout\n      timeoutGenerator: null\n    }\n  },\n  watch: {\n    '$route.params.id'() {\n      this.startChannel(this.$route.params.id)\n    }\n  },\n  mounted() {\n    this.startChannel(this.$route.params.id)\n  },\n  beforeDestroy() {\n    clearTimeout(this.timeoutGenerator)\n  },\n  methods: {\n    startChannel(channelId) {\n      clearTimeout(this.timeoutGenerator)\n\n      this.messages = []\n\n      // DEMO: generate random message to fill the channel\n      this.messages.push(getMessage())\n      this.messages.push(getMessage())\n      this.messages.push(getMessage(this.user))\n      this.messages.push(getMessage())\n\n      this.channel = channelId\n\n      this.sendRandom()\n    },\n    // Random message generator\n    sendRandom() {\n      this.timeoutGenerator = setTimeout(() => {\n        this.messages.push(getMessage())\n        this.scrollToBottom()\n        this.sendRandom()\n      }, 1000 * (Math.floor(Math.random() * 15) + 1))\n    },\n    // Send message to channel\n    sendMessage(message) {\n      this.messages.push({\n        id: '_' + Math.random().toString(36).substr(2, 9),\n        user: this.user,\n        text: message,\n        timestamp: (new Date()).getTime()\n      })\n\n      this.scrollToBottom()\n    },\n    scrollToBottom() {\n      this.$nextTick(() => {\n        this.$refs.messages.scrollTop = this.$refs.messages.scrollHeight\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n// List Transition Animation\n.list-enter-active {\n  transition: all 0.3s;\n}\n\n.list-move {\n  transition: transform 0.3s;\n}\n\n.list-enter,\n.list-leave-to {\n  opacity: 0;\n  transform: translateX(-10px);\n}\n// -- End List Transition Animation\n\n.channel-page {\n  position: absolute;\n  top: 65px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  background: url(\"/images/chat/chat-bg-2.png\");\n\n  .messages {\n    flex-grow: 1;\n    margin-bottom: 68px;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch;\n    min-height: 0;\n  }\n\n  .input-box {\n    position: fixed;\n    bottom: 12px;\n    width: 100%;\n  }\n\n  .messages {\n    padding-bottom: 0px;\n  }\n\n  .input-box {\n    position: absolute;\n    bottom: 12px;\n  }\n}\n\n.theme--dark {\n  .channel-page {\n    background: none;\n  }\n}\n</style>\n"],"sourceRoot":"src/apps/chat/pages"}]}