{"remainingRequest":"/Users/luke/Documents/VUE/bt-starter/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luke/Documents/VUE/bt-starter/src/apps/feedback/components/FeedbackCompose.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luke/Documents/VUE/bt-starter/src/apps/feedback/components/FeedbackCompose.vue","mtime":1606480349574},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/bt-starter/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JwoKLyoKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8IFRPRE8gQ29tcG9zZSBDb21wb25lbnQKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8CnwgQ29tcG9zZSBuZXcgdGFza3MgZWRpdG9yCiovCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIHRpdGxlOiAnJywKICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICBkYXRlOiAnJywKICAgICAgdGFzazoge30sCgogICAgICB0YXNrTGFiZWxzOiBbXSwKICAgICAgc2VhcmNoOiBudWxsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoJ2ZlZWRiYWNrLWFwcCcsIFsnbGFiZWxzJ10pLAogICAgaXNFZGl0KCkgewogICAgICByZXR1cm4gdGhpcy50YXNrICYmIHRoaXMudGFzay5pZAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKCdmZWVkYmFjay1hcHAnLCBbJ3VwZGF0ZVRhc2snLCAnYWRkVGFzayddKSwKICAgIG9wZW4odGFzaykgewogICAgICBpZiAodGFzaykgewogICAgICAgIHRoaXMudGFzayA9IHRhc2sKICAgICAgICB0aGlzLnRpdGxlID0gdGhpcy50YXNrLnRpdGxlCiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IHRoaXMudGFzay5kZXNjcmlwdGlvbgogICAgICAgIHRoaXMuZGF0ZSA9IHRoaXMudGFzay5kYXRlCiAgICAgICAgdGhpcy50YXNrTGFiZWxzID0gdGhpcy50YXNrLmxhYmVscwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudGFzayA9IHt9CiAgICAgICAgdGhpcy50aXRsZSA9ICcnCiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9ICcnCiAgICAgICAgdGhpcy5kYXRlID0gJycKICAgICAgICB0aGlzLnRhc2tMYWJlbHMgPSBbXQogICAgICB9CgogICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZQogICAgfSwKICAgIHNhdmUoKSB7CiAgICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCB0YXNrTGFiZWxzIH0gPSB0aGlzCiAgICAgIGNvbnN0IHRhc2sgPSB7CiAgICAgICAgdGl0bGUsCiAgICAgICAgZGVzY3JpcHRpb24sCiAgICAgICAgbGFiZWxzOiB0YXNrTGFiZWxzCiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnRhc2suaWQpIHsKICAgICAgICB0aGlzLnVwZGF0ZVRhc2soewogICAgICAgICAgLi4udGhpcy50YXNrLAogICAgICAgICAgLi4udGFzawogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hZGRUYXNrKHRhc2spCiAgICAgIH0KCiAgICAgIHRoaXMuY2xvc2UoKQogICAgfSwKICAgIGZpbHRlciAoaXRlbSwgcXVlcnlUZXh0LCBpdGVtVGV4dCkgewogICAgICBjb25zdCBoYXNWYWx1ZSA9ICh2YWwpID0+IHZhbCAhPT0gbnVsbCA/IHZhbCA6ICcnCgogICAgICBjb25zdCB0ZXh0ID0gaGFzVmFsdWUoaXRlbS50aXRsZSkKICAgICAgY29uc3QgcXVlcnkgPSBoYXNWYWx1ZShxdWVyeVRleHQpCgogICAgICByZXR1cm4gdGV4dC50b1N0cmluZygpCiAgICAgICAgLnRvTG93ZXJDYXNlKCkKICAgICAgICAuaW5kZXhPZihxdWVyeS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpID4gLTEKICAgIH0KICB9Cn0K"},{"version":3,"sources":["FeedbackCompose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"FeedbackCompose.vue","sourceRoot":"src/apps/feedback/components","sourcesContent":["<template>\n  <v-dialog v-model=\"dialog\" width=\"600\">\n    <v-card>\n      <v-card-title class=\"pa-2\">\n        {{ isEdit ? 'Edit Task' : 'Add Task' }}\n        <v-spacer></v-spacer>\n        <v-btn icon @click=\"dialog = false\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-card-title>\n\n      <v-divider></v-divider>\n\n      <!-- task form -->\n      <div>\n        <v-text-field\n          v-model=\"title\"\n          class=\"px-2 py-1\"\n          solo\n          flat\n          :placeholder=\"$t('common.title')\"\n          autofocus\n          hide-details\n          @keyup.enter=\"save\"\n        ></v-text-field>\n\n        <v-divider></v-divider>\n\n        <v-textarea\n          v-model=\"description\"\n          class=\"px-2 py-1\"\n          solo\n          flat\n          :placeholder=\"$t('common.description')\"\n          hide-details\n        ></v-textarea>\n\n        <v-divider></v-divider>\n\n        <v-textarea\n          v-model=\"date\"\n          class=\"px-2 py-1\"\n          solo\n          flat\n          :placeholder=\"$t('common.description')\"\n          hide-details\n        ></v-textarea>\n\n        <v-select\n          v-model=\"taskLabels\"\n          class=\"px-2 my-3\"\n          :menu-props=\"{ bottom: true, offsetY: true }\"\n          :items=\"labels\"\n          placeholder=\"Labels\"\n          item-value=\"id\"\n          hide-selected\n          hide-details\n          solo\n          flat\n          multiple\n        >\n          <template v-slot:selection=\"{ attrs, item, parent, selected }\">\n            <v-chip\n              v-if=\"item === Object(item)\"\n              v-bind=\"attrs\"\n              class=\"font-weight-bold\"\n              :color=\"item.color\"\n              outlined\n              :input-value=\"selected\"\n              label\n            >\n              <span class=\"pr-2\">\n                {{ item.title }}\n              </span>\n              <v-icon\n                small\n                @click=\"parent.selectItem(item)\"\n              >close</v-icon>\n            </v-chip>\n          </template>\n\n          <template v-slot:item=\"{ index, item }\">\n            <v-chip\n              :color=\"item.color\"\n              label\n              outlined\n              small\n            >\n              {{ item.title }}\n            </v-chip>\n          </template>\n        </v-select>\n      </div>\n\n      <v-divider></v-divider>\n\n      <v-card-actions class=\"pa-2\">\n        <v-btn outlined @click=\"close\">{{ $t('common.cancel') }}</v-btn>\n        <v-spacer></v-spacer>\n        <v-btn color=\"primary\" @click=\"save\">{{ $t('common.save') }}</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n\n/*\n|---------------------------------------------------------------------\n| TODO Compose Component\n|---------------------------------------------------------------------\n|\n| Compose new tasks editor\n*/\nexport default {\n  data () {\n    return {\n      dialog: false,\n      title: '',\n      description: '',\n      date: '',\n      task: {},\n\n      taskLabels: [],\n      search: null\n    }\n  },\n  computed: {\n    ...mapState('feedback-app', ['labels']),\n    isEdit() {\n      return this.task && this.task.id\n    }\n  },\n  methods: {\n    ...mapMutations('feedback-app', ['updateTask', 'addTask']),\n    open(task) {\n      if (task) {\n        this.task = task\n        this.title = this.task.title\n        this.description = this.task.description\n        this.date = this.task.date\n        this.taskLabels = this.task.labels\n      } else {\n        this.task = {}\n        this.title = ''\n        this.description = ''\n        this.date = ''\n        this.taskLabels = []\n      }\n\n      this.dialog = true\n    },\n    close() {\n      this.dialog = false\n    },\n    save() {\n      const { title, description, taskLabels } = this\n      const task = {\n        title,\n        description,\n        labels: taskLabels\n      }\n\n      if (this.task.id) {\n        this.updateTask({\n          ...this.task,\n          ...task\n        })\n      } else {\n        this.addTask(task)\n      }\n\n      this.close()\n    },\n    filter (item, queryText, itemText) {\n      const hasValue = (val) => val !== null ? val : ''\n\n      const text = hasValue(item.title)\n      const query = hasValue(queryText)\n\n      return text.toString()\n        .toLowerCase()\n        .indexOf(query.toString().toLowerCase()) > -1\n    }\n  }\n}\n</script>\n"]}]}