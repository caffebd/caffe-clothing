{"remainingRequest":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luke/Documents/VUE/caffe-clothing/src/pages/dashboard/DashboardPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luke/Documents/VUE/caffe-clothing/src/pages/dashboard/DashboardPage.vue","mtime":1606830080987},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgovLyBERU1PIENhcmRzIGZvciBkYXNoYm9hcmQKLy9pbXBvcnQgU2FsZXNDYXJkIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZGFzaGJvYXJkL0luYm94Q2FyZCcKaW1wb3J0IENvbHVtbkNhcmQgZnJvbSAnLi4vLi4vcGFnZXMvdWkvY2hhcnRzL19leGFtcGxlcy9hcGV4LWNoYXJ0cy9zaW1wbGUvY29sdW1uJwppbXBvcnQgUGllQ2FyZCBmcm9tICcuLi8uLi9wYWdlcy91aS9jaGFydHMvX2V4YW1wbGVzL2VjaGFydHMvcGllJwppbXBvcnQgeyBkYiB9IGZyb20gJy4uLy4uL21haW4nCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnCmltcG9ydCBjYXJkTGlzdFZ1ZSBmcm9tICcuLi91aS9jb21wb25lbnRzL19leGFtcGxlcy9saXN0cy9pbnRlcm1lZGlhdGUvY2FyZC1saXN0LnZ1ZScKY29uc3QgcXVlcnkgPSBkYi5jb2xsZWN0aW9uKCd1c2VycycpCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ29sdW1uQ2FyZCwKICAgIFBpZUNhcmQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VSZWFsRGF0YTp0cnVlLAogICAgICBjaGFydFRhYnM6WyduYScsJ0JhciBDaGFydCcsICdQaWUgQ2hhcnQnXSwKICAgICAgdGltZW1pbjogMCwKICAgICAgdGltZW1heDogMjQsCiAgICAgIHRpbWVyYW5nZTogWzAsIDI0XSwKICAgICAgbWF4Ojk5LAogICAgICBtaW46MCwKICAgICAgdGFiczpudWxsLAogICAgICByYW5nZTpbMCw5OV0sCiAgICAgIGZvcm06IGZhbHNlLAogICAgICBtb2RlOmZhbHNlLAogICAgICBjaGFydFR5cGU6J0dyb3VwJywKICAgICAgbG9hZGluZ0ludGVydmFsOiBudWxsLAogICAgICBlbWFpbDogJycsCiAgICAgIGZvdW5kVXNlcjogbnVsbCwKICAgICAgaXNMb2FkaW5nMTogdHJ1ZSwKICAgICAgZnJvbURhdGVNZW51OiBmYWxzZSwKICAgICAgZnJvbURhdGVWYWw6IG51bGwsCiAgICAgIGRhdGVzOltdLAogICAgICBtb2RhbDogZmFsc2UsCiAgICAgIG1pbkRhdGU6ICcyMDE5LTA3LTA0JywKICAgICAgbWF4RGF0ZTogJzIwMzAtMDgtMzAnLAogICAgICBhbGxTZWFyY2hEYXRlczogW10sCiAgICAgIGFsbFJlc3VsdHM6IFtdLAogICAgICBjaGFsbGVuZ2VMaXN0OltdLAogICAgICBjaGFsbGVuZ2VTTVNMaXN0OltdLAogICAgICBzZWNyZXRMaXN0OltdLAogICAgICBzZWNyZXRTTVNMaXN0OltdLAogICAgICB0aW1lckxpc3Q6W10sCiAgICAgIHRpbWVyU01TTGlzdDpbXSwKICAgICAgdXNlclNNU0xpc3Q6W10sCiAgICAgIHpvbmVMaXN0OltdLAogICAgICB6b25lU01TTGlzdDpbXSwKICAgICAgYWxhcm1MaXN0OltdLAogICAgICBzZW5kQmFyRGF0YTogW10sCiAgICAgIHNlbmRQaWVEYXRhOltdLAogICAgICBzZWxlY3RDaGFsbGVuZ2U6IHRydWUsCiAgICAgIHNlbGVjdENoYWxsZW5nZVNNUzp0cnVlLAogICAgICBzZWxlY3RTZWNyZXQ6dHJ1ZSwKICAgICAgc2VsZWN0U2VjcmV0U01TOmZhbHNlLAogICAgICBzZWxlY3RUaW1lcjp0cnVlLAogICAgICBzZWxlY3RUaW1lclNNUzp0cnVlLAogICAgICBzZWxlY3Rab25lOmZhbHNlLAogICAgICBzZWxlY3Rab25lU01TOmZhbHNlLAogICAgICBzZWxlY3RVc2VyU01TOnRydWUsCiAgICAgIHNlbGVjdEFsYXJtOnRydWUsCgogICAgICBncm91cENoYWxsZW5nZUNvdW50OjAsCiAgICAgIGdyb3VwQ2hhbGxlbmdlU01TQ291bnQ6MCwKICAgICAgZ3JvdXBTZWNyZXRDb3VudDowLAogICAgICBncm91cFNlY3JldFNNU0NvdW50OjAsCiAgICAgIGdyb3VwVGltZXJDb3VudDowLAogICAgICBncm91cFRpbWVyU01TQ291bnQ6MCwKICAgICAgZ3JvdXBab25lQ291bnQ6MCwKICAgICAgZ3JvdXBab25lU01TQ291bnQ6MCwKICAgICAgZ3JvdXBVc2VyU01TQ291bnQ6MCwKICAgICAgZ3JvdXBBbGFybUNvdW50OjAsCgogICAgICBjaGFsbGVuZ2VDaGVjazpmYWxzZSwKICAgICAgY2hhbGxlbmdlU01TQ2hlY2s6ZmFsc2UsCiAgICAgIHNlY3JldENoZWNrOmZhbHNlLAogICAgICBzZWNyZXRTTVNDaGVjazpmYWxzZSwKICAgICAgdGltZXJDaGVjazpmYWxzZSwKICAgICAgdGltZXJTTVNDaGVjazpmYWxzZSwKICAgICAgem9uZUNoZWNrOmZhbHNlLAogICAgICB6b25lU01TQ2hlY2s6ZmFsc2UsCiAgICAgIHVzZXJTTVNDaGVjazpmYWxzZSwKICAgICAgYWxhcm1DaGVjazpmYWxzZSwKCgoKICAgICAgcmVzZWFyY2hDaGFsbGVuZ2VMaXN0OltdLAogICAgICByZXNlYXJjaEFsYXJtTGlzdDpbXSwKICAgICAgcmVzZWFyY2hBcHBPcGVuZWRMaXN0OltdLAogICAgICByZXNlYXJjaEJhbmdsYUxpc3Q6W10sCiAgICAgIHJlc2VhcmNoRW5nbGlzaExpc3Q6W10sCiAgICAgIHJlc2VhcmNoU2VjcmV0TGlzdDpbXSwKICAgICAgcmVzZWFyY2hUZXN0T25MaXN0OltdLAogICAgICByZXNlYXJjaFRpbWVyTGlzdDpbXSwKICAgICAgcmVzZWFyY2hVc2VyU01TTGlzdDpbXSwKICAgICAgcmVzZWFyY2hab25lTGlzdDpbXSwKCiAgICAgIGxvd2VyQWdlOjEsCiAgICAgIHVwcGVyQWdlOjk5LAoKICAgICAgbG93ZXJUaW1lOjAsCiAgICAgIHVwcGVyVGltZToyNCwKCiAgICAgIGFjdGl2ZUNoZWNrQm94ZXM6W10sCgogICAgICBkYXRhU291cmNlOidldmVudHMnLAogICAgICBkYXRhTGlzdDonZXZlbnRzJwoKCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IGNvdW50ID0gMAoKICAgIC8vIERFTU8gZGVsYXkgZm9yIGxvYWRpbmcgZ3JhcGhpY3MKICAgIHRoaXMubG9hZGluZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICB0aGlzW2Bpc0xvYWRpbmcke2NvdW50Kyt9YF0gPSBmYWxzZQogICAgICBpZiAoY291bnQgPT09IDQpIHRoaXMuY2xlYXIoKQogICAgfSwgNDAwKQogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuY2xlYXIoKQogIH0sCiAgbWV0aG9kczogewogICAgY2xlYXJBbGxDcml0ZXJpYSgpewogICAgICB0aGlzLmNoYWxsZW5nZUxpc3QgPSBbXQogICAgICB0aGlzLmNoYWxsZW5nZVNNU0xpc3QgPSBbXQogICAgICB0aGlzLnNlY3JldExpc3QgPSBbXQogICAgICB0aGlzLnNlY3JldFNNU0xpc3QgPSBbXQogICAgICB0aGlzLnRpbWVyTGlzdCA9IFtdCiAgICAgIHRoaXMudGltZXJTTVNMaXN0ID0gW10KICAgICAgdGhpcy51c2VyU01TTGlzdCA9IFtdCiAgICAgIHRoaXMuem9uZUxpc3QgPSBbXQogICAgICB0aGlzLnpvbmVTTVNMaXN0ID0gW10KICAgICAgdGhpcy5hbGFybUxpc3QgPSBbXQoKICAgICAgdGhpcy5yZXNlYXJjaENoYWxsZW5nZUxpc3QgPSBbXSwKICAgICAgdGhpcy5yZXNlYXJjaEFsYXJtTGlzdCA9IFtdLAogICAgICB0aGlzLnJlc2VhcmNoQXBwT3BlbmVkTGlzdCA9IFtdLAogICAgICB0aGlzLnJlc2VhcmNoQmFuZ2xhTGlzdCA9IFtdLAogICAgICB0aGlzLnJlc2VhcmNoRW5nbGlzaExpc3QgPSBbXSwKICAgICAgdGhpcy5yZXNlYXJjaFNlY3JldExpc3QgPSBbXSwKICAgICAgdGhpcy5yZXNlYXJjaFRlc3RPbkxpc3QgPSBbXSwKICAgICAgdGhpcy5yZXNlYXJjaFRpbWVyTGlzdCA9IFtdLAogICAgICB0aGlzLnJlc2VhcmNoVXNlclNNU0xpc3QgPSBbXSwKICAgICAgdGhpcy5yZXNlYXJjaFpvbmVMaXN0ID0gW10sCgogICAgICB0aGlzLnNlbmRCYXJEYXRhID0gW10KICAgICAgdGhpcy5zZW5kUGllRGF0YSA9IFtdCgogICAgICB0aGlzLmNoYWxsZW5nZUNoZWNrID0gZmFsc2UKICAgICAgdGhpcy5jaGFsbGVuZ2VTTVNDaGVjayA9IGZhbHNlCiAgICAgIHRoaXMuc2VjcmV0Q2hlY2sgPSBmYWxzZQogICAgICB0aGlzLnNlY3JldFNNU0NoZWNrID0gZmFsc2UKICAgICAgdGhpcy50aW1lckNoZWNrID0gZmFsc2UKICAgICAgdGhpcy50aW1lclNNU0NoZWNrID0gZmFsc2UKICAgICAgdGhpcy56b25lQ2hlY2sgPSBmYWxzZQogICAgICB0aGlzLnpvbmVTTVNDaGVjayA9IGZhbHNlCiAgICAgIHRoaXMudXNlclNNU0NoZWNrID0gZmFsc2UKICAgICAgdGhpcy5hbGFybUNoZWNrID0gZmFsc2UKCiAgICAgIHRoaXMuYWN0aXZlQ2hlY2tCb3hlcz1bXQoKCgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncXVlcnl1c2VyL3NldFBpZURhdGEnLHRoaXMuc2VuZFBpZURhdGEpCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdxdWVyeXVzZXIvc2V0TmV3QmFyQ2hhcnREYXRhJyxPYmplY3QudmFsdWVzKHRoaXMuc2VuZEJhckRhdGEpKQogICAgfSwKICAgIHRvZ2dsZURhdGFUeXBlKGV2ZW50KXsKCiAgICAgIHRoaXMuY2xlYXJBbGxDcml0ZXJpYSgpCgogICAgICBpZiAoZXZlbnQ9PXRydWUpewogICAgICAgIHRoaXMudXNlUmVhbERhdGEgPSB0cnVlCiAgICAgICAgdGhpcy5kYXRhU291cmNlID0gJ2V2ZW50cycsCiAgICAgICAgdGhpcy5kYXRhTGlzdCA9ICdldmVudHMnCiAgICAgIH1lbHNlewogICAgICAgIHRoaXMudXNlUmVhbERhdGEgPSBmYWxzZQogICAgICAgIHRoaXMuZGF0YVNvdXJjZSA9ICdyZXNlYXJjaCcKICAgICAgICB0aGlzLmRhdGFMaXN0ID0gJ2RhdGEnCiAgICAgIH0KCgogICAgfSwKICAgIHRvZ2dsZUNoYXJ0VHlwZShldmVudCl7CiAgICAgIGNvbnNvbGUubG9nKGV2ZW50KQogICAgICB0aGlzLmNsZWFyQWxsQ3JpdGVyaWEoKQogICAgICBpZiAoZXZlbnQ9PXRydWUpewogICAgICAgIHRoaXMuY2hhcnRUeXBlPSdJbmRpdmlkdWFsJwogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLmNoYXJ0VHlwZT0nR3JvdXAnCiAgICAgIH0KICAgIH0sCiAgICBjbGVhcigpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmxvYWRpbmdJbnRlcnZhbCkKICAgIH0sCiAgICBjaGVja0JveFRlc3QodHlwZSl7CiAgICAgIGNvbnNvbGUubG9nKHR5cGUrJyAnK3RoaXMuY2hhbGxlbmdlQ2hlY2spCiAgICAgIGlmICh0aGlzLmFjdGl2ZUNoZWNrQm94ZXMuaW5jbHVkZXModHlwZSkpIHsKICAgICAgICB0aGlzLmFjdGl2ZUNoZWNrQm94ZXMuc3BsaWNlKHRoaXMuYWN0aXZlQ2hlY2tCb3hlcy5pbmRleE9mKHR5cGUpLCAxKTsKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5hY3RpdmVDaGVja0JveGVzLnB1c2godHlwZSkKICAgICAgfQogICAgICBjb25zb2xlLmxvZyAodGhpcy5hY3RpdmVDaGVja0JveGVzKQoKICAgIGlmICh0aGlzLmNoYXJ0VHlwZT09J0dyb3VwJykgewogICAgICB0aGlzLmdldEdyb3VwRGF0YSh0eXBlLCBmYWxzZSkKICAgIH1lbHNlewogICAgICBpZiAodGhpcy51c2VSZWFsRGF0YSl7CiAgICAgIHRoaXMuc2VsZWN0Q2hhcnRDb2x1bW5zKCkKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5zZWxlY3RSZXNlYXJjaENoYXJ0Q29sdW1ucygpCiAgICAgIH0KICAgIH0KCiAgICB9LAogICAgZGF0ZUNoYW5nZWRDaGVja2VyKGkpIHsKCiAgICAgIGlmIChpPT0yKXsKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgdGhpcy5zZW5kQmFyRGF0YT1bXQogICAgICB0aGlzLnNlbmRQaWVEYXRhPVtdCgogICAgaWYgKHRoaXMuY2hhcnRUeXBlPT0nR3JvdXAnKSB7CgogICAgICBmb3IgKHZhciBkPTA7IGQ8dGhpcy5hY3RpdmVDaGVja0JveGVzLmxlbmd0aDsgZCsrKXsKICAgICAgICB0aGlzLmdldEdyb3VwRGF0YSh0aGlzLmFjdGl2ZUNoZWNrQm94ZXNbZF0sIHRydWUpCiAgICAgIH0KCiAgICB9ZWxzZXsKICAgICAgdGhpcy5zZWFyY2hVc2Vyc0J5RW1haWwoKQogICAgfQogICAgfSwKICAgIGNoYW5nZURhdGEoKSB7CgogICAgaWYgKHRoaXMuY2hhcnRUeXBlPT0nR3JvdXAnKXsKICAgICAgIHRoaXMuc2VsZWN0Q2hhbGxlbmdlU01TID0gZmFsc2UKICAgICAgIHRoaXMuc2VsZWN0Q2hhcnRDb2x1bW5zKCkKICAgIH1lbHNlewogICAgICB0aGlzLnNlYXJjaFVzZXJzQnlFbWFpbCgpCiAgICB9CgogICAgfSwKCiAgICBhc3luYyBtb3ZlUmVzZWFyY2ggKCkgewoKICAgICAgbGV0IHVzZXJJZExpc3Q9W10KICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbigidXNlcnMiKS5nZXQoKS50aGVuKGZ1bmN0aW9uKHF1ZXJ5U25hcHNob3QpIHsKICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uKGRvYykgewogICAgICAgIHVzZXJJZExpc3QucHVzaChkb2MucmVmLmlkKQogICAgICB9KQogICAgICB9KQoKICAgICAgZm9yICh2YXIgbD0wOyBsPHVzZXJJZExpc3QubGVuZ3RoOyBsKyspewogICAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyh1c2VySWRMaXN0W2xdKS5jb2xsZWN0aW9uKCdyZXNlYXJjaCcpLmdldCgpLnRoZW4oKHF1ZXJ5U25hcHNob3QpPT4gewoKICAgICAgaWYgKHF1ZXJ5U25hcHNob3QuZG9jcy5sZW5ndGg+MCl7CiAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaChhc3luYyAoZG9jKT0+IHsKCiAgICAgICAgdmFyIGlkRGF0ZSA9IGRvYy5pZAogICAgICAgIHZhciB0aGVMaXN0ID0gZG9jLmRhdGEoKVsnZGF0YSddCgoKICAgICAgICAvL2dvIHRocm91Z2ggZGF0YSBsaXN0IHNlZSB3aGF0IHR5cGUKCiAgICAgICAgZm9yICh2YXIgZD0wOyBkPHRoZUxpc3QubGVuZ3RoOyBkKyspewogICAgICAgICAgY29uc29sZS5sb2codGhlTGlzdFtkXS5ldmVudCArJyAgICcraWREYXRlKQogICAgICAgICAgdmFyIGNhdD0nJwogICAgICAgICAgdmFyIHVzZURhdGU9JycKICAgICAgICAgIHN3aXRjaCAodGhlTGlzdFtkXS5ldmVudCkgewogICAgICAgICAgICBjYXNlICdVc2VfQmFuZ2xhJzoKICAgICAgICAgICAgICBjYXQgPSAncmVzZWFyY2hCYW5nbGEnCgogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoY2F0Lmxlbmd0aD4wKXsKICAgICAgICAgICAgZGIuY29sbGVjdGlvbihjYXQpLmRvYyhpZERhdGUpCiAgICAgICAgICAgIC5zZXQoewogICAgICAgICAgICAgIGRhdGE6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLmFycmF5VW5pb24odGhlTGlzdFtkXSkKICAgICAgICAgIC8vICAgICdpbmNpZGVudHMnOnRoZUxpc3QKICAgICAgICAgICAgfSx7bWVyZ2U6dHJ1ZX0pCiAgICAgICAgICAgIH0KICAgICAgICB9CgoKCiAgICAgICB9KQogICAgICB9CgogICAgICB9KQogICAgICB9CgogICAgfSwKCiAgICBhc3luYyBtb3ZlUmVwb3J0cygpewoKICAgICAgbGV0IHVzZXJJZExpc3Q9W10KICAgICAgbGV0IHVzZXJQaG9uZXM9W10KICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbigidXNlcnMiKS5nZXQoKS50aGVuKGZ1bmN0aW9uKHF1ZXJ5U25hcHNob3QpIHsKICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uKGRvYykgewoKICAgICAgICB1c2VySWRMaXN0LnB1c2goZG9jLnJlZi5pZCkKICAgICAgICB2YXIgcG4gPSBkb2MuZGF0YSgpWyd1c2VyUGhvbmUnXQogICAgICAgIGlmIChwbi5sZW5ndGg9PTApe3BuPScxMjMnfQogICAgICAgIHVzZXJQaG9uZXMucHVzaChwbikKCiAgICAgIH0pCiAgICAgIH0pCgogICAgICAgY29uc29sZS5sb2codXNlcklkTGlzdCkKCiAgICAgIGZvciAodmFyIGw9MDsgbDx1c2VySWRMaXN0Lmxlbmd0aDsgbCsrKXsKCgoKICAgICAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2ModXNlcklkTGlzdFtsXSkuY29sbGVjdGlvbignaW5jaWRlbnRzJykuZ2V0KCkudGhlbigocXVlcnlTbmFwc2hvdCk9PiB7CgogICAgICBpZiAocXVlcnlTbmFwc2hvdC5kb2NzLmxlbmd0aD4wKXsKICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKGFzeW5jIChkb2MpPT4gewogICAgICAgLy8gY29uc29sZS5sb2coZG9jLnJlZi5wYXJlbnQucGFyZW50LmlkKQogICAgICAgIHZhciB1c2VySWQ9IGRvYy5yZWYucGFyZW50LnBhcmVudC5pZAogICAgICAgIHZhciBwaCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKHVzZXJJZCkuZ2V0KCkKICAgICAgIC8vIGNvbnNvbGUubG9nKHBoLmRhdGEoKS51c2VyUGhvbmUpCiAgICAgICAgLy9jb25zb2xlLmxvZyhwaC5pZCkKICAgICAgdmFyIHRoZUlEID0gZG9jLmlkOwogICAgICB2YXIgdGhlTGlzdCA9IGRvYy5kYXRhKClbJ2luY2lkZW50cyddCiAgICAgIGZvciAodmFyIGY9MDsgZjx0aGVMaXN0Lmxlbmd0aDsgZisrKXsKICAgICAgICAvL2NvbnNvbGUubG9nKHVzZXJJZExpc3RbY291bnRdKycgICAnK3VzZXJQaG9uZXNbY291bnRdKQogICAgICAgIE9iamVjdC5hc3NpZ24odGhlTGlzdFtmXSwge3VzZXJQaG9uZTogcGguZGF0YSgpLnVzZXJQaG9uZSwgdXNlcklkOiBwaC5pZH0pOwogICAgICBkYi5jb2xsZWN0aW9uKCJyZXBvcnRzRmlsZWQiKS5kb2MoZG9jLmlkKQogICAgICAuc2V0KHsKICAgICAgICBpbmNpZGVudHM6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLmFycmF5VW5pb24odGhlTGlzdFtmXSkKICAgIC8vICAgICdpbmNpZGVudHMnOnRoZUxpc3QKICAgICAgfSx7bWVyZ2U6dHJ1ZX0pCiAgICAgIH0KICAgICAgY29uc29sZS5sb2cgKGRvYy5pZCkKICAgICAgY29uc29sZS5sb2codGhlTGlzdCkKCgogICAgICAgfSkKICAgICAgfQoKICAgICAgfSkKICAgICAgfQoKICAgIH0sCgogICAgYXN5bmMgc2V0VGltZVVzZXJFdmVudHNEb2NzKCkgewoKICAgICAgbGV0IHVzZXJJZExpc3Q9W10KICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbigidXNlcnMiKS5nZXQoKS50aGVuKGZ1bmN0aW9uKHF1ZXJ5U25hcHNob3QpIHsKICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uKGRvYykgewoKICAgICAgICB1c2VySWRMaXN0LnB1c2goZG9jLnJlZi5pZCkKICAgICAgfSkKICAgICAgfSkKCiAgICAgICBjb25zb2xlLmxvZyh1c2VySWRMaXN0KQoKICAgICAgZm9yICh2YXIgbD0wOyBsPHVzZXJJZExpc3QubGVuZ3RoOyBsKyspewoKICAgICAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2ModXNlcklkTGlzdFtsXSkuY29sbGVjdGlvbigncmVzZWFyY2gnKS5nZXQoKS50aGVuKGZ1bmN0aW9uKHF1ZXJ5U25hcHNob3QpIHsKICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uKGRvYykgewoKICAgICAgY29uc3Qgc3BsaXRUaW1lPWRvYy5yZWYuaWQuc3BsaXQoJyAnKVswXTsKICAgICAgY29uc29sZS5sb2coc3BsaXRUaW1lKQogICAgICB2YXIgcHVzaFRpbWUgPSBEYXRlLnBhcnNlKHNwbGl0VGltZSkKICAgICAgICBkb2MucmVmLnVwZGF0ZSh7CiAgICAgICAgICBjcmVhdGVkQXQ6IHB1c2hUaW1lCiAgICAgICAgfSk7CiAgICAgICAgY29uc29sZS5sb2cobW9tZW50KHB1c2hUaW1lKS5mb3JtYXQoJ01NTSBEbyBZWScpKQoKICAgICAgfSkKCiAgICAgIH0pCiAgICAgIH0KCiAgICB9LAogICAgZ2V0UmFuZG9tSW50KG1heCkgewogICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcihtYXgpKzE2KTsKICAgIH0sCgoKCiAgICBzZXRUaW1lQWxsRG9jcygpewogICAgICBkYi5jb2xsZWN0aW9uKCJyZXNlYXJjaEJhbmdsYSIpLmdldCgpLnRoZW4oZnVuY3Rpb24ocXVlcnlTbmFwc2hvdCkgewogICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goZnVuY3Rpb24oZG9jKSB7CiAgICAgIGNvbnN0IHNwbGl0VGltZT1kb2MucmVmLmlkLnNwbGl0KCcgJylbMF07CiAgICAgIGNvbnNvbGUubG9nKHNwbGl0VGltZSkKICAgICAgdmFyIHB1c2hUaW1lID0gRGF0ZS5wYXJzZShzcGxpdFRpbWUpCiAgICAgICAgZG9jLnJlZi51cGRhdGUoewogICAgICAgICAgY3JlYXRlZEF0OiBwdXNoVGltZQogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKG1vbWVudChwdXNoVGltZSkuZm9ybWF0KCdNTU0gRG8gWVknKSkKICAgIH0pOwogICAgfSk7CiAgICB9LAogICAgc2V0RXZlbnRBZ2VzKCl7CiAgICAgIHZhciBjYXQ9J2FsYXJtJwogICAgICB2YXIgdGVtcD1bXQogICAgICBkYi5jb2xsZWN0aW9uKGNhdCkuZ2V0KCkudGhlbihmdW5jdGlvbihxdWVyeVNuYXBzaG90KSB7CiAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goZnVuY3Rpb24oZG9jKSB7CgogICAgICAvL2NvbnNvbGUubG9nKGRvYy5kYXRhKClbdGhpcy5kYXRhTGlzdF0pCiAgICAgIHRlbXAucHVzaChkb2MuZGF0YSgpW3RoaXMuZGF0YUxpc3RdKQoKICAgIH0pOwogICAgdmFyIG5ld1RlbXA7CiAgICBjb25zb2xlLmxvZyh0ZW1wLmxlbmd0aCkKICAgIGZvciAodmFyIHQ9MDsgdDx0ZW1wLmxlbmd0aDsgdCsrKXsKICAgICAgIG5ld1RlbXAgPSB0ZW1wW3RdCiAgICAgIGZvciAodmFyIHM9MDsgczxuZXdUZW1wLmxlbmd0aDsgcysrKXsKICAgICAgICB2YXIgcm5kQWdlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcigzMCkrMTYpCiAgICAgICAgbmV3VGVtcFtzXVsnYWdlJ109cm5kQWdlCiAgICAgIH0KCiAgICB9CiAgICBjb25zb2xlLmxvZyh0ZW1wKQogICAgdmFyIHA9MAogICAgZGIuY29sbGVjdGlvbihjYXQpLmdldCgpLnRoZW4oKHF1ZXJ5U25hcHNob3QpID0+IHsKICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKChkb2MpID0+IHsKICAgICAgICBkb2MucmVmLnVwZGF0ZSh7CiAgICAgICAgICBldmVudHM6IHRlbXBbcF0KICAgICAgICB9KTsKICAgICAgICBwKysKICAgICAgfSkKICAgIH0pCiAgICB9KTsKICAgIH0sCgoKCiAgICBhc3luYyBnZXRHcm91cERhdGEoY2F0ZWdvcnksIGZyb21EYXRlKXsKCgogICAgICBpZiAodGhpcy5kYXRlc1swXT09bnVsbCl7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmRhdGVzWzFdPT1udWxsKXsKICAgICAgICB0aGlzLmRhdGVzWzFdPXRoaXMuZGF0ZXNbMF0KICAgICAgfQoKICAgICAgY29uc3QgZnVsbERhdGUxID0gRGF0ZS5wYXJzZSh0aGlzLmRhdGVzWzBdKQogICAgICBjb25zdCBmdWxsRGF0ZTIgPSBEYXRlLnBhcnNlKHRoaXMuZGF0ZXNbMV0pCgogICAgICBjb25zb2xlLmxvZygnRkQgJytmdWxsRGF0ZTIpCgogICAgICBjb25zdCB1c2VEYXRlcyA9IFtdCgoKICAgICAgaWYgKGZ1bGxEYXRlMSA8IGZ1bGxEYXRlMikgewogICAgICAgIHVzZURhdGVzLnB1c2goZnVsbERhdGUxKQogICAgICAgIHVzZURhdGVzLnB1c2goZnVsbERhdGUyKQogICAgICB9IGVsc2UgewogICAgICAgIHVzZURhdGVzLnB1c2goZnVsbERhdGUyKQogICAgICAgIHVzZURhdGVzLnB1c2goZnVsbERhdGUxKQogICAgICB9CiAgICAgIGNvbnNvbGUubG9nICh1c2VEYXRlcykKCiAgICAgIHRoaXMuYWxsU2VhcmNoRGF0ZXMgID0gdGhpcy5nZXREYXRlcyh1c2VEYXRlc1swXSwgdXNlRGF0ZXNbMV0pCgogICAgICBjb25zb2xlLmxvZyh1c2VEYXRlc1sxXSkKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdxdWVyeXVzZXIvc2V0RGF0ZXMnLHRoaXMuYWxsU2VhcmNoRGF0ZXMgKQoKICAgICAgICBjb25zdCB0ZXN0Q29sbGVjdGlvbiA9IFtdCiAgICAgIC8vY29udGV4dC5jb21taXQoIlNFVF9NQVRDSEVTIiwgY2F0ZWdvcmllcykKCiAgICAgIGlmICghZnJvbURhdGUpewogICAgICBmb3IgKHZhciBiPTA7IGI8dGhpcy5zZW5kQmFyRGF0YS5sZW5ndGg7IGIrKyl7CiAgICAgICAgaWYgKHRoaXMuc2VuZEJhckRhdGFbYl1bJ25hbWUnXT09Y2F0ZWdvcnkpewogICAgICAgICAgY29uc29sZS5sb2coJ3JlbW92ZSBpdCcpCiAgICAgICAgICAvL3RoaXMuc2VuZEJhckRhdGEgPSBbXQogICAgICAgICAgdGhpcy5zZW5kQmFyRGF0YS5zcGxpY2UoYiwgMSk7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncXVlcnl1c2VyL3NldE5ld0JhckNoYXJ0RGF0YScsT2JqZWN0LnZhbHVlcyh0aGlzLnNlbmRCYXJEYXRhKSkKCiAgICAgICAgICAgICAgZm9yICh2YXIgcD0wOyBwPHRoaXMuc2VuZFBpZURhdGEubGVuZ3RoOyBwKyspewogICAgICAgICAgICAgIGlmICh0aGlzLnNlbmRQaWVEYXRhW3BdWyduYW1lJ109PWNhdGVnb3J5KXsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZW1vdmUgaXQgcGllJykKICAgICAgICAgICAgICAgIC8vdGhpcy5zZW5kQmFyRGF0YSA9IFtdCiAgICAgICAgICAgICAgICB0aGlzLnNlbmRQaWVEYXRhLnNwbGljZShwLCAxKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdxdWVyeXVzZXIvc2V0UGllRGF0YScsdGhpcy5zZW5kUGllRGF0YSkKCiAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYWRkIGl0IHBpZScpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgIHJldHVybgogICAgICAgIH1lbHNlewogICAgICAgICAgY29uc29sZS5sb2coJ2FkZCBpdCcpCiAgICAgICAgfQogICAgICB9CgogICAgICB9CgogICAgICBjb25zb2xlLmxvZygnQ0FUICAnK2NhdGVnb3J5KQoKICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbihjYXRlZ29yeSkKICAgICAgICAub3JkZXJCeSgnY3JlYXRlZEF0Jykuc3RhcnRBdCh1c2VEYXRlc1swXSkuZW5kQXQodXNlRGF0ZXNbMV0pCiAgICAgICAgLy8gICAsICc9PScsIERhdGUucGFyc2UoJzIwMjAtMTEtMTcgMDA6MDA6MDAuMDAwJykpCiAgICAgICAgLmdldCgpCiAgICAgICAgLnRoZW4oKHF1ZXJ5U25hcHNob3QpID0+IHsKICAgICAgICAgIGlmIChxdWVyeVNuYXBzaG90LmVtcHR5KSB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICBjb25zb2xlLmxvZygnY2Fubm90IGZpbmQnKQogICAgICAgICAgICAvL3RoaXMuJHJvdXRlci5wdXNoKCcvSGVsbG9Xb3JsZCcpCiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICB2YXIgdG90YWxDb3VudCA9IDA7CiAgICAgICAgICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKChkb2MpID0+IHsKICAgICAgICAgICAgICBjb25zdCBjb2xsID0gW10KICAgICAgICAgICAgICBjb25zdCB7IGlkIH0gPSBkb2MKICAgICAgICAgICAgICBjb25zdCB1c2luZ0RhdGUgPSBtb21lbnQoaWQpLmZvcm1hdCgnTU1NIERvIFlZJykKCiAgICAgICAgICAgICAgZG9jLmRhdGEoKVt0aGlzLmRhdGFMaXN0XS5mb3JFYWNoKChkb2MpID0+IHsKICAgICAgICAgICAgICAgIHZhciB0aGVUaW1lCiAgICAgICAgICAgICAgICBpZiAoZG9jLnRpbWUpewogICAgICAgICAgICAgICAgICB0aGVUaW1lID0gZG9jLnRpbWUuc2Vjb25kcyoxMDAwCiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoZG9jLmRhdGUpewogICAgICAgICAgICAgICAgICB0aGVUaW1lID0gZG9jLmRhdGUuc2Vjb25kcyoxMDAwCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIGFUaW1lID0gcGFyc2VJbnQgKG1vbWVudCh0aGVUaW1lKS5mb3JtYXQoJ0hIJykpCiAgICAgICAgICAgICAgICAvL3JlbW92ZWQgYWdlIGNoZWNrIGZvciBub3cKICAgICAgICAgICAgICAgIC8vaWYgKGRvYy5hZ2UgPj0gdGhpcy5sb3dlckFnZSAmJiBkb2MuYWdlIDw9IHRoaXMudXBwZXJBZ2UpewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRpbWVyYW5nZVswXSArJyAgICcrdGhpcy50aW1lcmFuZ2VbMV0pCiAgICAgICAgICAgICAgICAgIGlmIChhVGltZSA+PSB0aGlzLnRpbWVyYW5nZVswXSAmJiBhVGltZSA8PSB0aGlzLnRpbWVyYW5nZVsxXSl7CiAgICAgICAgICAgICAgICAgICAgY29sbC5wdXNoKHsgZG9jIH0pCiAgICAgICAgICAgICAgICAgICAgdG90YWxDb3VudCsrOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvL30KICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICB0ZXN0Q29sbGVjdGlvbi5wdXNoKHsgW3VzaW5nRGF0ZV06IGNvbGwgfSkKCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICBjb25zb2xlLmxvZyAoY2F0ZWdvcnkgKycgICcrdG90YWxDb3VudCkKICAgICAgICAgICAgIHRoaXMuc2VuZFBpZURhdGEucHVzaCh7dmFsdWU6IHRvdGFsQ291bnQsIG5hbWU6IGNhdGVnb3J5fSkKICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdxdWVyeXVzZXIvc2V0UGllRGF0YScsIHRoaXMuc2VuZFBpZURhdGEpCgogICAgICAgICAgfQoKICAgICAgICB9KQoKICAgICAgYXdhaXQgdGhpcy5maWxsR3JvdXBDaGFydEFycmF5KHRlc3RDb2xsZWN0aW9uLCBjYXRlZ29yeSkKCiAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VuZEJhckRhdGEpCiAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncXVlcnl1c2VyL3NldE5ld0JhckNoYXJ0RGF0YScsT2JqZWN0LnZhbHVlcyh0aGlzLnNlbmRCYXJEYXRhKSkKCiAgICB9LAoKICAgIGFzeW5jIHNlYXJjaFVzZXJzQnlFbWFpbCgpIHsKCmNvbnNvbGUubG9nKCAgJ3NlYXJjaCB1c2VyJykKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZQogICAgICB0aGlzLm1lc3NhZ2UgPSAnJwogICAgICB0aGlzLmZvdW5kVXNlciA9IG51bGwKCiAgICAgIHRoaXMuY2hhbGxlbmdlTGlzdCA9IFtdCiAgICAgIHRoaXMuY2hhbGxlbmdlU01TTGlzdCA9IFtdCiAgICAgIHRoaXMuc2VjcmV0TGlzdCA9IFtdCiAgICAgIHRoaXMuc2VjcmV0U01TTGlzdCA9IFtdCiAgICAgIHRoaXMudGltZXJMaXN0ID0gW10KICAgICAgdGhpcy50aW1lclNNU0xpc3QgPSBbXQogICAgICB0aGlzLnVzZXJTTVNMaXN0ID0gW10KICAgICAgdGhpcy56b25lTGlzdCA9IFtdCiAgICAgIHRoaXMuem9uZVNNU0xpc3QgPSBbXQogICAgICB0aGlzLmFsYXJtTGlzdCA9IFtdCgogICAgICB0aGlzLnJlc2VhcmNoQ2hhbGxlbmdlTGlzdCA9IFtdLAogICAgICB0aGlzLnJlc2VhcmNoQWxhcm1MaXN0ID0gW10sCiAgICAgIHRoaXMucmVzZWFyY2hBcHBPcGVuZWRMaXN0ID0gW10sCiAgICAgIHRoaXMucmVzZWFyY2hCYW5nbGFMaXN0ID0gW10sCiAgICAgIHRoaXMucmVzZWFyY2hFbmdsaXNoTGlzdCA9IFtdLAogICAgICB0aGlzLnJlc2VhcmNoU2VjcmV0TGlzdCA9IFtdLAogICAgICB0aGlzLnJlc2VhcmNoVGVzdE9uTGlzdCA9IFtdLAogICAgICB0aGlzLnJlc2VhcmNoVGltZXJMaXN0ID0gW10sCiAgICAgIHRoaXMucmVzZWFyY2hVc2VyU01TTGlzdCA9IFtdLAogICAgICB0aGlzLnJlc2VhcmNoWm9uZUxpc3QgPSBbXSwKCiAgICAgIHRoaXMuc2VuZEJhckRhdGEgPSBbXQogICAgICB0aGlzLnNlbmRQaWVEYXRhID0gW10KCiAgICAgIHZhciBuZXdOdW1iZXI7CiAgICAgIGlmICh0aGlzLmVtYWlsLnN1YnN0cmluZygwLDMpIT0nKzg4Jyl7CiAgICAgICAgbmV3TnVtYmVyID0gJys4OCcrdGhpcy5lbWFpbAogICAgICB9ZWxzZXsKICAgICAgICBuZXdOdW1iZXIgPSB0aGlzLmVtYWlsCiAgICAgIH0KCgogICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRiCiAgICAgICAgLmNvbGxlY3Rpb24oJ3VzZXJzJykKICAgICAgICAud2hlcmUoJ3VzZXJQaG9uZScsICc9PScsIG5ld051bWJlcikKICAgICAgICAuZ2V0KCkKCiAgICAgIGlmICghc25hcHNob3QuZW1wdHkpIHsKICAgICAgICBjb25zdCB1c2VySWQgPSBzbmFwc2hvdC5kb2NzWzBdLmlkCiAgICAgICAgY29uc3QgdXNlckRhdGEgPSBzbmFwc2hvdC5kb2NzWzBdLmRhdGEoKQoKICAgICAgICB0aGlzLmZvdW5kVXNlciA9IHsKICAgICAgICAgIGlkOiB1c2VySWQsCiAgICAgICAgICAuLi51c2VyRGF0YQogICAgICAgIH0KCiAgICAgICAgY29uc3QgZGJVc2VyID0gYXdhaXQgZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2ModXNlcklkKS5nZXQoKQoKICAgICAgICBpZiAoZGJVc2VyICE9PSBudWxsKSB7CgogICAgICAgICAgY29uc3QgcXVlcnlVc2VyRGF0YSA9IGRiVXNlci5kYXRhKCkKCiAgICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncXVlcnl1c2VyL3NldFVzZXJEYXRhJywgewogICAgICAgICAgICBpZDogZGJVc2VyLmlkLAogICAgICAgICAgICBuYW1lOiBxdWVyeVVzZXJEYXRhLnVzZXJuYW1lLAogICAgICAgICAgICBlbWFpbDogcXVlcnlVc2VyRGF0YS5lbWFpbAoKICAgICAgICAgIH0pCgogICAgICAgICAgdGhpcy5zZWFyY2hVc2VyQW5kRGF0ZSh1c2VySWQpCgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnTk8gVVNFUicpCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubWVzc2FnZSA9ICdObyB1c2VyIHdpdGggdGhhdCBlbWFpbCBmb3VuZC4nCiAgICAgIH0KICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgfSwKCiAgICBnZXREYXRlcyhzdGFydERhdGUsIHN0b3BEYXRlKSB7CiAgICAgIHZhciBkYXRlQXJyYXkgPSBbXTsKICAgICAgdmFyIGN1cnJlbnREYXRlID0gbW9tZW50KHN0YXJ0RGF0ZSk7CiAgICAgIHZhciBzdG9wRGF0ZSA9IG1vbWVudChzdG9wRGF0ZSk7CiAgICAgIHdoaWxlIChjdXJyZW50RGF0ZSA8PSBzdG9wRGF0ZSkgewogICAgICAgICAgZGF0ZUFycmF5LnB1c2goIG1vbWVudChjdXJyZW50RGF0ZSkuZm9ybWF0KCdNTU0gRG8gWVknKSApCiAgICAgICAgICBjdXJyZW50RGF0ZSA9IG1vbWVudChjdXJyZW50RGF0ZSkuYWRkKDEsICdkYXlzJyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGRhdGVBcnJheTsKICAgIH0sCiAgICBhc3luYyBzZWFyY2hVc2VyQW5kRGF0ZSh1aWQpIHsKICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmRhdGVzWzBdICsgJyAwMDowMDowMC4wMDAnKQoKICAgICAgY29uc3QgZnVsbERhdGUxID0gRGF0ZS5wYXJzZSh0aGlzLmRhdGVzWzBdKQogICAgICBjb25zdCBmdWxsRGF0ZTIgPSBEYXRlLnBhcnNlKHRoaXMuZGF0ZXNbMV0pCgogICAgICBpZiAodGhpcy5kYXRlc1swXT09bnVsbCl7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmRhdGVzWzFdPT1udWxsKXsKICAgICAgICB0aGlzLmRhdGVzWzFdPXRoaXMuZGF0ZXNbMF0KICAgICAgfQoKICAgICAgY29uc3QgdXNlRGF0ZXMgPSBbXQoKICAgICAgaWYgKGZ1bGxEYXRlMSA8IGZ1bGxEYXRlMikgewogICAgICAgIHVzZURhdGVzLnB1c2goZnVsbERhdGUxKQogICAgICAgIHVzZURhdGVzLnB1c2goZnVsbERhdGUyKQogICAgICB9IGVsc2UgewogICAgICAgIHVzZURhdGVzLnB1c2goZnVsbERhdGUyKQogICAgICAgIHVzZURhdGVzLnB1c2goZnVsbERhdGUxKQogICAgICB9CiAgICAgIGNvbnNvbGUubG9nICh1c2VEYXRlcykKCiAgICAgIHRoaXMuYWxsU2VhcmNoRGF0ZXMgID0gdGhpcy5nZXREYXRlcyh1c2VEYXRlc1swXSwgdXNlRGF0ZXNbMV0pCgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncXVlcnl1c2VyL3NldERhdGVzJyx0aGlzLmFsbFNlYXJjaERhdGVzICkKCiAgICAgIGNvbnN0IHRlc3RDb2xsZWN0aW9uID0gW10KICAgICAgLy9jb250ZXh0LmNvbW1pdCgiU0VUX01BVENIRVMiLCBjYXRlZ29yaWVzKQoKICAgICAgZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2ModWlkKQogICAgICAgIC5jb2xsZWN0aW9uKHRoaXMuZGF0YVNvdXJjZSkKICAgICAgICAub3JkZXJCeSgnY3JlYXRlZEF0Jykuc3RhcnRBdCh1c2VEYXRlc1swXSkuZW5kQXQodXNlRGF0ZXNbMV0pCiAgICAgICAgLy8gLndoZXJlKCdjcmVhdGVkQXQnCiAgICAgICAgLy8gICAsICc9PScsIERhdGUucGFyc2UoJzIwMjAtMTEtMTcgMDA6MDA6MDAuMDAwJykpCiAgICAgICAgLmdldCgpCiAgICAgICAgLnRoZW4oKHF1ZXJ5U25hcHNob3QpID0+IHsKICAgICAgICAgIGlmIChxdWVyeVNuYXBzaG90LmVtcHR5KSB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICBjb25zb2xlLmxvZygnY2Fubm90IGZpbmQnKQogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3F1ZXJ5dXNlci9zZXROZXdCYXJDaGFydERhdGEnLE9iamVjdC52YWx1ZXModGhpcy5zZW5kQmFyRGF0YSkpCiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncXVlcnl1c2VyL3NldFBpZURhdGEnLCB0aGlzLnNlbmRQaWVEYXRhKQoKICAgICAgICAgICAgLy90aGlzLiRyb3V0ZXIucHVzaCgnL0hlbGxvV29ybGQnKQogICAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7CiAgICAgICAgICAgICAgY29uc3QgY29sbCA9IFtdCiAgICAgICAgICAgICAgY29uc3QgeyBpZCB9ID0gZG9jCgogICAgICAgICAgICAgIGRvYy5kYXRhKClbdGhpcy5kYXRhTGlzdF0uZm9yRWFjaCgoZG9jKSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgdGhlVGltZQogICAgICAgICAgICAgICAgaWYgKGRvYy50aW1lKXsKICAgICAgICAgICAgICAgICAgdGhlVGltZSA9IGRvYy50aW1lLnNlY29uZHMqMTAwMAogICAgICAgICAgICAgICAgfWVsc2UgaWYgKGRvYy5kYXRlKXsKICAgICAgICAgICAgICAgICAgdGhlVGltZSA9IGRvYy5kYXRlLnNlY29uZHMqMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIGFUaW1lID0gcGFyc2VJbnQgKG1vbWVudCh0aGVUaW1lKS5mb3JtYXQoJ0hIJykpCiAgICAgICAgICAgICAgICBpZiAoYVRpbWUgPj0gdGhpcy50aW1lbWluICYmIGFUaW1lIDw9IHRoaXMudGltZW1heCl7CiAgICAgICAgICAgICAgICAgIGNvbGwucHVzaCh7IGRvYyB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgIHRlc3RDb2xsZWN0aW9uLnB1c2goeyBbaWRdOiBjb2xsIH0pCgogICAgICAgICAgICB9KQoKICAgICAgICAgICAgdGhpcy5hbGxSZXN1bHRzID0gdGVzdENvbGxlY3Rpb24KICAgICAgICAgICAgaWYgKHRoaXMudXNlUmVhbERhdGEpewogICAgICAgICAgICB0aGlzLmNyZWF0ZUFycmF5cygpCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVzZWFyY2hBcnJheXMoKQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkKCiAgICB9LAogICAgYXN5bmMgY3JlYXRlQXJyYXlzKCl7CgogICAgdGhpcy5hbGxSZXN1bHRzLmZvckVhY2goZG9jPT57CiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRvYykpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGBORVcgJHtrZXl9OiAke3ZhbHVlfWApCgogICAgICAgICAgICB2YXIgdGhlS2V5PWtleQoKICAgICAgICAgICAgZm9yIChjb25zdCBbYWtleSwgYXZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkb2NbdGhlS2V5XSkpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke2FrZXl9OiAke2F2YWx1ZX1gKQogICAgICAgICAgICAgICAgY29uc3QgdXNpbmdEYXRlID0gbW9tZW50KGF2YWx1ZVsnZG9jJ11bJ3RpbWUnXS50b0RhdGUoKSkuZm9ybWF0KCdNTU0gRG8gWVknKQoKCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2luZ0RhdGUpOwoKICAgICAgICAgICAgICAgIHN3aXRjaCAoYXZhbHVlWydkb2MnXVsnY2F0ZWdvcnknXSkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NoYWxsZW5nZSc6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbGxlbmdlTGlzdC5wdXNoKHsgW3VzaW5nRGF0ZV0gOmF2YWx1ZVsnZG9jJ119KQogICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMuY2hhbGxlbmdlTGlzdC5wdXNoKGF2YWx1ZVsnZG9jJ10pCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NoYWxsZW5nZS1zbXMnOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYWxsZW5nZVNNU0xpc3QucHVzaCh7IFt1c2luZ0RhdGVdIDphdmFsdWVbJ2RvYyddfSkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2VjcmV0JzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNyZXRMaXN0LnB1c2goeyBbdXNpbmdEYXRlXSA6YXZhbHVlWydkb2MnXX0pCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NlY3JldC1zbXMnOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY3JldFNNU0xpc3QucHVzaCh7IFt1c2luZ0RhdGVdIDphdmFsdWVbJ2RvYyddfSkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGltZXInOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVyTGlzdC5wdXNoKHsgW3VzaW5nRGF0ZV0gOmF2YWx1ZVsnZG9jJ119KQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICd0aW1lci1zbXMnOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVyU01TTGlzdC5wdXNoKHsgW3VzaW5nRGF0ZV0gOmF2YWx1ZVsnZG9jJ119KQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICd1c2VyLXNtcyc6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlclNNU0xpc3QucHVzaCh7IFt1c2luZ0RhdGVdIDphdmFsdWVbJ2RvYyddfSkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnem9uZSc6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuem9uZUxpc3QucHVzaCh7IFt1c2luZ0RhdGVdIDphdmFsdWVbJ2RvYyddfSkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnem9uZXMtc21zJzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy56b25lU01TTGlzdC5wdXNoKHsgW3VzaW5nRGF0ZV0gOmF2YWx1ZVsnZG9jJ119KQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdhbGFybSc6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWxhcm1MaXN0LnB1c2goeyBbdXNpbmdEYXRlXSA6YXZhbHVlWydkb2MnXX0pCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQogICAgfSkKCiAgICB0aGlzLnNlbGVjdENoYXJ0Q29sdW1ucygpCgogIH0sCgogIGFzeW5jIHNlbGVjdENoYXJ0Q29sdW1ucygpewoKICAgIHRoaXMuc2VuZEJhckRhdGE9W10KICAgIHRoaXMuc2VuZFBpZURhdGE9W10KCiAgICBjb25zb2xlLmxvZyh0aGlzLmFsYXJtTGlzdCkKCiBpZiAodGhpcy5jaGFsbGVuZ2VMaXN0Lmxlbmd0aD4wICYmIHRoaXMuY2hhbGxlbmdlQ2hlY2spewogICAgICB0aGlzLnNlbmRQaWVEYXRhLnB1c2goe3ZhbHVlOiB0aGlzLmNoYWxsZW5nZUxpc3QubGVuZ3RoLCBuYW1lOiAnQ29uZnJvbnQnfSkKICAgICAgYXdhaXQgdGhpcy5maWxsQ2hhcnRBcnJheSh0aGlzLmNoYWxsZW5nZUxpc3QsICdDb25mcm9udCcpCiAgICB9CgogICAgaWYgKHRoaXMuY2hhbGxlbmdlU01TTGlzdC5sZW5ndGg+MCAmJiB0aGlzLmNoYWxsZW5nZVNNU0NoZWNrKXsKICAgICAgdGhpcy5zZW5kUGllRGF0YS5wdXNoKHt2YWx1ZTogdGhpcy5jaGFsbGVuZ2VTTVNMaXN0Lmxlbmd0aCwgbmFtZTogJ0NvbmZyb250IFNNUyd9KQogICAgICBhd2FpdCB0aGlzLmZpbGxDaGFydEFycmF5KHRoaXMuY2hhbGxlbmdlU01TTGlzdCwgJ0NvbmZyb250IFNNUycpCiAgICB9CgogICAgaWYgKHRoaXMuc2VjcmV0TGlzdC5sZW5ndGg+MCAmJiB0aGlzLnNlY3JldENoZWNrKXsKICAgICAgdGhpcy5zZW5kUGllRGF0YS5wdXNoKHt2YWx1ZTogdGhpcy5zZWNyZXRMaXN0Lmxlbmd0aCwgbmFtZTogJ1NlY3JldCd9KQogICAgICBhd2FpdCB0aGlzLmZpbGxDaGFydEFycmF5KHRoaXMuc2VjcmV0TGlzdCwgJ1NlY3JldCcpCiAgICB9CgogICAgaWYgKHRoaXMuc2VjcmV0U01TTGlzdC5sZW5ndGg+MCAmJiB0aGlzLnNlY3JldFNNU0NoZWNrKXsKICAgICAgdGhpcy5zZW5kUGllRGF0YS5wdXNoKHt2YWx1ZTogdGhpcy5zZWNyZXRTTVNMaXN0Lmxlbmd0aCwgbmFtZTogJ1NlY3JldCBTTVMnfSkKICAgICAgYXdhaXQgdGhpcy5maWxsQ2hhcnRBcnJheSh0aGlzLnNlY3JldFNNU0xpc3QsICdTZWNyZXQgU01TJykKICAgIH0KCiAgICBpZiAodGhpcy50aW1lckxpc3QubGVuZ3RoPjAgJiYgdGhpcy50aW1lckNoZWNrKXsKICAgICAgdGhpcy5zZW5kUGllRGF0YS5wdXNoKHt2YWx1ZTogdGhpcy50aW1lckxpc3QubGVuZ3RoLCBuYW1lOiAnVGltZXInfSkKICAgICAgYXdhaXQgdGhpcy5maWxsQ2hhcnRBcnJheSh0aGlzLnRpbWVyTGlzdCwgJ1RpbWVyJykKICAgIH0KCiAgICBpZiAodGhpcy50aW1lclNNU0xpc3QubGVuZ3RoPjAgJiYgdGhpcy50aW1lclNNU0NoZWNrKXsKICAgICAgdGhpcy5zZW5kUGllRGF0YS5wdXNoKHt2YWx1ZTogdGhpcy50aW1lclNNU0xpc3QubGVuZ3RoLCBuYW1lOiAnVGltZXIgU01TJ30pCiAgICAgIGF3YWl0IHRoaXMuZmlsbENoYXJ0QXJyYXkodGhpcy50aW1lclNNU0xpc3QsICdUaW1lciBTTVMnKQogICAgfQoKICAgIGlmICh0aGlzLnpvbmVMaXN0Lmxlbmd0aD4wICYmIHRoaXMuem9uZUNoZWNrKXsKICAgICAgdGhpcy5zZW5kUGllRGF0YS5wdXNoKHt2YWx1ZTogdGhpcy56b25lTGlzdC5sZW5ndGgsIG5hbWU6ICdab25lJ30pCiAgICAgIGF3YWl0IHRoaXMuZmlsbENoYXJ0QXJyYXkodGhpcy56b25lTGlzdCwgJ1pvbmUnKQogICAgfQoKICAgIGlmICh0aGlzLnpvbmVTTVNMaXN0Lmxlbmd0aD4wICYmIHRoaXMuIHpvbmVTTVNDaGVjayl7CiAgICAgIHRoaXMuc2VuZFBpZURhdGEucHVzaCh7dmFsdWU6IHRoaXMuem9uZVNNU0xpc3QubGVuZ3RoLCBuYW1lOiAnWm9uZSBTTVMnfSkKICAgICAgYXdhaXQgdGhpcy5maWxsQ2hhcnRBcnJheSh0aGlzLnpvbmVTTVNMaXN0LCAnWm9uZSBTTVMnKQogICAgfQoKICAgIGlmICh0aGlzLnVzZXJTTVNMaXN0Lmxlbmd0aD4wICYmIHRoaXMudXNlclNNU0NoZWNrKXsKICAgICAgdGhpcy5zZW5kUGllRGF0YS5wdXNoKHt2YWx1ZTogdGhpcy51c2VyU01TTGlzdC5sZW5ndGgsIG5hbWU6ICdVc2VyIFNNUyd9KQogICAgICBhd2FpdCB0aGlzLmZpbGxDaGFydEFycmF5KHRoaXMudXNlclNNU0xpc3QsICdVc2VyIFNNUycpCiAgICB9CgogICAgaWYgKHRoaXMuYWxhcm1MaXN0Lmxlbmd0aD4wICYmIHRoaXMuYWxhcm1DaGVjayl7CiAgICAgIHRoaXMuc2VuZFBpZURhdGEucHVzaCh7dmFsdWU6IHRoaXMuYWxhcm1MaXN0Lmxlbmd0aCwgbmFtZTogJ0FsYXJtJ30pCiAgICAgIGF3YWl0IHRoaXMuZmlsbENoYXJ0QXJyYXkodGhpcy5hbGFybUxpc3QsICdBbGFybScpCiAgICB9CgogICAgY29uc29sZS5sb2codGhpcy5zZW5kUGllRGF0YSkKICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncXVlcnl1c2VyL3NldE5ld0JhckNoYXJ0RGF0YScsT2JqZWN0LnZhbHVlcyh0aGlzLnNlbmRCYXJEYXRhKSkKICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncXVlcnl1c2VyL3NldFBpZURhdGEnLCB0aGlzLnNlbmRQaWVEYXRhKQoKICB9LAoKICBhc3luYyBmaWxsQ2hhcnRBcnJheShjcmVhdGVkTGlzdCwgY2F0ZWdvcnkpewoKICAgIGNvbnNvbGUubG9nKCdMRU5HVEggJytjcmVhdGVkTGlzdC5sZW5ndGgpCgogICAgdmFyIHRhYnVsYXRlZExpc3QgPSB7fQoKICAgIGZvciAodmFyIHQ9MDsgdDx0aGlzLmFsbFNlYXJjaERhdGVzLmxlbmd0aDsgdCsrKXsKICAgICAgT2JqZWN0LmFzc2lnbih0YWJ1bGF0ZWRMaXN0LCB7W3RoaXMuYWxsU2VhcmNoRGF0ZXNbdF1dOiAwfSk7CiAgICB9CgogICAgZm9yICh2YXIgaT0wOyBpPGNyZWF0ZWRMaXN0Lmxlbmd0aDsgaSsrKXsKICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNyZWF0ZWRMaXN0W2ldKSkgewogICAgICAgICAgY29uc29sZS5sb2coYE5FVyAke2tleX06ICR7dmFsdWV9YCkKICAgICAgICAgIHRhYnVsYXRlZExpc3Rba2V5XSsrCiAgICAgICAgICAvL3RhYnVsYXRlZExpc3Rba2V5XSA9IHZhbHVlLmxlbmd0aAogICAgICAgIH0KICAgIH0KCiAgY29uc29sZS5sb2codGFidWxhdGVkTGlzdCkKCiAgICBhd2FpdCB0aGlzLnNlbmRCYXJEYXRhLnB1c2goe25hbWU6IGNhdGVnb3J5LCBkYXRhOiBPYmplY3QudmFsdWVzKHRhYnVsYXRlZExpc3QpfSkKCiAgICByZXR1cm4KICB9LAoKCiAgYXN5bmMgY3JlYXRlUmVzZWFyY2hBcnJheXMoKXsKCiAgICB0aGlzLmFsbFJlc3VsdHMuZm9yRWFjaChkb2M9PnsKICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZG9jKSkgewogICAgICAgICAgY29uc29sZS5sb2coYE5FVyAke2tleX06ICR7dmFsdWV9YCkKCiAgICAgICAgICAgIHZhciB0aGVLZXk9a2V5CgogICAgICAgICAgICBmb3IgKGNvbnN0IFtha2V5LCBhdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRvY1t0aGVLZXldKSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7YWtleX06ICR7YXZhbHVlfWApCiAgICAgICAgICAgICAgICBjb25zdCB1c2luZ0RhdGUgPSBtb21lbnQoYXZhbHVlWydkb2MnXVsnZGF0ZSddLnRvRGF0ZSgpKS5mb3JtYXQoJ01NTSBEbyBZWScpCgoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzaW5nRGF0ZSk7CgoKICAgICAgICAgICAgICAgIHN3aXRjaCAoYXZhbHVlWydkb2MnXVsnZXZlbnQnXSkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NoYWxsZW5nZV9TY3JlZW5fUmVjb3JkaW5nX1N0YXJ0JzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNlYXJjaENoYWxsZW5nZUxpc3QucHVzaCh7IFt1c2luZ0RhdGVdIDphdmFsdWVbJ2RvYyddfSkKICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmNoYWxsZW5nZUxpc3QucHVzaChhdmFsdWVbJ2RvYyddKQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdDaGFsbGVuZ2VfU2NyZWVuX0FsYXJtX1VzZWQnOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2VhcmNoQWxhcm1MaXN0LnB1c2goeyBbdXNpbmdEYXRlXSA6YXZhbHVlWydkb2MnXX0pCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ0FwcF9PcGVuZWQnOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2VhcmNoQXBwT3BlbmVkTGlzdC5wdXNoKHsgW3VzaW5nRGF0ZV0gOmF2YWx1ZVsnZG9jJ119KQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdVc2VfQmFuZ2xhJzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNlYXJjaEJhbmdsYUxpc3QucHVzaCh7IFt1c2luZ0RhdGVdIDphdmFsdWVbJ2RvYyddfSkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVXNlX0VuZ2xpc2gnOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2VhcmNoRW5nbGlzaExpc3QucHVzaCh7IFt1c2luZ0RhdGVdIDphdmFsdWVbJ2RvYyddfSkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnU2VjcmV0X1JlY29yZGluZ19TdGFydGVkJzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNlYXJjaFNlY3JldExpc3QucHVzaCh7IFt1c2luZ0RhdGVdIDphdmFsdWVbJ2RvYyddfSkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVGVzdF9Nb2RlX09uJzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNlYXJjaFRlc3RPbkxpc3QucHVzaCh7IFt1c2luZ0RhdGVdIDphdmFsdWVbJ2RvYyddfSkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnQ291bnRkb3duX3N0YXJ0ZWQnOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2VhcmNoVGltZXJMaXN0LnB1c2goeyBbdXNpbmdEYXRlXSA6YXZhbHVlWydkb2MnXX0pCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ0hvbWVfU01TX1ByZXNzJzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNlYXJjaFVzZXJTTVNMaXN0LnB1c2goeyBbdXNpbmdEYXRlXSA6YXZhbHVlWydkb2MnXX0pCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ0dlb2ZlbmNlX1N0YXJ0JzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNlYXJjaFpvbmVMaXN0LnB1c2goeyBbdXNpbmdEYXRlXSA6YXZhbHVlWydkb2MnXX0pCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQogICAgfSkKCiAgICB0aGlzLnNlbGVjdFJlc2VhcmNoQ2hhcnRDb2x1bW5zKCkKCiAgfSwKCgogIGFzeW5jIHNlbGVjdFJlc2VhcmNoQ2hhcnRDb2x1bW5zKCl7CgogICAgdGhpcy5zZW5kQmFyRGF0YT1bXQogICAgdGhpcy5zZW5kUGllRGF0YT1bXQoKCiBpZiAodGhpcy5yZXNlYXJjaENoYWxsZW5nZUxpc3QubGVuZ3RoPjAgJiYgdGhpcy5jaGFsbGVuZ2VDaGVjayl7CiAgICAgIHRoaXMuc2VuZFBpZURhdGEucHVzaCh7dmFsdWU6IHRoaXMucmVzZWFyY2hDaGFsbGVuZ2VMaXN0Lmxlbmd0aCwgbmFtZTogJ0NvbmZyb250KFIpJ30pCiAgICAgIGF3YWl0IHRoaXMuZmlsbENoYXJ0QXJyYXkodGhpcy5yZXNlYXJjaENoYWxsZW5nZUxpc3QsICdDb25mcm9udChSKScpCiAgICB9CgogICAgaWYgKHRoaXMucmVzZWFyY2hBbGFybUxpc3QubGVuZ3RoPjAgJiYgdGhpcy5hbGFybUNoZWNrKXsKICAgICAgdGhpcy5zZW5kUGllRGF0YS5wdXNoKHt2YWx1ZTogdGhpcy5yZXNlYXJjaEFsYXJtTGlzdC5sZW5ndGgsIG5hbWU6ICdBbGFybShSKSd9KQogICAgICBhd2FpdCB0aGlzLmZpbGxDaGFydEFycmF5KHRoaXMucmVzZWFyY2hBbGFybUxpc3QsICdBbGFybShSKScpCiAgICB9CgogICAgaWYgKHRoaXMucmVzZWFyY2hBcHBPcGVuZWRMaXN0Lmxlbmd0aD4wICYmIHRoaXMuem9uZUNoZWNrKXsKICAgICAgdGhpcy5zZW5kUGllRGF0YS5wdXNoKHt2YWx1ZTogdGhpcy5yZXNlYXJjaEFwcE9wZW5lZExpc3QubGVuZ3RoLCBuYW1lOiAnQXBwT3BlbmVkKFIpJ30pCiAgICAgIGF3YWl0IHRoaXMuZmlsbENoYXJ0QXJyYXkodGhpcy5yZXNlYXJjaEFwcE9wZW5lZExpc3QsICdBcHBPcGVuZWQoUiknKQogICAgfQoKICAgIGlmICh0aGlzLnJlc2VhcmNoQmFuZ2xhTGlzdC5sZW5ndGg+MCAmJiB0aGlzLnRpbWVyQ2hlY2spewogICAgICB0aGlzLnNlbmRQaWVEYXRhLnB1c2goe3ZhbHVlOiB0aGlzLnJlc2VhcmNoQmFuZ2xhTGlzdC5sZW5ndGgsIG5hbWU6ICdCYW5nbGEoUiknfSkKICAgICAgYXdhaXQgdGhpcy5maWxsQ2hhcnRBcnJheSh0aGlzLnJlc2VhcmNoQmFuZ2xhTGlzdCwgJ0JhbmdsYShSKScpCiAgICB9CgogICAgaWYgKHRoaXMucmVzZWFyY2hFbmdsaXNoTGlzdC5sZW5ndGg+MCAmJiB0aGlzLnRpbWVyU01TQ2hlY2spewogICAgICB0aGlzLnNlbmRQaWVEYXRhLnB1c2goe3ZhbHVlOiB0aGlzLnJlc2VhcmNoRW5nbGlzaExpc3QubGVuZ3RoLCBuYW1lOiAnRW5nbGlzaChSKSd9KQogICAgICBhd2FpdCB0aGlzLmZpbGxDaGFydEFycmF5KHRoaXMucmVzZWFyY2hFbmdsaXNoTGlzdCwgJ0VuZ2xpc2goUiknKQogICAgfQoKICAgIGlmICh0aGlzLnJlc2VhcmNoU2VjcmV0TGlzdC5sZW5ndGg+MCAmJiB0aGlzLnNlY3JldENoZWNrKXsKICAgICAgdGhpcy5zZW5kUGllRGF0YS5wdXNoKHt2YWx1ZTogdGhpcy5yZXNlYXJjaFNlY3JldExpc3QubGVuZ3RoLCBuYW1lOiAnU2VjcmV0KFIpJ30pCiAgICAgIGF3YWl0IHRoaXMuZmlsbENoYXJ0QXJyYXkodGhpcy5yZXNlYXJjaFNlY3JldExpc3QsICdTZWNyZXQoUiknKQogICAgfQoKICAgIGlmICh0aGlzLnJlc2VhcmNoVGVzdE9uTGlzdC5sZW5ndGg+MCAmJiB0aGlzLnpvbmVTTVNDaGVjayl7CiAgICAgIHRoaXMuc2VuZFBpZURhdGEucHVzaCh7dmFsdWU6IHRoaXMucmVzZWFyY2hUZXN0T25MaXN0Lmxlbmd0aCwgbmFtZTogJ1Rlc3QgT24oUiknfSkKICAgICAgYXdhaXQgdGhpcy5maWxsQ2hhcnRBcnJheSh0aGlzLnJlc2VhcmNoVGVzdE9uTGlzdCwgJ1Rlc3QgT24oUiknKQogICAgfQoKICAgIGlmICh0aGlzLnJlc2VhcmNoVGltZXJMaXN0Lmxlbmd0aD4wICYmIHRoaXMuIHNlY3JldFNNU0NoZWNrKXsKICAgICAgdGhpcy5zZW5kUGllRGF0YS5wdXNoKHt2YWx1ZTogdGhpcy5yZXNlYXJjaFRpbWVyTGlzdC5sZW5ndGgsIG5hbWU6ICdSZW1pbmRlcihSKSd9KQogICAgICBhd2FpdCB0aGlzLmZpbGxDaGFydEFycmF5KHRoaXMucmVzZWFyY2hUaW1lckxpc3QsICdSZW1pbmRlcihSKScpCiAgICB9CgogICAgaWYgKHRoaXMucmVzZWFyY2hVc2VyU01TTGlzdC5sZW5ndGg+MCAmJiB0aGlzLnVzZXJTTVNDaGVjayl7CiAgICAgIHRoaXMuc2VuZFBpZURhdGEucHVzaCh7dmFsdWU6IHRoaXMucmVzZWFyY2hVc2VyU01TTGlzdC5sZW5ndGgsIG5hbWU6ICdVc2VyIFNNUyhSKSd9KQogICAgICBhd2FpdCB0aGlzLmZpbGxDaGFydEFycmF5KHRoaXMucmVzZWFyY2hVc2VyU01TTGlzdCwgJ1VzZXIgU01TKFIpJykKICAgIH0KCiAgICBpZiAodGhpcy5yZXNlYXJjaFpvbmVMaXN0Lmxlbmd0aD4wICYmIHRoaXMuY2hhbGxlbmdlU01TQ2hlY2spewogICAgICB0aGlzLnNlbmRQaWVEYXRhLnB1c2goe3ZhbHVlOiB0aGlzLnJlc2VhcmNoWm9uZUxpc3QubGVuZ3RoLCBuYW1lOiAnWm9uZShSKSd9KQogICAgICBhd2FpdCB0aGlzLmZpbGxDaGFydEFycmF5KHRoaXMucmVzZWFyY2hab25lTGlzdCwgJ1pvbmUoUiknKQogICAgfQoKICAgIGNvbnNvbGUubG9nKHRoaXMuc2VuZFBpZURhdGEpCiAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3F1ZXJ5dXNlci9zZXROZXdCYXJDaGFydERhdGEnLE9iamVjdC52YWx1ZXModGhpcy5zZW5kQmFyRGF0YSkpCiAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3F1ZXJ5dXNlci9zZXRQaWVEYXRhJywgdGhpcy5zZW5kUGllRGF0YSkKCiAgfSwKCgoKCiAgLy8vIGZvciBncm91cHMgLy8vLwoKICBhc3luYyBmaWxsR3JvdXBDaGFydEFycmF5KGNyZWF0ZWRMaXN0LCBjYXRlZ29yeSl7CgogICAgdmFyIHRhYnVsYXRlZExpc3QgPSB7fQoKICAgIGZvciAodmFyIHQ9MDsgdDx0aGlzLmFsbFNlYXJjaERhdGVzLmxlbmd0aDsgdCsrKXsKICAgICAgT2JqZWN0LmFzc2lnbih0YWJ1bGF0ZWRMaXN0LCB7W3RoaXMuYWxsU2VhcmNoRGF0ZXNbdF1dOiAwfSk7CiAgICB9CgogICAgZm9yICh2YXIgaT0wOyBpPGNyZWF0ZWRMaXN0Lmxlbmd0aDsgaSsrKXsKICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNyZWF0ZWRMaXN0W2ldKSkgewogICAgICAgICAgY29uc29sZS5sb2coYE5FVyAke2tleX06ICR7dmFsdWV9YCkKCiAgICAgICAgICB0YWJ1bGF0ZWRMaXN0W2tleV0gPSB2YWx1ZS5sZW5ndGgKCiAgICAgICAgICAvL2dldCB2YWx1ZXMgYmVsb3cgZS5nLiBtYXAgbG9jYXRpb25zCgogICAgICAgICAgLy8gZm9yICh2YXIgdj0wOyB2PHZhbHVlLmxlbmd0aDsgdisrKXsKICAgICAgICAgIC8vICAgY29uc29sZS5sb2cgKHZhbHVlW3ZdWydkb2MnXVsnZXZlbnRJZCddKQogICAgICAgICAgLy8gfQoKICAgICAgICB9CiAgICB9CgogIC8vY29uc29sZS5sb2codGFidWxhdGVkTGlzdCkKCiAgICBhd2FpdCB0aGlzLnNlbmRCYXJEYXRhLnB1c2goe25hbWU6IGNhdGVnb3J5LCBkYXRhOiBPYmplY3QudmFsdWVzKHRhYnVsYXRlZExpc3QpfSkKCiAgICByZXR1cm4KICB9CgoKCiAgfQp9Cg=="},{"version":3,"sources":["DashboardPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+gBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;AAKA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;;AAIA;AACA","file":"DashboardPage.vue","sourceRoot":"src/pages/dashboard","sourcesContent":["<template>\n  <div class=\"d-flex flex-grow-1 flex-column\">\n  <!-- Tabs -->\n    <v-card>\n      <v-tabs\n        v-model=\"tabs\"\n        centered\n        color=\"blue\"\n      >\n        <v-tab\n          v-for=\"i in 2\"\n          :key=\"i\"\n          @change=\"dateChangedChecker(i)\"\n          class=\"px-5 py-2\"\n        >\n        <v-icon left>mdi-chart-arc</v-icon>  {{ chartTabs[i] }}\n        </v-tab>\n      </v-tabs>\n\n      <v-tabs-items v-model=\"tabs\">\n        <v-tab-item>\n          <v-row class=\"flex-grow-0\" dense>\n            <v-col cols=\"12\">\n              <column-card\n                class=\"h-full\"\n                style=\"min-height: 380px\"\n                :value=\"1837.32\"\n                :percentage=\"3.2\"\n                :loading=\"isLoading1\"\n                :percentage-label=\"$t('dashboard.lastweek')\"\n                :action-label=\"$t('dashboard.viewReport')\"\n              ></column-card>\n            </v-col>\n          </v-row>\n        </v-tab-item>\n        <v-tab-item>\n            <v-row class=\"flex-grow-0\" dense>\n            <v-col cols=\"12\">\n              <pie-card\n                class=\"h-full\"\n                style=\"min-height: 380px\"\n                :value=\"1837.32\"\n                :percentage=\"3.2\"\n                :loading=\"isLoading1\"\n                :percentage-label=\"$t('dashboard.lastweek')\"\n                :action-label=\"$t('dashboard.viewReport')\"\n              ></pie-card>\n            </v-col>\n          </v-row>\n        </v-tab-item>\n      </v-tabs-items>\n    </v-card>\n\n    <!-- Real/Research Data Selection-->\n\n       <v-card class=\"grey lighten-5 mt-2\">\n      <v-container>\n        <v-row>\n          <!-- Group Switch -->\n          <v-col cols=\"3\" class=\"title cyan lighten-4 white--text\">\n              <v-switch\n              class=\"ml-4\"\n              inset\n              v-model=\"useRealData\"\n              color=\"red\"\n              :label=\"`Data Mode: ${dataSource.toString()}`\"\n              @change=\"toggleDataType($event)\"\n              ></v-switch>\n          </v-col>\n        </v-row>\n      </v-container>\n     </v-card>\n\n    <!-- Group/Individual or Event Selection-->\n    <v-card class=\"grey lighten-5 mt-2\">\n      <v-container>\n        <v-row>\n          <!-- Group Switch -->\n          <v-col cols=\"3\" class=\"title cyan lighten-4 white--text\">\n              <v-switch\n              class=\"ml-4\"\n              inset\n              v-model=\"mode\"\n              color=\"red\"\n              :label=\"`Mode: ${chartType.toString()}`\"\n              @change=\"toggleChartType($event)\"\n              ></v-switch>\n          </v-col>\n\n          <!-- Date Selection -->\n          <v-col cols=\"3\" class=\"deep-purple lighten-4 white--text\">\n            <v-dialog\n              ref=\"dialog\"\n              v-model=\"modal\"\n              :return-value.sync=\"dates\"\n              persistent\n              width=\"290px\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n              <v-text-field\n              v-model=\"dates\"\n              class=\"title\"\n              label=\"Select Date Range\"\n              prepend-icon=\"mdi-calendar\"\n              readonly\n              v-bind=\"attrs\"\n              v-on=\"on\"\n              ></v-text-field>\n              </template>\n\n              <v-date-picker\n                v-model=\"dates\"\n                range\n              >\n                <v-spacer></v-spacer>\n                <v-btn\n                text\n                color=\"primary\"\n                @click=\"modal = false\"\n                >\n                  Cancel\n                </v-btn>\n\n                <v-btn\n                text\n                color=\"primary\"\n                @click=\"$refs.dialog.save(dates); dateChangedChecker(1)\"\n                >\n                OK\n                </v-btn>\n              </v-date-picker>\n            </v-dialog>\n          </v-col>\n\n          <!-- Time Range Selection -->\n          <v-col cols=\"3\" class=\"green lighten-4 mt-0 pt-1\">\n            <v-subheader class=\"justify-center title\">Select time range</v-subheader>\n            <v-range-slider\n              v-model=\"timerange\"\n              :max=\"timemax\"\n              :min=\"timemin\"\n              hide-details\n              class=\"align-center\"\n              @change=\"dateChangedChecker(1)\"\n            >\n            <template v-slot:prepend>\n              <v-text-field\n                :value=\"timerange[0]\"\n                class=\"mt-0 pt-0\"\n                hide-details\n                single-line\n                type=\"number\"\n                style=\"width: 60px;\"\n                @change=\"$set(timerange, 0, $event); dateChangedChecker(1)\"\n              ></v-text-field>\n            </template>\n            <template v-slot:append>\n              <v-text-field\n                :value=\"timerange[1]\"\n                class=\"mt-0 pt-0\"\n                hide-details\n                single-line\n                type=\"number\"\n                style=\"width: 60px\"\n                @change=\"$set(timerange, 1, $event); dateChangedChecker(1)\"\n              ></v-text-field>\n            </template>\n          </v-range-slider>\n          </v-col>\n\n          <!-- Age Range Selection -->\n          <v-col cols=\"3\" v-show=\"!mode\"  class=\"blue lighten-4 mt-0 pt-1\">\n\n            <v-subheader class=\"justify-center title\">Set min and max age</v-subheader>\n            <v-range-slider\n              v-model=\"range\"\n              :max=\"max\"\n              :min=\"min\"\n              hide-details\n              class=\"align-center\"\n            >\n            <template v-slot:prepend>\n              <v-text-field\n                :value=\"range[0]\"\n                class=\"mt-0 pt-0\"\n                hide-details\n                single-line\n                type=\"number\"\n                style=\"width: 60px\"\n                @change=\"$set(range, 0, $event); dateChangedChecker(1)\"\n              ></v-text-field>\n            </template>\n            <template v-slot:append>\n              <v-text-field\n                :value=\"range[1]\"\n                class=\"mt-0 pt-0\"\n                hide-details\n                single-line\n                type=\"number\"\n                style=\"width: 60px\"\n                @change=\"$set(range, 1, $event); dateChangedChecker(1)\"\n              ></v-text-field>\n            </template>\n          </v-range-slider>\n          </v-col>\n\n\n          <!-- Search with Number -->\n          <v-col cols=\"3\" v-show=\"mode\" class=\"blue lighten-4  mb-0 pb-0 pt-4\">\n            <span class=\"d-inline-flex\">\n            <v-text-field\n              v-model=\"email\"\n              color=\"title\"\n              outlined\n              label='Enter mobile number'\n              type='text'\n            ></v-text-field>\n            <v-btn\n              @click=\"searchUsersByEmail\"\n              x-large\n              elevation=\"4\"\n              class=\"ml-2\"\n              color=\"primary\"\n            >\n            <v-icon left>\n              large\n              mdi-feature-search-outline\n            </v-icon>\n              Search\n            </v-btn>\n            </span>\n          </v-col>\n        </v-row>\n\n        <!-- Event Selection Real DATA-->\n\n        <v-row v-if=\"useRealData\">\n          <v-col cols=\"6\" class=\"ml-0 px-0 outlined\">\n            <v-card class=\"red lighten-5 pb-4 mr-1 px-0\">\n              <v-card-title class=\"red lighten-1 justify-center\">\n                <v-icon\n                      left\n                      large\n                      color=\"white lighten-2\">mdi-alarm-light-outline\n                    </v-icon>\n                    <span class=\"headline white--text\">SOS</span>\n              </v-card-title>\n            <v-divider></v-divider>\n\n            <v-row class=\"flex-grow-0\" dense>\n              <v-col cols=\"4\">\n                <v-checkbox\n                  class=\"px-2 pt-1\"\n                  v-model=\"challengeCheck\"\n                  label=\"Confront\"\n                  color=\"primary\"\n                  v-on:change=\"checkBoxTest('challenge')\"\n                  hide-details\n                ></v-checkbox>\n\n                <v-checkbox\n                  class=\"px-2\"\n                  v-model=\"challengeSMSCheck\"\n                  label=\"Confront SMS\"\n                  color=\"primary\"\n                  v-on:change=\"checkBoxTest('challenge-sms')\"\n                  hide-details\n                ></v-checkbox>\n              </v-col>\n\n                <v-col cols=\"4\">\n                <v-checkbox\n                  class=\"px-2 pt-1\"\n                  v-model=\"userSMSCheck\"\n                  label=\"User SMS\"\n                  color=\"primary\"\n                  v-on:change=\"checkBoxTest('user-sms')\"\n                  hide-details\n                ></v-checkbox>\n\n                <v-checkbox\n                  class=\"px-2\"\n                  v-model=\"alarmCheck\"\n                  label=\"Alarm\"\n                  color=\"primary\"\n                  v-on:change=\"checkBoxTest('alarm')\"\n                  hide-details\n                ></v-checkbox>\n              </v-col>\n\n              <v-col cols=\"4\">\n                <v-checkbox\n                  class=\"px-2 pt-1\"\n                  v-model=\"secretCheck\"\n                  label=\"Secret\"\n                  color=\"primary\"\n                  v-on:change=\"checkBoxTest('secret')\"\n                  hide-details\n                ></v-checkbox>\n\n                <v-checkbox\n                  class=\"px-2\"\n                  v-model=\"secretSMSCheck\"\n                  label=\"Secret SMS\"\n                  color=\"primary\"\n                  v-on:change=\"checkBoxTest('secret-sms')\"\n                  hide-details\n                ></v-checkbox>\n              </v-col>\n            </v-row>\n            </v-card>\n          </v-col>\n\n          <v-col cols=\"3\" class=\"px-1\">\n            <v-card class=\"green lighten-5 pb-4\">\n              <v-card-title class=\"green lighten-1 justify-center\">\n                <v-icon\n                      left\n                      large\n                      color=\"white darken-2\">mdi-road-variant\n                    </v-icon>\n                    <span class=\"headline white--text\">Travel</span>\n              </v-card-title>\n\n              <v-checkbox\n                class=\"px-2 pt-2\"\n                v-model=\"zoneCheck\"\n                label=\"Zone\"\n                color=\"primary\"\n                v-on:change=\"checkBoxTest('zone')\"\n                hide-details\n              ></v-checkbox>\n\n              <v-checkbox\n                class=\"px-2\"\n                v-model=\"zoneSMSCheck\"\n                label=\"Zone SMS\"\n                color=\"primary\"\n                v-on:change=\"checkBoxTest('zones-sms')\"\n                hide-details\n              ></v-checkbox>\n            </v-card>\n          </v-col>\n\n          <v-col cols=\"3\" class=\"px-1\">\n            <v-card class=\"amber lighten-5 pb-4\">\n              <v-card-title class=\"amber darken-1 justify-center\">\n                <v-icon\n                      left\n                      large\n                      color=\"white darken-2\">mdi-alarm\n                    </v-icon>\n                    <span class=\"headline white--text\">Reminder</span>\n              </v-card-title>\n\n              <v-checkbox\n              class=\"px-2 pt-2\"\n              v-model=\"timerCheck\"\n              label=\"Reminder\"\n              color=\"primary\"\n              v-on:change=\"checkBoxTest('timer')\"\n              hide-details\n            ></v-checkbox>\n\n            <v-checkbox\n              class=\"px-2\"\n              v-model=\"timerSMSCheck\"\n              label=\"Reminder SMS\"\n              color=\"primary\"\n              v-on:change=\"checkBoxTest('timer-sms')\"\n              hide-details\n            ></v-checkbox>\n            </v-card>\n          </v-col>\n        </v-row>\n\n\n   <!-- Event Selection Research DATA-->\n\n        <v-row v-if=\"useRealData==false\">\n          <v-col cols=\"6\" class=\"ml-0 px-0 outlined\">\n            <v-card class=\"red lighten-5 pb-4 mr-1 px-0\">\n              <v-card-title class=\"red lighten-1 justify-center\">\n                <v-icon\n                      left\n                      large\n                      color=\"white lighten-2\">mdi-alarm-light-outline\n                    </v-icon>\n                    <span class=\"headline white--text\">SOS</span>\n              </v-card-title>\n            <v-divider></v-divider>\n\n            <v-row class=\"flex-grow-0\" dense>\n              <v-col cols=\"4\">\n                <v-checkbox\n                  class=\"px-2 pt-1\"\n                  v-model=\"challengeCheck\"\n                  label=\"Confront (R)\"\n                  color=\"primary\"\n                  v-on:change=\"checkBoxTest('researchChallenge')\"\n                  hide-details\n                ></v-checkbox>\n\n                <v-checkbox\n                  class=\"px-2\"\n                  v-model=\"challengeSMSCheck\"\n                  label=\"Zone (R)\"\n                  color=\"primary\"\n                  v-on:change=\"checkBoxTest('researchZone')\"\n                  hide-details\n                ></v-checkbox>\n              </v-col>\n\n                <v-col cols=\"4\">\n                <v-checkbox\n                  class=\"px-2 pt-1\"\n                  v-model=\"userSMSCheck\"\n                  label=\"User SMS (R)\"\n                  color=\"primary\"\n                  v-on:change=\"checkBoxTest('researchUserSMS')\"\n                  hide-details\n                ></v-checkbox>\n\n                <v-checkbox\n                  class=\"px-2\"\n                  v-model=\"alarmCheck\"\n                  label=\"Alarm (R)\"\n                  color=\"primary\"\n                  v-on:change=\"checkBoxTest('researchAlarm')\"\n                  hide-details\n                ></v-checkbox>\n              </v-col>\n\n              <v-col cols=\"4\">\n                <v-checkbox\n                  class=\"px-2 pt-1\"\n                  v-model=\"secretCheck\"\n                  label=\"Secret (R)\"\n                  color=\"primary\"\n                  v-on:change=\"checkBoxTest('researchSecret')\"\n                  hide-details\n                ></v-checkbox>\n\n                <v-checkbox\n                  class=\"px-2\"\n                  v-model=\"secretSMSCheck\"\n                  label=\"Reminder (R)\"\n                  color=\"primary\"\n                  v-on:change=\"checkBoxTest('researchTimer')\"\n                  hide-details\n                ></v-checkbox>\n              </v-col>\n            </v-row>\n            </v-card>\n          </v-col>\n\n          <v-col cols=\"3\" class=\"px-1\">\n            <v-card class=\"green lighten-5 pb-4\">\n              <v-card-title class=\"green lighten-1 justify-center\">\n                <v-icon\n                      left\n                      large\n                      color=\"white darken-2\">mdi-road-variant\n                    </v-icon>\n                    <span class=\"headline white--text\">Travel</span>\n              </v-card-title>\n\n              <v-checkbox\n                class=\"px-2 pt-2\"\n                v-model=\"zoneCheck\"\n                label=\"App Opened (R)\"\n                color=\"primary\"\n                v-on:change=\"checkBoxTest('researchAppOpened')\"\n                hide-details\n              ></v-checkbox>\n\n              <v-checkbox\n                class=\"px-2\"\n                v-model=\"zoneSMSCheck\"\n                label=\"Test Mode On (R)\"\n                color=\"primary\"\n                v-on:change=\"checkBoxTest('researchTestOn')\"\n                hide-details\n              ></v-checkbox>\n            </v-card>\n          </v-col>\n\n          <v-col cols=\"3\" class=\"px-1\">\n            <v-card class=\"amber lighten-5 pb-4\">\n              <v-card-title class=\"amber darken-1 justify-center\">\n                <v-icon\n                      left\n                      large\n                      color=\"white darken-2\">mdi-alarm\n                    </v-icon>\n                    <span class=\"headline white--text\">Reminder</span>\n              </v-card-title>\n\n              <v-checkbox\n              class=\"px-2 pt-2\"\n              v-model=\"timerCheck\"\n              label=\"Use Bangla (R)\"\n              color=\"primary\"\n              v-on:change=\"checkBoxTest('researchBangla')\"\n              hide-details\n            ></v-checkbox>\n\n            <v-checkbox\n              class=\"px-2\"\n              v-model=\"timerSMSCheck\"\n              label=\"Use English (R)\"\n              color=\"primary\"\n              v-on:change=\"checkBoxTest('researchEnglish')\"\n              hide-details\n            ></v-checkbox>\n            </v-card>\n          </v-col>\n        </v-row>\n\n\n      </v-container>\n    </v-card>\n  </div>\n</template>\n\n<script>\n\n// DEMO Cards for dashboard\n//import SalesCard from '../../components/dashboard/InboxCard'\nimport ColumnCard from '../../pages/ui/charts/_examples/apex-charts/simple/column'\nimport PieCard from '../../pages/ui/charts/_examples/echarts/pie'\nimport { db } from '../../main'\nimport moment from 'moment'\nimport firebase from 'firebase'\nimport cardListVue from '../ui/components/_examples/lists/intermediate/card-list.vue'\nconst query = db.collection('users')\n\nexport default {\n  components: {\n    ColumnCard,\n    PieCard\n  },\n  data() {\n    return {\n      useRealData:true,\n      chartTabs:['na','Bar Chart', 'Pie Chart'],\n      timemin: 0,\n      timemax: 24,\n      timerange: [0, 24],\n      max:99,\n      min:0,\n      tabs:null,\n      range:[0,99],\n      form: false,\n      mode:false,\n      chartType:'Group',\n      loadingInterval: null,\n      email: '',\n      foundUser: null,\n      isLoading1: true,\n      fromDateMenu: false,\n      fromDateVal: null,\n      dates:[],\n      modal: false,\n      minDate: '2019-07-04',\n      maxDate: '2030-08-30',\n      allSearchDates: [],\n      allResults: [],\n      challengeList:[],\n      challengeSMSList:[],\n      secretList:[],\n      secretSMSList:[],\n      timerList:[],\n      timerSMSList:[],\n      userSMSList:[],\n      zoneList:[],\n      zoneSMSList:[],\n      alarmList:[],\n      sendBarData: [],\n      sendPieData:[],\n      selectChallenge: true,\n      selectChallengeSMS:true,\n      selectSecret:true,\n      selectSecretSMS:false,\n      selectTimer:true,\n      selectTimerSMS:true,\n      selectZone:false,\n      selectZoneSMS:false,\n      selectUserSMS:true,\n      selectAlarm:true,\n\n      groupChallengeCount:0,\n      groupChallengeSMSCount:0,\n      groupSecretCount:0,\n      groupSecretSMSCount:0,\n      groupTimerCount:0,\n      groupTimerSMSCount:0,\n      groupZoneCount:0,\n      groupZoneSMSCount:0,\n      groupUserSMSCount:0,\n      groupAlarmCount:0,\n\n      challengeCheck:false,\n      challengeSMSCheck:false,\n      secretCheck:false,\n      secretSMSCheck:false,\n      timerCheck:false,\n      timerSMSCheck:false,\n      zoneCheck:false,\n      zoneSMSCheck:false,\n      userSMSCheck:false,\n      alarmCheck:false,\n\n\n\n      researchChallengeList:[],\n      researchAlarmList:[],\n      researchAppOpenedList:[],\n      researchBanglaList:[],\n      researchEnglishList:[],\n      researchSecretList:[],\n      researchTestOnList:[],\n      researchTimerList:[],\n      researchUserSMSList:[],\n      researchZoneList:[],\n\n      lowerAge:1,\n      upperAge:99,\n\n      lowerTime:0,\n      upperTime:24,\n\n      activeCheckBoxes:[],\n\n      dataSource:'events',\n      dataList:'events'\n\n\n    }\n  },\n  mounted() {\n    let count = 0\n\n    // DEMO delay for loading graphics\n    this.loadingInterval = setInterval(() => {\n      this[`isLoading${count++}`] = false\n      if (count === 4) this.clear()\n    }, 400)\n  },\n  beforeDestroy() {\n    this.clear()\n  },\n  methods: {\n    clearAllCriteria(){\n      this.challengeList = []\n      this.challengeSMSList = []\n      this.secretList = []\n      this.secretSMSList = []\n      this.timerList = []\n      this.timerSMSList = []\n      this.userSMSList = []\n      this.zoneList = []\n      this.zoneSMSList = []\n      this.alarmList = []\n\n      this.researchChallengeList = [],\n      this.researchAlarmList = [],\n      this.researchAppOpenedList = [],\n      this.researchBanglaList = [],\n      this.researchEnglishList = [],\n      this.researchSecretList = [],\n      this.researchTestOnList = [],\n      this.researchTimerList = [],\n      this.researchUserSMSList = [],\n      this.researchZoneList = [],\n\n      this.sendBarData = []\n      this.sendPieData = []\n\n      this.challengeCheck = false\n      this.challengeSMSCheck = false\n      this.secretCheck = false\n      this.secretSMSCheck = false\n      this.timerCheck = false\n      this.timerSMSCheck = false\n      this.zoneCheck = false\n      this.zoneSMSCheck = false\n      this.userSMSCheck = false\n      this.alarmCheck = false\n\n      this.activeCheckBoxes=[]\n\n\n\n      this.$store.dispatch('queryuser/setPieData',this.sendPieData)\n      this.$store.dispatch('queryuser/setNewBarChartData',Object.values(this.sendBarData))\n    },\n    toggleDataType(event){\n\n      this.clearAllCriteria()\n\n      if (event==true){\n        this.useRealData = true\n        this.dataSource = 'events',\n        this.dataList = 'events'\n      }else{\n        this.useRealData = false\n        this.dataSource = 'research'\n        this.dataList = 'data'\n      }\n\n\n    },\n    toggleChartType(event){\n      console.log(event)\n      this.clearAllCriteria()\n      if (event==true){\n        this.chartType='Individual'\n      }else{\n        this.chartType='Group'\n      }\n    },\n    clear() {\n      clearInterval(this.loadingInterval)\n    },\n    checkBoxTest(type){\n      console.log(type+' '+this.challengeCheck)\n      if (this.activeCheckBoxes.includes(type)) {\n        this.activeCheckBoxes.splice(this.activeCheckBoxes.indexOf(type), 1);\n      }else{\n        this.activeCheckBoxes.push(type)\n      }\n      console.log (this.activeCheckBoxes)\n\n    if (this.chartType=='Group') {\n      this.getGroupData(type, false)\n    }else{\n      if (this.useRealData){\n      this.selectChartColumns()\n      }else{\n        this.selectResearchChartColumns()\n      }\n    }\n\n    },\n    dateChangedChecker(i) {\n\n      if (i==2){\n        return\n      }\n\n      this.sendBarData=[]\n      this.sendPieData=[]\n\n    if (this.chartType=='Group') {\n\n      for (var d=0; d<this.activeCheckBoxes.length; d++){\n        this.getGroupData(this.activeCheckBoxes[d], true)\n      }\n\n    }else{\n      this.searchUsersByEmail()\n    }\n    },\n    changeData() {\n\n    if (this.chartType=='Group'){\n       this.selectChallengeSMS = false\n       this.selectChartColumns()\n    }else{\n      this.searchUsersByEmail()\n    }\n\n    },\n\n    async moveResearch () {\n\n      let userIdList=[]\n      await db.collection(\"users\").get().then(function(querySnapshot) {\n      querySnapshot.forEach(function(doc) {\n        userIdList.push(doc.ref.id)\n      })\n      })\n\n      for (var l=0; l<userIdList.length; l++){\n      db.collection(\"users\").doc(userIdList[l]).collection('research').get().then((querySnapshot)=> {\n\n      if (querySnapshot.docs.length>0){\n      querySnapshot.forEach(async (doc)=> {\n\n        var idDate = doc.id\n        var theList = doc.data()['data']\n\n\n        //go through data list see what type\n\n        for (var d=0; d<theList.length; d++){\n          console.log(theList[d].event +'   '+idDate)\n          var cat=''\n          var useDate=''\n          switch (theList[d].event) {\n            case 'Use_Bangla':\n              cat = 'researchBangla'\n\n              break;\n\n            default:\n              break;\n          }\n              if (cat.length>0){\n            db.collection(cat).doc(idDate)\n            .set({\n              data: firebase.firestore.FieldValue.arrayUnion(theList[d])\n          //    'incidents':theList\n            },{merge:true})\n            }\n        }\n\n\n\n       })\n      }\n\n      })\n      }\n\n    },\n\n    async moveReports(){\n\n      let userIdList=[]\n      let userPhones=[]\n      await db.collection(\"users\").get().then(function(querySnapshot) {\n      querySnapshot.forEach(function(doc) {\n\n        userIdList.push(doc.ref.id)\n        var pn = doc.data()['userPhone']\n        if (pn.length==0){pn='123'}\n        userPhones.push(pn)\n\n      })\n      })\n\n       console.log(userIdList)\n\n      for (var l=0; l<userIdList.length; l++){\n\n\n\n      db.collection(\"users\").doc(userIdList[l]).collection('incidents').get().then((querySnapshot)=> {\n\n      if (querySnapshot.docs.length>0){\n      querySnapshot.forEach(async (doc)=> {\n       // console.log(doc.ref.parent.parent.id)\n        var userId= doc.ref.parent.parent.id\n        var ph = await db.collection('users').doc(userId).get()\n       // console.log(ph.data().userPhone)\n        //console.log(ph.id)\n      var theID = doc.id;\n      var theList = doc.data()['incidents']\n      for (var f=0; f<theList.length; f++){\n        //console.log(userIdList[count]+'   '+userPhones[count])\n        Object.assign(theList[f], {userPhone: ph.data().userPhone, userId: ph.id});\n      db.collection(\"reportsFiled\").doc(doc.id)\n      .set({\n        incidents: firebase.firestore.FieldValue.arrayUnion(theList[f])\n    //    'incidents':theList\n      },{merge:true})\n      }\n      console.log (doc.id)\n      console.log(theList)\n\n\n       })\n      }\n\n      })\n      }\n\n    },\n\n    async setTimeUserEventsDocs() {\n\n      let userIdList=[]\n      await db.collection(\"users\").get().then(function(querySnapshot) {\n      querySnapshot.forEach(function(doc) {\n\n        userIdList.push(doc.ref.id)\n      })\n      })\n\n       console.log(userIdList)\n\n      for (var l=0; l<userIdList.length; l++){\n\n      db.collection(\"users\").doc(userIdList[l]).collection('research').get().then(function(querySnapshot) {\n      querySnapshot.forEach(function(doc) {\n\n      const splitTime=doc.ref.id.split(' ')[0];\n      console.log(splitTime)\n      var pushTime = Date.parse(splitTime)\n        doc.ref.update({\n          createdAt: pushTime\n        });\n        console.log(moment(pushTime).format('MMM Do YY'))\n\n      })\n\n      })\n      }\n\n    },\n    getRandomInt(max) {\n      return Math.floor(Math.random() * Math.floor(max)+16);\n    },\n\n\n\n    setTimeAllDocs(){\n      db.collection(\"researchBangla\").get().then(function(querySnapshot) {\n      querySnapshot.forEach(function(doc) {\n      const splitTime=doc.ref.id.split(' ')[0];\n      console.log(splitTime)\n      var pushTime = Date.parse(splitTime)\n        doc.ref.update({\n          createdAt: pushTime\n        });\n        console.log(moment(pushTime).format('MMM Do YY'))\n    });\n    });\n    },\n    setEventAges(){\n      var cat='alarm'\n      var temp=[]\n      db.collection(cat).get().then(function(querySnapshot) {\n    querySnapshot.forEach(function(doc) {\n\n      //console.log(doc.data()[this.dataList])\n      temp.push(doc.data()[this.dataList])\n\n    });\n    var newTemp;\n    console.log(temp.length)\n    for (var t=0; t<temp.length; t++){\n       newTemp = temp[t]\n      for (var s=0; s<newTemp.length; s++){\n        var rndAge = Math.floor(Math.random() * Math.floor(30)+16)\n        newTemp[s]['age']=rndAge\n      }\n\n    }\n    console.log(temp)\n    var p=0\n    db.collection(cat).get().then((querySnapshot) => {\n      querySnapshot.forEach((doc) => {\n        doc.ref.update({\n          events: temp[p]\n        });\n        p++\n      })\n    })\n    });\n    },\n\n\n\n    async getGroupData(category, fromDate){\n\n\n      if (this.dates[0]==null){\n        return\n      }\n\n      if (this.dates[1]==null){\n        this.dates[1]=this.dates[0]\n      }\n\n      const fullDate1 = Date.parse(this.dates[0])\n      const fullDate2 = Date.parse(this.dates[1])\n\n      console.log('FD '+fullDate2)\n\n      const useDates = []\n\n\n      if (fullDate1 < fullDate2) {\n        useDates.push(fullDate1)\n        useDates.push(fullDate2)\n      } else {\n        useDates.push(fullDate2)\n        useDates.push(fullDate1)\n      }\n      console.log (useDates)\n\n      this.allSearchDates  = this.getDates(useDates[0], useDates[1])\n\n      console.log(useDates[1])\n\n      this.$store.dispatch('queryuser/setDates',this.allSearchDates )\n\n        const testCollection = []\n      //context.commit(\"SET_MATCHES\", categories)\n\n      if (!fromDate){\n      for (var b=0; b<this.sendBarData.length; b++){\n        if (this.sendBarData[b]['name']==category){\n          console.log('remove it')\n          //this.sendBarData = []\n          this.sendBarData.splice(b, 1);\n          this.$store.dispatch('queryuser/setNewBarChartData',Object.values(this.sendBarData))\n\n              for (var p=0; p<this.sendPieData.length; p++){\n              if (this.sendPieData[p]['name']==category){\n                console.log('remove it pie')\n                //this.sendBarData = []\n                this.sendPieData.splice(p, 1);\n                this.$store.dispatch('queryuser/setPieData',this.sendPieData)\n\n              }else{\n                console.log('add it pie')\n              }\n            }\n\n           return\n        }else{\n          console.log('add it')\n        }\n      }\n\n      }\n\n      console.log('CAT  '+category)\n\n      await db.collection(category)\n        .orderBy('createdAt').startAt(useDates[0]).endAt(useDates[1])\n        //   , '==', Date.parse('2020-11-17 00:00:00.000'))\n        .get()\n        .then((querySnapshot) => {\n          if (querySnapshot.empty) {\n          // eslint-disable-next-line no-console\n            console.log('cannot find')\n            //this.$router.push('/HelloWorld')\n          }else{\n              var totalCount = 0;\n              querySnapshot.forEach((doc) => {\n              const coll = []\n              const { id } = doc\n              const usingDate = moment(id).format('MMM Do YY')\n\n              doc.data()[this.dataList].forEach((doc) => {\n                var theTime\n                if (doc.time){\n                  theTime = doc.time.seconds*1000\n                }else if (doc.date){\n                  theTime = doc.date.seconds*1000\n                }\n\n                var aTime = parseInt (moment(theTime).format('HH'))\n                //removed age check for now\n                //if (doc.age >= this.lowerAge && doc.age <= this.upperAge){\n                  console.log(this.timerange[0] +'   '+this.timerange[1])\n                  if (aTime >= this.timerange[0] && aTime <= this.timerange[1]){\n                    coll.push({ doc })\n                    totalCount++;\n                  }\n                //}\n              })\n\n              testCollection.push({ [usingDate]: coll })\n\n            })\n             console.log (category +'  '+totalCount)\n             this.sendPieData.push({value: totalCount, name: category})\n             this.$store.dispatch('queryuser/setPieData', this.sendPieData)\n\n          }\n\n        })\n\n      await this.fillGroupChartArray(testCollection, category)\n\n         console.log(this.sendBarData)\n       this.$store.dispatch('queryuser/setNewBarChartData',Object.values(this.sendBarData))\n\n    },\n\n    async searchUsersByEmail() {\n\nconsole.log(  'search user')\n\n      this.isLoading = true\n      this.message = ''\n      this.foundUser = null\n\n      this.challengeList = []\n      this.challengeSMSList = []\n      this.secretList = []\n      this.secretSMSList = []\n      this.timerList = []\n      this.timerSMSList = []\n      this.userSMSList = []\n      this.zoneList = []\n      this.zoneSMSList = []\n      this.alarmList = []\n\n      this.researchChallengeList = [],\n      this.researchAlarmList = [],\n      this.researchAppOpenedList = [],\n      this.researchBanglaList = [],\n      this.researchEnglishList = [],\n      this.researchSecretList = [],\n      this.researchTestOnList = [],\n      this.researchTimerList = [],\n      this.researchUserSMSList = [],\n      this.researchZoneList = [],\n\n      this.sendBarData = []\n      this.sendPieData = []\n\n      var newNumber;\n      if (this.email.substring(0,3)!='+88'){\n        newNumber = '+88'+this.email\n      }else{\n        newNumber = this.email\n      }\n\n\n      const snapshot = await db\n        .collection('users')\n        .where('userPhone', '==', newNumber)\n        .get()\n\n      if (!snapshot.empty) {\n        const userId = snapshot.docs[0].id\n        const userData = snapshot.docs[0].data()\n\n        this.foundUser = {\n          id: userId,\n          ...userData\n        }\n\n        const dbUser = await db.collection('users').doc(userId).get()\n\n        if (dbUser !== null) {\n\n          const queryUserData = dbUser.data()\n\n          await this.$store.dispatch('queryuser/setUserData', {\n            id: dbUser.id,\n            name: queryUserData.username,\n            email: queryUserData.email\n\n          })\n\n          this.searchUserAndDate(userId)\n\n        } else {\n          console.log('NO USER')\n        }\n      } else {\n        this.message = 'No user with that email found.'\n      }\n      this.isLoading = false\n    },\n\n    getDates(startDate, stopDate) {\n      var dateArray = [];\n      var currentDate = moment(startDate);\n      var stopDate = moment(stopDate);\n      while (currentDate <= stopDate) {\n          dateArray.push( moment(currentDate).format('MMM Do YY') )\n          currentDate = moment(currentDate).add(1, 'days');\n      }\n      return dateArray;\n    },\n    async searchUserAndDate(uid) {\n     // console.log(this.dates[0] + ' 00:00:00.000')\n\n      const fullDate1 = Date.parse(this.dates[0])\n      const fullDate2 = Date.parse(this.dates[1])\n\n      if (this.dates[0]==null){\n        return\n      }\n\n      if (this.dates[1]==null){\n        this.dates[1]=this.dates[0]\n      }\n\n      const useDates = []\n\n      if (fullDate1 < fullDate2) {\n        useDates.push(fullDate1)\n        useDates.push(fullDate2)\n      } else {\n        useDates.push(fullDate2)\n        useDates.push(fullDate1)\n      }\n      console.log (useDates)\n\n      this.allSearchDates  = this.getDates(useDates[0], useDates[1])\n\n      this.$store.dispatch('queryuser/setDates',this.allSearchDates )\n\n      const testCollection = []\n      //context.commit(\"SET_MATCHES\", categories)\n\n      db.collection('users').doc(uid)\n        .collection(this.dataSource)\n        .orderBy('createdAt').startAt(useDates[0]).endAt(useDates[1])\n        // .where('createdAt'\n        //   , '==', Date.parse('2020-11-17 00:00:00.000'))\n        .get()\n        .then((querySnapshot) => {\n          if (querySnapshot.empty) {\n          // eslint-disable-next-line no-console\n            console.log('cannot find')\n          this.$store.dispatch('queryuser/setNewBarChartData',Object.values(this.sendBarData))\n          this.$store.dispatch('queryuser/setPieData', this.sendPieData)\n\n            //this.$router.push('/HelloWorld')\n          } else {\n\n            querySnapshot.forEach((doc) => {\n              const coll = []\n              const { id } = doc\n\n              doc.data()[this.dataList].forEach((doc) => {\n                var theTime\n                if (doc.time){\n                  theTime = doc.time.seconds*1000\n                }else if (doc.date){\n                  theTime = doc.date.seconds*1000\n                }\n                var aTime = parseInt (moment(theTime).format('HH'))\n                if (aTime >= this.timemin && aTime <= this.timemax){\n                  coll.push({ doc })\n                }\n              })\n\n              testCollection.push({ [id]: coll })\n\n            })\n\n            this.allResults = testCollection\n            if (this.useRealData){\n            this.createArrays()\n            }else{\n              this.createResearchArrays()\n            }\n          }\n        })\n\n    },\n    async createArrays(){\n\n    this.allResults.forEach(doc=>{\n      for (const [key, value] of Object.entries(doc)) {\n          console.log(`NEW ${key}: ${value}`)\n\n            var theKey=key\n\n            for (const [akey, avalue] of Object.entries(doc[theKey])) {\n                console.log(`${akey}: ${avalue}`)\n                const usingDate = moment(avalue['doc']['time'].toDate()).format('MMM Do YY')\n\n\n                console.log(usingDate);\n\n                switch (avalue['doc']['category']) {\n                    case 'challenge':\n                        this.challengeList.push({ [usingDate] :avalue['doc']})\n                        //this.challengeList.push(avalue['doc'])\n                        break;\n                    case 'challenge-sms':\n                        this.challengeSMSList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'secret':\n                        this.secretList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'secret-sms':\n                        this.secretSMSList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'timer':\n                        this.timerList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'timer-sms':\n                        this.timerSMSList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'user-sms':\n                        this.userSMSList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'zone':\n                        this.zoneList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'zones-sms':\n                        this.zoneSMSList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'alarm':\n                        this.alarmList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    default:\n                        break;\n                }\n             }\n\n            }\n    })\n\n    this.selectChartColumns()\n\n  },\n\n  async selectChartColumns(){\n\n    this.sendBarData=[]\n    this.sendPieData=[]\n\n    console.log(this.alarmList)\n\n if (this.challengeList.length>0 && this.challengeCheck){\n      this.sendPieData.push({value: this.challengeList.length, name: 'Confront'})\n      await this.fillChartArray(this.challengeList, 'Confront')\n    }\n\n    if (this.challengeSMSList.length>0 && this.challengeSMSCheck){\n      this.sendPieData.push({value: this.challengeSMSList.length, name: 'Confront SMS'})\n      await this.fillChartArray(this.challengeSMSList, 'Confront SMS')\n    }\n\n    if (this.secretList.length>0 && this.secretCheck){\n      this.sendPieData.push({value: this.secretList.length, name: 'Secret'})\n      await this.fillChartArray(this.secretList, 'Secret')\n    }\n\n    if (this.secretSMSList.length>0 && this.secretSMSCheck){\n      this.sendPieData.push({value: this.secretSMSList.length, name: 'Secret SMS'})\n      await this.fillChartArray(this.secretSMSList, 'Secret SMS')\n    }\n\n    if (this.timerList.length>0 && this.timerCheck){\n      this.sendPieData.push({value: this.timerList.length, name: 'Timer'})\n      await this.fillChartArray(this.timerList, 'Timer')\n    }\n\n    if (this.timerSMSList.length>0 && this.timerSMSCheck){\n      this.sendPieData.push({value: this.timerSMSList.length, name: 'Timer SMS'})\n      await this.fillChartArray(this.timerSMSList, 'Timer SMS')\n    }\n\n    if (this.zoneList.length>0 && this.zoneCheck){\n      this.sendPieData.push({value: this.zoneList.length, name: 'Zone'})\n      await this.fillChartArray(this.zoneList, 'Zone')\n    }\n\n    if (this.zoneSMSList.length>0 && this. zoneSMSCheck){\n      this.sendPieData.push({value: this.zoneSMSList.length, name: 'Zone SMS'})\n      await this.fillChartArray(this.zoneSMSList, 'Zone SMS')\n    }\n\n    if (this.userSMSList.length>0 && this.userSMSCheck){\n      this.sendPieData.push({value: this.userSMSList.length, name: 'User SMS'})\n      await this.fillChartArray(this.userSMSList, 'User SMS')\n    }\n\n    if (this.alarmList.length>0 && this.alarmCheck){\n      this.sendPieData.push({value: this.alarmList.length, name: 'Alarm'})\n      await this.fillChartArray(this.alarmList, 'Alarm')\n    }\n\n    console.log(this.sendPieData)\n     this.$store.dispatch('queryuser/setNewBarChartData',Object.values(this.sendBarData))\n     this.$store.dispatch('queryuser/setPieData', this.sendPieData)\n\n  },\n\n  async fillChartArray(createdList, category){\n\n    console.log('LENGTH '+createdList.length)\n\n    var tabulatedList = {}\n\n    for (var t=0; t<this.allSearchDates.length; t++){\n      Object.assign(tabulatedList, {[this.allSearchDates[t]]: 0});\n    }\n\n    for (var i=0; i<createdList.length; i++){\n    for (const [key, value] of Object.entries(createdList[i])) {\n          console.log(`NEW ${key}: ${value}`)\n          tabulatedList[key]++\n          //tabulatedList[key] = value.length\n        }\n    }\n\n  console.log(tabulatedList)\n\n    await this.sendBarData.push({name: category, data: Object.values(tabulatedList)})\n\n    return\n  },\n\n\n  async createResearchArrays(){\n\n    this.allResults.forEach(doc=>{\n      for (const [key, value] of Object.entries(doc)) {\n          console.log(`NEW ${key}: ${value}`)\n\n            var theKey=key\n\n            for (const [akey, avalue] of Object.entries(doc[theKey])) {\n                console.log(`${akey}: ${avalue}`)\n                const usingDate = moment(avalue['doc']['date'].toDate()).format('MMM Do YY')\n\n\n                console.log(usingDate);\n\n\n                switch (avalue['doc']['event']) {\n                    case 'Challenge_Screen_Recording_Start':\n                        this.researchChallengeList.push({ [usingDate] :avalue['doc']})\n                        //this.challengeList.push(avalue['doc'])\n                        break;\n                    case 'Challenge_Screen_Alarm_Used':\n                        this.researchAlarmList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'App_Opened':\n                        this.researchAppOpenedList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'Use_Bangla':\n                        this.researchBanglaList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'Use_English':\n                        this.researchEnglishList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'Secret_Recording_Started':\n                        this.researchSecretList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'Test_Mode_On':\n                        this.researchTestOnList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'Countdown_started':\n                        this.researchTimerList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'Home_SMS_Press':\n                        this.researchUserSMSList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    case 'Geofence_Start':\n                        this.researchZoneList.push({ [usingDate] :avalue['doc']})\n                        break;\n                    default:\n                        break;\n                }\n             }\n\n            }\n    })\n\n    this.selectResearchChartColumns()\n\n  },\n\n\n  async selectResearchChartColumns(){\n\n    this.sendBarData=[]\n    this.sendPieData=[]\n\n\n if (this.researchChallengeList.length>0 && this.challengeCheck){\n      this.sendPieData.push({value: this.researchChallengeList.length, name: 'Confront(R)'})\n      await this.fillChartArray(this.researchChallengeList, 'Confront(R)')\n    }\n\n    if (this.researchAlarmList.length>0 && this.alarmCheck){\n      this.sendPieData.push({value: this.researchAlarmList.length, name: 'Alarm(R)'})\n      await this.fillChartArray(this.researchAlarmList, 'Alarm(R)')\n    }\n\n    if (this.researchAppOpenedList.length>0 && this.zoneCheck){\n      this.sendPieData.push({value: this.researchAppOpenedList.length, name: 'AppOpened(R)'})\n      await this.fillChartArray(this.researchAppOpenedList, 'AppOpened(R)')\n    }\n\n    if (this.researchBanglaList.length>0 && this.timerCheck){\n      this.sendPieData.push({value: this.researchBanglaList.length, name: 'Bangla(R)'})\n      await this.fillChartArray(this.researchBanglaList, 'Bangla(R)')\n    }\n\n    if (this.researchEnglishList.length>0 && this.timerSMSCheck){\n      this.sendPieData.push({value: this.researchEnglishList.length, name: 'English(R)'})\n      await this.fillChartArray(this.researchEnglishList, 'English(R)')\n    }\n\n    if (this.researchSecretList.length>0 && this.secretCheck){\n      this.sendPieData.push({value: this.researchSecretList.length, name: 'Secret(R)'})\n      await this.fillChartArray(this.researchSecretList, 'Secret(R)')\n    }\n\n    if (this.researchTestOnList.length>0 && this.zoneSMSCheck){\n      this.sendPieData.push({value: this.researchTestOnList.length, name: 'Test On(R)'})\n      await this.fillChartArray(this.researchTestOnList, 'Test On(R)')\n    }\n\n    if (this.researchTimerList.length>0 && this. secretSMSCheck){\n      this.sendPieData.push({value: this.researchTimerList.length, name: 'Reminder(R)'})\n      await this.fillChartArray(this.researchTimerList, 'Reminder(R)')\n    }\n\n    if (this.researchUserSMSList.length>0 && this.userSMSCheck){\n      this.sendPieData.push({value: this.researchUserSMSList.length, name: 'User SMS(R)'})\n      await this.fillChartArray(this.researchUserSMSList, 'User SMS(R)')\n    }\n\n    if (this.researchZoneList.length>0 && this.challengeSMSCheck){\n      this.sendPieData.push({value: this.researchZoneList.length, name: 'Zone(R)'})\n      await this.fillChartArray(this.researchZoneList, 'Zone(R)')\n    }\n\n    console.log(this.sendPieData)\n     this.$store.dispatch('queryuser/setNewBarChartData',Object.values(this.sendBarData))\n     this.$store.dispatch('queryuser/setPieData', this.sendPieData)\n\n  },\n\n\n\n\n  /// for groups ////\n\n  async fillGroupChartArray(createdList, category){\n\n    var tabulatedList = {}\n\n    for (var t=0; t<this.allSearchDates.length; t++){\n      Object.assign(tabulatedList, {[this.allSearchDates[t]]: 0});\n    }\n\n    for (var i=0; i<createdList.length; i++){\n    for (const [key, value] of Object.entries(createdList[i])) {\n          console.log(`NEW ${key}: ${value}`)\n\n          tabulatedList[key] = value.length\n\n          //get values below e.g. map locations\n\n          // for (var v=0; v<value.length; v++){\n          //   console.log (value[v]['doc']['eventId'])\n          // }\n\n        }\n    }\n\n  //console.log(tabulatedList)\n\n    await this.sendBarData.push({name: category, data: Object.values(tabulatedList)})\n\n    return\n  }\n\n\n\n  }\n}\n</script>\n"]}]}