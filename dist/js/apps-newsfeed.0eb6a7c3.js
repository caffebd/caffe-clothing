(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["apps-newsfeed"],{"2c64":function(e,t,i){},"3d86":function(e,t,i){},"43a6":function(e,t,i){"use strict";i("a9e3");var a=i("5530"),o=(i("ec29"),i("3d86"),i("c37a")),s=i("604c"),r=i("8547"),n=i("58df"),l=Object(n["a"])(r["a"],s["a"],o["a"]);t["a"]=l.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},o["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var e=o["a"].options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel:function(){var e=o["a"].options.methods.genLabel.call(this);return e?(e.data.attrs.id=this.computedId,delete e.data.attrs.for,e.tag="legend",e):null},onClick:s["a"].options.methods.onClick}})},"4bd4":function(e,t,i){"use strict";i("4de4"),i("7db0"),i("4160"),i("caad"),i("07ac"),i("2532"),i("159b");var a=i("5530"),o=i("58df"),s=i("7e2b"),r=i("3206");t["a"]=Object(o["a"])(s["a"],Object(r["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,i=function(e){return e.$watch("hasError",(function(i){t.$set(t.errorBag,e._uid,i)}),{immediate:!0})},a={_uid:e._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?a.shouldValidate=e.$watch("shouldValidate",(function(o){o&&(t.errorBag.hasOwnProperty(e._uid)||(a.valid=i(e)))})):a.valid=i(e),a},validate:function(){return 0===this.inputs.filter((function(e){return!e.validate(!0)})).length},reset:function(){this.inputs.forEach((function(e){return e.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(e){return e.resetValidation()})),this.resetErrorBag()},register:function(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var i=this.watchers.find((function(e){return e._uid===t._uid}));i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object(a["a"])({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}})},5311:function(e,t,i){"use strict";var a=i("5607"),o=i("2b0e");t["a"]=o["a"].extend({name:"rippleable",directives:{ripple:a["b"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}})},"67b6":function(e,t,i){"use strict";i("b0c0");var a=i("5530"),o=(i("2c64"),i("ba87")),s=i("9d26"),r=i("c37a"),n=i("7e2b"),l=i("a9ad"),c=i("4e82"),d=i("5311"),u=i("7560"),h=i("fe09"),f=i("80d2"),p=i("58df"),m=i("d9f7"),v=Object(p["a"])(n["a"],l["a"],d["a"],Object(c["a"])("radioGroup"),u["a"]);t["a"]=v.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return h["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return r["a"].options.computed.computedId.call(this)},hasLabel:r["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return h["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(e){return h["a"].options.methods.genInput.call(this,"radio",e)},genLabel:function(){return this.hasLabel?this.$createElement(o["a"],{on:{click:h["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(f["s"])(this,"label")||this.label):null},genRadio:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(s["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(a["a"])({name:this.computedName,value:this.value},this.attrs$)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(e){var t={staticClass:"v-radio",class:this.classes,on:Object(m["c"])({click:this.onChange},this.listeners$)};return e("div",t,[this.genRadio(),this.genLabel()])}})},8547:function(e,t,i){"use strict";var a=i("2b0e"),o=i("80d2");t["a"]=a["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:o["j"]}}})},ec29:function(e,t,i){},f3ad:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"d-flex flex-grow-1 flex-row mt-2 ml-4"},[i("v-navigation-drawer",{staticClass:"elevation-1 rounded flex-shrink-0",class:[e.$vuetify.rtl?"ml-3":"mr-3"],attrs:{app:e.$vuetify.breakpoint.mdAndDown,permanent:e.$vuetify.breakpoint.lgAndUp,floating:"",right:e.$vuetify.rtl,width:"340"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[i("newsfeed-menu",{staticClass:"newsfeed-app-menu pa-2",on:{"open-compose":e.openCompose}})],1),i("div",{staticClass:"d-flex flex-grow-1 flex-column"},[i("v-toolbar",{staticClass:"hidden-lg-and-up flex-grow-0 mb-2"},[i("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),i("div",{staticClass:"title font-weight-bold"},[e._v("Newsfeed App")])],1),i("router-view",{key:e.$route.fullPath,staticClass:"flex-grow-1",on:{"edit-newsfeed":e.openCompose}})],1),i("newsfeed-compose",{ref:"compose"})],1)},o=[],s=(i("4160"),i("159b"),i("96cf"),i("1da1")),r=i("5530"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-btn",{staticClass:"mb-3",attrs:{block:"",large:"",color:"primary"},on:{click:function(t){return e.$emit("open-compose")}}},[e._v(e._s(e.$t("appnewsfeed.addTask")))]),i("v-list",{staticClass:"mt-2 pa-0",attrs:{nav:""}},[i("v-list-item",{attrs:{to:"/apps/newsfeed/newsfeed","active-class":"primary--text",link:""}},[i("v-list-item-icon",[i("v-icon",{attrs:{small:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v(e._s(e.$t("appnewsfeed.newsfeed")))])],1),e.incompleteNewsfeed.length>0?i("v-list-item-action",[i("v-badge",{staticClass:"font-weight-bold",attrs:{inline:"",color:"primary",content:e.incompleteNewsfeed.length}})],1):e._e()],1),i("v-list-item",{attrs:{to:"/apps/newsfeed/completed","active-class":"primary--text",link:""}},[i("v-list-item-icon",[i("v-icon",{attrs:{small:""}},[e._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v(e._s(e.$t("appnewsfeed.completed")))])],1)],1)],1),i("v-list",{staticClass:"mt-2 pa-0",attrs:{dense:"",nav:""}},[i("div",{staticClass:"overline pa-1 mt-2"},[e._v(e._s(e.$t("appnewsfeed.labels")))]),e._l(e.newsfeedlabels,(function(t){return i("v-list-item",{key:t.id,attrs:{to:"/apps/newsfeed/label/"+t.id,exact:"","active-class":"primary--text",link:""}},[i("v-list-item-icon",[i("v-icon",{attrs:{small:"",color:t.color}},[e._v("mdi-label-outline")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v(e._s(t.title))])],1)],1)}))],2)],1)},l=[],c=i("2f62"),d={computed:Object(r["a"])(Object(r["a"])({},Object(c["d"])("newsfeed-app",["newsfeedlabels"])),Object(c["b"])("newsfeed-app",["incompleteNewsfeed"]))},u=d,h=i("2877"),f=i("6544"),p=i.n(f),m=i("4ca6"),v=i("8336"),g=i("132d"),b=i("8860"),w=i("da13"),y=i("1800"),x=i("5d23"),k=i("34c3"),C=Object(h["a"])(u,n,l,!1,null,null,null),O=C.exports;p()(C,{VBadge:m["a"],VBtn:v["a"],VIcon:g["a"],VList:b["a"],VListItem:w["a"],VListItemAction:y["a"],VListItemContent:x["a"],VListItemIcon:k["a"],VListItemTitle:x["c"]});var V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("v-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",{staticClass:"px-8 pb-4"},[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{cols:"3"}},[i("v-radio-group",{attrs:{row:""},on:{change:e.selectPrefix},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}},[i("v-radio",{attrs:{color:"purple",label:"Iris",value:"iris"}}),i("v-radio",{attrs:{color:"green",label:"Valerie",value:"valerie"}})],1)],1),i("v-col",{attrs:{cols:"9"}},[i("v-radio-group",{attrs:{row:""},on:{change:e.selectPrefix},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},[i("v-radio",{attrs:{label:"Infant",value:"infant"}}),i("v-radio",{attrs:{label:"Boys",value:"boys"}}),i("v-radio",{attrs:{label:"Girls",value:"girls"}}),i("v-radio",{attrs:{label:"Women",value:"women"}}),i("v-radio",{attrs:{label:"Men",value:"men"}})],1)],1)],1),i("v-row",[i("v-col",{attrs:{cols:"6"}},[i("v-row",{staticClass:"pb-0 mb-0",attrs:{dense:""}},[i("v-col",{staticClass:"pb-0 mb-0",attrs:{cols:"2",dense:""}},[i("h2",{staticClass:"pb-0 mb-0 rounded-pill blue lighten-2 text-center mt-1 white--text"},[e._v(e._s(e.codePrefix))])]),i("v-col",{attrs:{cols:"10"}},[i("v-text-field",{attrs:{outlined:"",counter:8,rules:e.codeRules,label:"Code",required:""},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1)],1),i("v-text-field",{attrs:{outlined:"",counter:60,rules:e.ageRules,label:"Age"},model:{value:e.age,callback:function(t){e.age=t},expression:"age"}}),i("v-text-field",{attrs:{outlined:"",counter:100,rules:e.colourRules,label:"Colour"},model:{value:e.colour,callback:function(t){e.colour=t},expression:"colour"}}),i("v-text-field",{attrs:{outlined:"",counter:100,rules:e.qtyRules,label:"Quantity",required:""},model:{value:e.qty,callback:function(t){e.qty=t},expression:"qty"}})],1),i("v-col",{staticClass:"mt-1",attrs:{cols:"6"}},[i("v-text-field",{attrs:{outlined:"",counter:80,rules:e.titleRules,label:"Title",required:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),i("v-text-field",{staticClass:"mt-1",attrs:{outlined:"",counter:100,rules:e.sizeRules,label:"Size"},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}}),i("v-text-field",{attrs:{outlined:"",counter:100,rules:e.materialRules,label:"Material"},model:{value:e.material,callback:function(t){e.material=t},expression:"material"}}),i("v-text-field",{attrs:{outlined:"",counter:100,rules:e.priceRules,label:"Price",required:""},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1)],1)],1),i("v-row",e._l(e.imageUrls,(function(t){return i("v-col",{key:t.id,staticClass:"d-flex child-flex",attrs:{cols:"3"}},[i("v-img",{staticClass:"grey lighten-2",attrs:{src:t,"aspect-ratio":"1"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[i("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)},[i("span",{on:{click:function(i){return e.deleteImage(t)}}},[i("v-icon",{staticClass:"pa-1",attrs:{left:"",color:"red",large:""}},[e._v("mdi-delete-circle")])],1)])],1)})),1),i("v-divider"),i("vue-dropzone",{ref:"imgDropzone",attrs:{id:"imgDropzone",options:e.dropzoneOptions},on:{"vdropzone-complete":e.afterComplete,"vdropzone-processing":e.dzoneProcessing}}),i("v-card-actions",{staticClass:"pa-2"},[i("v-btn",{attrs:{outlined:""},on:{click:e.close}},[e._v(e._s(e.$t("common.cancel")))]),i("v-spacer"),i("v-btn",{staticClass:"ma-2 white--text",attrs:{loading:e.loading,disabled:e.loading,color:"blue"},on:{click:e.post}},[e._v(" Save Item "),i("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-cloud-upload ")])],1)],1)],1)],1)],1)],1)],1)],1)},j=[],P=(i("99af"),i("c975"),i("baa5"),i("fb6a"),i("a434"),i("b0c0"),i("d3b7"),i("25f0"),i("ade3")),D=i("c1df"),_=i.n(D),z=i("56d7"),$=i("2591"),R=i("92c3"),I=i.n(R),A=(i("1e3f"),{components:{vueDropzone:I.a},data:function(){var e;return e={loading:!1,dropzoneOptions:{url:"https://httpbin.org/post",thumbnailWidth:250,thumbnailHeight:250,addRemoveLinks:!0,acceptedFiles:".jpg, .jpeg, .png"},dialog:!1,title:"",time:"",likes:[],shares:0,events:[],codePrefix:"",incidentDate:"",foundEvents:[],show:!0,iAmEditing:!1,taskLabels:[],search:null,id:"",valid:!0,files:[],imageRaw:null,receivedUrl:"",imageUrl:"",imageUrls:[]},Object(P["a"])(e,"title",""),Object(P["a"])(e,"sortDate",""),Object(P["a"])(e,"author",""),Object(P["a"])(e,"code",""),Object(P["a"])(e,"category","infant"),Object(P["a"])(e,"user","iris"),Object(P["a"])(e,"size",""),Object(P["a"])(e,"age",""),Object(P["a"])(e,"colour",""),Object(P["a"])(e,"material",""),Object(P["a"])(e,"qty",""),Object(P["a"])(e,"price",""),Object(P["a"])(e,"codeRules",[function(e){return!!e||"Code is required"},function(e){return e&&e.length<=80||"Code must be less than 8 characters"}]),Object(P["a"])(e,"titleRules",[function(e){return!!e||"Title is required"},function(e){return e&&e.length<=80||"Title must be less than 80 characters"}]),Object(P["a"])(e,"sizeRules",[function(e){return e&&e.length<=80||"Size must be less than 80 characters"}]),Object(P["a"])(e,"ageRules",[function(e){return e&&e.length<=100||"Age must be less than 100 characters"}]),Object(P["a"])(e,"colourRules",[function(e){return e&&e.length<=100||"Colour must be less than 100 characters"}]),Object(P["a"])(e,"materialRules",[function(e){return e&&e.length<=100||"Material must be less than 100 characters"}]),Object(P["a"])(e,"qtyRules",[function(e){return!!e||"Quantity is required"},function(e){return e&&e.length<=100||"Quantity must be less than 100 characters"}]),Object(P["a"])(e,"priceRules",[function(e){return!!e||"Price is required"},function(e){return e&&e.length<=100||"Price must be less than 100 characters"}]),Object(P["a"])(e,"select",null),Object(P["a"])(e,"checkbox",!1),Object(P["a"])(e,"imageChanged",!1),e},computed:Object(r["a"])(Object(r["a"])({},Object(c["d"])("newsfeed-app",["newsfeedlabels"])),{},{isEdit:function(){if(null!=this.id)return console.log(this.id),""!=this.id}}),methods:Object(r["a"])(Object(r["a"])({},Object(c["c"])("newsfeed-app",["updateNewsfeed","addNewsfeed"])),{},{open:function(e,t){console.log("OPEN"),e?(this.task=e,this.iAmEditing=!0,this.code=this.task.code,this.id=this.task.id,this.completed=this.task.completed,this.title=this.task.title,this.age=this.task.age,this.size=this.task.size,this.colour=this.task.colour,this.material=this.task.material,this.qty=this.task.qty,this.price=this.task.price,this.codePrefix=this.task.codePrefix,this.images=this.task.images,this.taskLabels=this.task.labels,this.imageUrls=this.task.images,this.sortDate=this.task.sortDate,this.category=this.task.category,this.user=this.task.user):(this.iAmEditing=!1,this.id="",this.category="infant",this.user="iris",this.code="",this.completed=!1,this.codePrefix="i",this.title="",this.age="",this.size="",this.colour="",this.material="",this.qty="",this.price="",this.images=[],this.taskLabels=[],this.imageUrls=[],this.sortDate=0),this.dialog=!0},close:function(){this.dialog=!1},save:function(){var e=this.category,t=this.title,i=this.code,a=this.size,o=this.age,s=(this.taskLabels,this.imageUrls),n=this.id,l=this.colour,c=this.material,d=this.qty,u=this.price,h=this.completed,f=this.user,p=this.codePrefix,m=this.sortDate,v={title:t,sortDate:m,category:e,code:i,fullCode:p+i,size:a,age:o,id:n,colour:l,material:c,qty:d,price:u,completed:h,user:f,codePrefix:p,images:s,label:[e]};if(1==this.iAmEditing)this.updateNewsfeed(Object(r["a"])(Object(r["a"])({},this.task),v));else{console.log("PASS URL "+m);var g={sortDate:m,category:e,code:i,fullCode:p+i,title:t,size:a,age:o,id:n,colour:l,material:c,qty:d,price:u,completed:h,user:f,codePrefix:p,images:s,label:[e]};this.addNewsfeed(g)}this.loading=!1,this.resetValidation(),this.close()},randomNumber:function(){return Math.floor(999*Math.random())+1},selectPrefix:function(){if("iris"==this.user)switch(this.category){case"infant":this.codePrefix="i";break;case"boys":this.codePrefix="b";break;case"girls":this.codePrefix="g";break;case"women":this.codePrefix="w";break;case"men":this.codePrefix="m";break;default:break}else switch(this.category){case"infant":this.codePrefix="vi";break;case"boys":this.codePrefix="vb";break;case"girls":this.codePrefix="vg";break;case"women":this.codePrefix="vw";break;case"men":this.codePrefix="vm";break;default:break}},filter:function(e,t,i){var a=function(e){return null!==e?e:""},o=a(e.title),s=a(t);return o.toString().toLowerCase().indexOf(s.toString().toLowerCase())>-1},post:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i,a,o,s,r,n,l,c,d,u,h,f,p,m,v,g,b,w,y,x,k,C,O,V,j,P;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:0==e.iAmEditing?(i=Date.now(),e.sortDate=i,_()(i).format("Do MMM YY"),e.time=$["a"].firestore.Timestamp.fromDate(new Date),e.taskLabels=[],e.taskLabels.push(e.postType)):(e.taskLabels=[],e.taskLabels.push(e.postType),console.log("doc id "+e.id)),e.imageChanged?function(){var t=(new Date).getTime();e.images=e.$refs.imgDropzone.getAcceptedFiles();var i=0,o=function(){e.loading=!0;var o=e.images[a].name,s=o.slice(o.lastIndexOf(".")),r=$["a"].storage().ref("clothes/".concat(e.user,"/").concat(e.codePrefix,"/").concat(t,"/").concat(e.codePrefix).concat(e.code,"---").concat(a).concat(s)).put(e.images[a]);r.on("state_changed",(function(t){e.uploadValue=t.bytesTransferred/t.totalBytes*100}),(function(e){console.log(e.message)}),(function(){e.uploadValue=100,r.snapshot.ref.getDownloadURL().then((function(t){var a,o,s,r,n,l,c,d,u,h,f,p,m,v,g,b,w,y,x,k,C,O,V,j;(e.imageUrls.push(t),i==e.images.length-1)&&(console.log(e.imageUrls),console.log("got id "+e.id),""!=e.id?z["db"].collection(e.codePrefix).doc(e.id).update({label:e.category,category:e.category,sortDate:e.sortDate,code:null!==(a=e.code)&&void 0!==a?a:"",size:null!==(o=e.size)&&void 0!==o?o:"",title:null!==(s=e.title)&&void 0!==s?s:"",age:null!==(r=e.age)&&void 0!==r?r:"",colour:null!==(n=e.colour)&&void 0!==n?n:"",images:null!==(l=e.imageUrls)&&void 0!==l?l:[],material:null!==(c=e.material)&&void 0!==c?c:"",qty:null!==(d=e.qty)&&void 0!==d?d:"",user:null!==(u=e.user)&&void 0!==u?u:"",codePrefix:null!==(h=e.codePrefix)&&void 0!==h?h:"",price:null!==(f=e.price)&&void 0!==f?f:"",completed:null!==(p=e.completed)&&void 0!==p&&p}).then((function(t){e.$refs.imgDropzone.removeAllFiles(),e.loading=!1,e.resetValidation(),e.close()})):z["db"].collection(e.codePrefix).add({label:e.category,category:e.category,sortDate:e.sortDate,code:null!==(m=e.code)&&void 0!==m?m:"",size:null!==(v=e.size)&&void 0!==v?v:"",title:null!==(g=e.title)&&void 0!==g?g:"",age:null!==(b=e.age)&&void 0!==b?b:"",colour:null!==(w=e.colour)&&void 0!==w?w:"",images:null!==(y=e.imageUrls)&&void 0!==y?y:[],material:null!==(x=e.material)&&void 0!==x?x:"",qty:null!==(k=e.qty)&&void 0!==k?k:"",user:null!==(C=e.user)&&void 0!==C?C:"",codePrefix:null!==(O=e.codePrefix)&&void 0!==O?O:"",price:null!==(V=e.price)&&void 0!==V?V:"",completed:null!==(j=e.completed)&&void 0!==j&&j}).then((function(t){e.$refs.imgDropzone.removeAllFiles(),e.loading=!1,e.resetValidation(),e.close()})));i++}))}))};for(a=0;a<e.images.length;a++)o()}():(e.loading=!0,""!=e.id?z["db"].collection(e.codePrefix).doc(e.id).update({label:e.category,category:e.category,sortDate:e.sortDate,code:null!==(o=e.code)&&void 0!==o?o:"",size:null!==(s=e.size)&&void 0!==s?s:"",title:null!==(r=e.title)&&void 0!==r?r:"",age:null!==(n=e.age)&&void 0!==n?n:"",colour:null!==(l=e.colour)&&void 0!==l?l:"",images:null!==(c=e.imageUrls)&&void 0!==c?c:[],material:null!==(d=e.material)&&void 0!==d?d:"",qty:null!==(u=e.qty)&&void 0!==u?u:"",user:null!==(h=e.user)&&void 0!==h?h:"",codePrefix:null!==(f=e.codePrefix)&&void 0!==f?f:"",price:null!==(p=e.price)&&void 0!==p?p:"",completed:null!==(m=e.completed)&&void 0!==m&&m}).then((function(t){e.$refs.imgDropzone.removeAllFiles(),e.loading=!1,e.resetValidation(),e.close()})):z["db"].collection(e.codePrefix).add({label:e.category,category:e.category,sortDate:e.sortDate,code:null!==(v=e.code)&&void 0!==v?v:"",size:null!==(g=e.size)&&void 0!==g?g:"",title:null!==(b=e.title)&&void 0!==b?b:"",age:null!==(w=e.age)&&void 0!==w?w:"",colour:null!==(y=e.colour)&&void 0!==y?y:"",images:null!==(x=e.imageUrls)&&void 0!==x?x:[],material:null!==(k=e.material)&&void 0!==k?k:"",qty:null!==(C=e.qty)&&void 0!==C?C:"",user:null!==(O=e.user)&&void 0!==O?O:"",codePrefix:null!==(V=e.codePrefix)&&void 0!==V?V:"",price:null!==(j=e.price)&&void 0!==j?j:"",completed:null!==(P=e.completed)&&void 0!==P&&P}).then((function(t){e.$refs.imgDropzone.removeAllFiles(),e.loading=!1,e.resetValidation(),e.close()})));case 2:case"end":return t.stop()}}),t)})))()},imagePreview:function(){var e=this,t=new FileReader;this.files.length>0?(t.addEventListener("load",(function(){e.imageUrls.push(t.result)})),t.readAsDataURL(this.files),this.images=this.files,this.imageChanged=!0):(this.images=[],this.imageUrls=[],this.imageChanged=!1)},validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()},deleteImage:function(e){var t=$["a"].storage().refFromURL(e),i=this.imageUrls.indexOf(e);this.imageUrls.splice(i,1),console.log(this.codePrefix+"   "+this.id),z["db"].collection(this.codePrefix).doc(this.id).update({images:this.imageUrls}),t.delete().then((function(){console.log("image deleted")})).catch((function(e){console.log("an error occurred")}))},dropMounted:function(){for(var e=0;e<this.images.length;e++){var t={size:123,name:"Icon"+e,type:"image/png"},i=this.images[e];this.$refs.imgDropzone.manuallyAddFile(t,i)}console.log("drop mounted")},dzoneProcessing:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0;case 1:case"end":return e.stop()}}),e)})))()},afterComplete:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{({contentType:"image/png"}),t.imageChanged=!0,t.loading=!1,console.log("image done")}catch(i){console.log(i)}case 1:case"end":return e.stop()}}),e)})))()}})}),S=A,q=i("b0afa"),L=i("99d9"),B=i("62ad"),N=i("a523"),E=i("169a"),U=i("ce7e"),F=i("4bd4"),T=i("adda"),G=i("490a"),M=i("67b6"),H=i("43a6"),K=i("0fd9"),Q=i("2fa4"),J=i("8654"),W=Object(h["a"])(S,V,j,!1,null,null,null),Y=W.exports;p()(W,{VBtn:v["a"],VCard:q["a"],VCardActions:L["a"],VCol:B["a"],VContainer:N["a"],VDialog:E["a"],VDivider:U["a"],VForm:F["a"],VIcon:g["a"],VImg:T["a"],VProgressCircular:G["a"],VRadio:M["a"],VRadioGroup:H["a"],VRow:K["a"],VSpacer:Q["a"],VTextField:J["a"]});var X={components:{NewsfeedMenu:O,NewsfeedCompose:Y},data:function(){return{drawer:null,newsfeed:[],allCategories:["i","b","g","w","m"],index:0,tempHolder:[]}},created:function(){this.clearNewsfeed(),this.fetch()},methods:Object(r["a"])(Object(r["a"])({},Object(c["c"])("newsfeed-app",["updateNewsfeed","addNewsfeed","clearNewsfeed","deleteNewsfeed"])),{},{openCompose:function(e){this.$refs.compose.open(e)},newsfeedAdding:function(){this.addNewsfeed(newsfeed)},fetch:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(i=[z["db"].collection("i"),z["db"].collection("b"),z["db"].collection("g"),z["db"].collection("w"),z["db"].collection("m")],a=0;a<i.length;a++)i[a].onSnapshot((function(t){t.docChanges().forEach((function(t){var i=t.doc;if("removed"==t.type){var a={id:i.id,codePrefix:i.data()["codePrefix"]};e.deleteNewsfeed(a)}else if("modified"==t.type){var o={id:i.id,title:i.data()["title"],age:i.data()["age"],size:i.data()["size"],code:i.data()["code"],fullCode:i.data()["codePrefix"]+i.data()["code"],category:i.data()["category"],codePrefix:i.data()["codePrefix"],colour:i.data()["colour"],completed:i.data()["completed"],material:i.data()["material"],price:i.data()["price"],label:[i.data()["label"]],images:i.data()["images"],user:i.data()["user"],qty:i.data()["qty"],sortDate:i.data()["sortDate"]};e.updateNewsfeed(o)}else{var s={id:i.id,title:i.data()["title"],age:i.data()["age"],size:i.data()["size"],code:i.data()["code"],fullCode:i.data()["codePrefix"]+i.data()["code"],category:i.data()["category"],codePrefix:i.data()["codePrefix"],colour:i.data()["colour"],completed:i.data()["completed"],material:i.data()["material"],price:i.data()["price"],label:[i.data()["label"]],images:i.data()["images"],user:i.data()["user"],qty:i.data()["qty"],sortDate:i.data()["sortDate"]};e.addNewsfeed(s)}}))}));case 2:case"end":return t.stop()}}),t)})))()},allDone:function(){this.tempHolder.sort((function(e,t){return e.sortDate<t.sortDate?1:-1}));for(var e=0;e<this.tempHolder.length;e++)this.addNewsfeed(this.tempHolder[e])}})},Z=X,ee=i("5bc1"),te=i("f774"),ie=i("71d9"),ae=Object(h["a"])(Z,a,o,!1,null,null,null);t["default"]=ae.exports;p()(ae,{VAppBarNavIcon:ee["a"],VNavigationDrawer:te["a"],VToolbar:ie["a"]})},fe09:function(e,t,i){"use strict";i.d(t,"b",(function(){return n}));i("4de4"),i("45fc"),i("d3b7"),i("25f0");var a=i("c37a"),o=i("5311"),s=i("8547"),r=i("58df");function n(e){e.preventDefault()}t["a"]=Object(r["a"])(a["a"],o["a"],s["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var e=this,t=this.value,i=this.internalValue;return this.isMultiple?!!Array.isArray(i)&&i.some((function(i){return e.valueComparator(i,t)})):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,i):Boolean(i):this.valueComparator(i,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel:function(){var e=a["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:n},e):e},genInput:function(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:n},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(e){this.onChange(),this.$emit("click",e)},onChange:function(){var e=this;if(this.isInteractive){var t=this.value,i=this.internalValue;if(this.isMultiple){Array.isArray(i)||(i=[]);var a=i.length;i=i.filter((function(i){return!e.valueComparator(i,t)})),i.length===a&&i.push(t)}else i=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(i,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(i,t)?null:t:!i;this.validate(!0,i),this.internalValue=i,this.hasColor=i}},onFocus:function(){this.isFocused=!0},onKeydown:function(e){}}})}}]);