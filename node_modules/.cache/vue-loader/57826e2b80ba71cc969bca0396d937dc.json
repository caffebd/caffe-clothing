{"remainingRequest":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luke/Documents/VUE/caffe-clothing/src/apps/newsfeed/components/NewsfeedCompose.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luke/Documents/VUE/caffe-clothing/src/apps/newsfeed/components/NewsfeedCompose.vue","mtime":1607191704915},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luke/Documents/VUE/caffe-clothing/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JwoKLyoKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8IFRPRE8gQ29tcG9zZSBDb21wb25lbnQKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp8CnwgQ29tcG9zZSBuZXcgdGFza3MgZWRpdG9yCiovCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwppbXBvcnQgeyBkYiB9IGZyb20gJy4uLy4uLy4uL21haW4nCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZScKaW1wb3J0IHZ1ZTJEcm9wem9uZSBmcm9tICd2dWUyLWRyb3B6b25lJwppbXBvcnQgInZ1ZTItZHJvcHpvbmUvZGlzdC92dWUyRHJvcHpvbmUubWluLmNzcyIKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIHZ1ZURyb3B6b25lOiB2dWUyRHJvcHpvbmUKICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgZHJvcHpvbmVPcHRpb25zOiB7CiAgICAgICAgdXJsOiAiaHR0cHM6Ly9odHRwYmluLm9yZy9wb3N0IiwKICAgICAgICB0aHVtYm5haWxXaWR0aDogMjUwLAogICAgICAgIHRodW1ibmFpbEhlaWdodDogMjUwLAogICAgICAgIGFkZFJlbW92ZUxpbmtzOiB0cnVlLAogICAgICAgIGFjY2VwdGVkRmlsZXM6ICIuanBnLCAuanBlZywgLnBuZyIKICAgICAgfSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgdGl0bGU6ICcnLAogICAgICB0aW1lOiAnJywKICAgICAgbGlrZXM6W10sCiAgICAgIHNoYXJlczowLAogICAgICBldmVudHM6W10sCiAgICAgIGNvZGVQcmVmaXg6JycsCiAgICAgIGluY2lkZW50RGF0ZTonJywKICAgICAgZm91bmRFdmVudHM6W10sCiAgICAgIHNob3c6dHJ1ZSwKICAgICAgaUFtRWRpdGluZzpmYWxzZSwKICAgICAgdGFza0xhYmVsczogW10sCiAgICAgIHNlYXJjaDogbnVsbCwKICAgICAgaWQ6JycsCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBmaWxlczpbXSwKICAgICAgaW1hZ2VSYXc6bnVsbCwKICAgICAgcmVjZWl2ZWRVcmw6JycsCiAgICAgIGltYWdlVXJsOicnLAogICAgICBpbWFnZVVybHM6W10sCiAgICAgIHRpdGxlOiAnJywKICAgICAgc29ydERhdGU6JycsCiAgICAgIGF1dGhvcjonJywKICAgICAgY29kZTonJywKICAgICAgY2F0ZWdvcnk6J2luZmFudCcsCiAgICAgIHVzZXI6J2lyaXMnLAogICAgICBzaXplOicnLAogICAgICBhZ2U6JycsCiAgICAgIGNvbG91cjonJywKICAgICAgbWF0ZXJpYWw6JycsCiAgICAgIHF0eTonJywKICAgICAgcHJpY2U6JycsCiAgICAgIGNvZGVSdWxlczogWwogICAgICAgICh2KSA9PiAhIXYgfHwgJ0NvZGUgaXMgcmVxdWlyZWQnLAogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSA4MCkgfHwgJ0NvZGUgbXVzdCBiZSBsZXNzIHRoYW4gOCBjaGFyYWN0ZXJzJwogICAgICBdLAogICAgICB0aXRsZVJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICEhdiB8fCAnVGl0bGUgaXMgcmVxdWlyZWQnLAogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSA4MCkgfHwgJ1RpdGxlIG11c3QgYmUgbGVzcyB0aGFuIDgwIGNoYXJhY3RlcnMnCiAgICAgIF0sCiAgICAgIHNpemVSdWxlczogWwogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSA4MCkgfHwgJ1NpemUgbXVzdCBiZSBsZXNzIHRoYW4gODAgY2hhcmFjdGVycycKICAgICAgXSwKICAgICAgYWdlUnVsZXM6IFsKICAgICAgICAodikgPT4gKHYgJiYgdi5sZW5ndGggPD0gMTAwKSB8fCAnQWdlIG11c3QgYmUgbGVzcyB0aGFuIDEwMCBjaGFyYWN0ZXJzJwogICAgICBdLAogICAgICBjb2xvdXJSdWxlczogWwogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSAxMDApIHx8ICdDb2xvdXIgbXVzdCBiZSBsZXNzIHRoYW4gMTAwIGNoYXJhY3RlcnMnCiAgICAgIF0sCiAgICAgIG1hdGVyaWFsUnVsZXM6IFsKICAgICAgICAodikgPT4gKHYgJiYgdi5sZW5ndGggPD0gMTAwKSB8fCAnTWF0ZXJpYWwgbXVzdCBiZSBsZXNzIHRoYW4gMTAwIGNoYXJhY3RlcnMnCiAgICAgIF0sCiAgICAgIHF0eVJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICEhdiB8fCAnUXVhbnRpdHkgaXMgcmVxdWlyZWQnLAogICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA8PSAxMDApIHx8ICdRdWFudGl0eSBtdXN0IGJlIGxlc3MgdGhhbiAxMDAgY2hhcmFjdGVycycKICAgICAgXSwKICAgICAgcHJpY2VSdWxlczogWwogICAgICAgICh2KSA9PiAhIXYgfHwgJ1ByaWNlIGlzIHJlcXVpcmVkJywKICAgICAgICAodikgPT4gKHYgJiYgdi5sZW5ndGggPD0gMTAwKSB8fCAnUHJpY2UgbXVzdCBiZSBsZXNzIHRoYW4gMTAwIGNoYXJhY3RlcnMnCiAgICAgIF0sCiAgICAgIHNlbGVjdDogbnVsbCwKICAgICAgY2hlY2tib3g6IGZhbHNlLAogICAgICBpbWFnZUNoYW5nZWQ6ZmFsc2UKCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoJ25ld3NmZWVkLWFwcCcsIFsnbmV3c2ZlZWRsYWJlbHMnXSksCiAgICBpc0VkaXQoKSB7CiAgICAgIGlmICh0aGlzLmlkIT1udWxsKXsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmlkKQogICAgICAgIGlmICh0aGlzLmlkPT0nJyl7CiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9ZWxzZXsKICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgfQogICAgICB9CgogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKCduZXdzZmVlZC1hcHAnLCBbJ3VwZGF0ZU5ld3NmZWVkJywgJ2FkZE5ld3NmZWVkJ10pLAogICAgb3Blbih0YXNrLCBlZGl0aW5nKSB7CiAgICAgIGNvbnNvbGUubG9nKCdPUEVOJykKICAgICAgaWYgKHRhc2spIHsKICAgICAgICB0aGlzLnRhc2sgPSB0YXNrCiAgICAgICAgdGhpcy5pQW1FZGl0aW5nID0gdHJ1ZQogICAgICAgIHRoaXMuY29kZSA9IHRoaXMudGFzay5jb2RlCiAgICAgICAgdGhpcy5pZCA9IHRoaXMudGFzay5pZAogICAgICAgIHRoaXMuY29tcGxldGVkID0gdGhpcy50YXNrLmNvbXBsZXRlZAogICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLnRhc2sudGl0bGUKICAgICAgICB0aGlzLmFnZSA9IHRoaXMudGFzay5hZ2UKICAgICAgICB0aGlzLnNpemUgPSB0aGlzLnRhc2suc2l6ZQogICAgICAgIHRoaXMuY29sb3VyID0gdGhpcy50YXNrLmNvbG91cgogICAgICAgIHRoaXMubWF0ZXJpYWwgPSB0aGlzLnRhc2subWF0ZXJpYWwKICAgICAgICB0aGlzLnF0eSA9IHRoaXMudGFzay5xdHkKICAgICAgICB0aGlzLnByaWNlID0gdGhpcy50YXNrLnByaWNlCiAgICAgICAgdGhpcy5jb2RlUHJlZml4ID0gdGhpcy50YXNrLmNvZGVQcmVmaXgKICAgICAgICB0aGlzLmltYWdlcyA9IHRoaXMudGFzay5pbWFnZXMKICAgICAgICB0aGlzLnRhc2tMYWJlbHMgPSB0aGlzLnRhc2subGFiZWxzCiAgICAgICAgdGhpcy5pbWFnZVVybHMgPSB0aGlzLnRhc2suaW1hZ2VzCiAgICAgICAgdGhpcy5zb3J0RGF0ZSA9IHRoaXMudGFzay5zb3J0RGF0ZQogICAgICAgIHRoaXMuY2F0ZWdvcnkgPSB0aGlzLnRhc2suY2F0ZWdvcnkKICAgICAgICB0aGlzLnVzZXIgPSB0aGlzLnRhc2sudXNlcgogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaUFtRWRpdGluZyA9IGZhbHNlCiAgICAgICAgdGhpcy5pZCA9ICcnCiAgICAgICAgdGhpcy5jYXRlZ29yeSA9ICdpbmZhbnQnCiAgICAgICAgdGhpcy51c2VyPSdpcmlzJwogICAgICAgIHRoaXMuY29kZSA9ICcnCiAgICAgICAgdGhpcy5jb21wbGV0ZWQgPSBmYWxzZQogICAgICAgIHRoaXMuY29kZVByZWZpeCA9ICdpJwogICAgICAgIHRoaXMudGl0bGUgPSAnJwogICAgICAgIHRoaXMuYWdlID0gJycKICAgICAgICB0aGlzLnNpemUgPSAnJwogICAgICAgIHRoaXMuY29sb3VyID0gJycKICAgICAgICB0aGlzLm1hdGVyaWFsID0gJycKICAgICAgICB0aGlzLnF0eSA9ICcnCiAgICAgICAgdGhpcy5wcmljZSA9ICcnCiAgICAgICAgdGhpcy5pbWFnZXMgPSBbXQogICAgICAgIHRoaXMudGFza0xhYmVscyA9IFtdCiAgICAgICAgdGhpcy5pbWFnZVVybHMgPSBbXQogICAgICAgIHRoaXMuc29ydERhdGUgPSAwCiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZQogICAgfSwKICAgIGNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlCiAgICB9LAogICAgc2F2ZSgpIHsKICAgICAgY29uc3Qge2NhdGVnb3J5LCB0aXRsZSwgY29kZSwgc2l6ZSwgYWdlLCB0YXNrTGFiZWxzLCBpbWFnZVVybHMsIGlkLAogICAgICAgIGNvbG91ciwgbWF0ZXJpYWwsIHF0eSwgcHJpY2UsIGNvbXBsZXRlZCwgdXNlciwgY29kZVByZWZpeCwgc29ydERhdGUgfSA9IHRoaXMKCiAgICAgIGNvbnN0IHRhc2tFZGl0ID0gewogICAgICAgIHRpdGxlLAogICAgICAgIHNvcnREYXRlLAogICAgICAgIGNhdGVnb3J5LAogICAgICAgIGNvZGUsCiAgICAgICAgc2l6ZSwKICAgICAgICBhZ2UsCiAgICAgICAgaWQsCiAgICAgICAgY29sb3VyLAogICAgICAgIG1hdGVyaWFsLAogICAgICAgIHF0eSwKICAgICAgICBwcmljZSwKICAgICAgICBjb21wbGV0ZWQsCiAgICAgICAgdXNlciwKICAgICAgICBjb2RlUHJlZml4LAogICAgICAgIGltYWdlczogaW1hZ2VVcmxzLAogICAgICAgIGxhYmVsOiBbY2F0ZWdvcnldLAoKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaUFtRWRpdGluZyA9PSB0cnVlKSB7CiAgICAgICAgdGhpcy51cGRhdGVOZXdzZmVlZCh7CiAgICAgICAgICAuLi50aGlzLnRhc2ssCiAgICAgICAgICAuLi50YXNrRWRpdAogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2cgKCdQQVNTIFVSTCAnK3NvcnREYXRlKQogICAgICAgIGNvbnN0IHRhc2tOZXcgPSB7CiAgICAgICAgc29ydERhdGUsCiAgICAgICAgY2F0ZWdvcnksCiAgICAgICAgY29kZSwKICAgICAgICB0aXRsZSwKICAgICAgICBzaXplLAogICAgICAgIGFnZSwKICAgICAgICBpZCwKICAgICAgICBjb2xvdXIsCiAgICAgICAgbWF0ZXJpYWwsCiAgICAgICAgcXR5LAogICAgICAgIHByaWNlLAogICAgICAgIGNvbXBsZXRlZCwKICAgICAgICB1c2VyLAogICAgICAgIGNvZGVQcmVmaXgsCiAgICAgICAgaW1hZ2VzOiBpbWFnZVVybHMsCiAgICAgICAgbGFiZWw6IFtjYXRlZ29yeV0sCiAgICAgIH0KICAgICAgICB0aGlzLmFkZE5ld3NmZWVkKHRhc2tOZXcpCiAgICAgIH0KICAgICAgdGhpcy5yZXNldFZhbGlkYXRpb24oKQogICAgICB0aGlzLmNsb3NlKCkKICAgIH0sCgogICAgcmFuZG9tTnVtYmVyICgpewogICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDk5OSkpICsgMTsKICAgIH0sCiAgICBzZWxlY3RQcmVmaXgoKXsKICAgICAgaWYgKHRoaXMudXNlcj09J2lyaXMnKXsKICAgICAgICBzd2l0Y2ggKHRoaXMuY2F0ZWdvcnkpIHsKICAgICAgICAgIGNhc2UgJ2luZmFudCc6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0naScKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdib3lzJzoKICAgICAgICAgICAgdGhpcy5jb2RlUHJlZml4PSdiJwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ2dpcmxzJzoKICAgICAgICAgICAgdGhpcy5jb2RlUHJlZml4PSdnJwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ3dvbWVuJzoKICAgICAgICAgICAgdGhpcy5jb2RlUHJlZml4PSd3JwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ21lbic6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0nbScKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH1lbHNlewogICAgICAgIHN3aXRjaCAodGhpcy5jYXRlZ29yeSkgewogICAgICAgICAgY2FzZSAnaW5mYW50JzoKICAgICAgICAgICAgdGhpcy5jb2RlUHJlZml4PSd2aScKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdib3lzJzoKICAgICAgICAgICAgdGhpcy5jb2RlUHJlZml4PSd2YicKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdnaXJscyc6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0ndmcnCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnd29tZW4nOgogICAgICAgICAgICB0aGlzLmNvZGVQcmVmaXg9J3Z3JwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgJ21lbic6CiAgICAgICAgICAgIHRoaXMuY29kZVByZWZpeD0ndm0nCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgfQoKICAgIH0sCgogICAgZmlsdGVyIChpdGVtLCBxdWVyeVRleHQsIGl0ZW1UZXh0KSB7CiAgICAgIGNvbnN0IGhhc1ZhbHVlID0gKHZhbCkgPT4gdmFsICE9PSBudWxsID8gdmFsIDogJycKCiAgICAgIGNvbnN0IHRleHQgPSBoYXNWYWx1ZShpdGVtLnRpdGxlKQogICAgICBjb25zdCBxdWVyeSA9IGhhc1ZhbHVlKHF1ZXJ5VGV4dCkKCiAgICAgIHJldHVybiB0ZXh0LnRvU3RyaW5nKCkKICAgICAgICAudG9Mb3dlckNhc2UoKQogICAgICAgIC5pbmRleE9mKHF1ZXJ5LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSkgPiAtMQogICAgfSwKCgogICAgYXN5bmMgcG9zdCAoKSB7CgogICAgICBpZiAodGhpcy5pQW1FZGl0aW5nPT1mYWxzZSl7CiAgICAgIGNvbnN0IHVuaXggPSBEYXRlLm5vdygpCgogICAgICB0aGlzLnNvcnREYXRlID0gdW5peAoKICAgICAgLy90aGlzLmlkID0gdGhpcy5zb3J0RGF0ZS50b1N0cmluZygpCgogICAgICBjb25zdCB0aGVEYXRlID0gbW9tZW50KHVuaXgpLmZvcm1hdCgnRG8gTU1NIFlZJykKCiAgICAgIHRoaXMudGltZSA9IGZpcmViYXNlLmZpcmVzdG9yZS5UaW1lc3RhbXAuZnJvbURhdGUobmV3IERhdGUoKSkKCiAgICAgIHRoaXMudGFza0xhYmVscz1bXQogICAgICB0aGlzLnRhc2tMYWJlbHMucHVzaCh0aGlzLnBvc3RUeXBlKQoKICAgICAgfWVsc2V7CgogICAgICAgIHRoaXMudGFza0xhYmVscz1bXQogICAgICAgIHRoaXMudGFza0xhYmVscy5wdXNoKHRoaXMucG9zdFR5cGUpCgogICAgICAgIGNvbnNvbGUubG9nKCdkb2MgaWQgJyt0aGlzLmlkKQogICAgICB9CgogICAgICBpZiAodGhpcy5pbWFnZUNoYW5nZWQpewoKCgoKCiAgICAgIGNvbnN0IHVuaXF1ZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKQoKICAgICAgdGhpcy5pbWFnZXMgPSB0aGlzLiRyZWZzLmltZ0Ryb3B6b25lLmdldEFjY2VwdGVkRmlsZXMoKQoKICAgICAgbGV0IHBob3RvRG9uZT0wCgogICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5pbWFnZXMubGVuZ3RoOyBpKyspewoKICAgICAgICBsZXQgaW1nTmFtZSA9IHRoaXMuaW1hZ2VzW2ldLm5hbWUKCiAgICAgICAgbGV0IGV4dCA9IGltZ05hbWUuc2xpY2UoaW1nTmFtZS5sYXN0SW5kZXhPZignLicpKQoKICAgICAgY29uc3Qgc3RvcmFnZVJlZj1maXJlYmFzZS5zdG9yYWdlKCkucmVmKGBjbG90aGVzLyR7dGhpcy51c2VyfS8ke3RoaXMuY29kZVByZWZpeH0vJHt1bmlxdWVUaW1lfS8ke3RoaXMuY29kZVByZWZpeH0ke3RoaXMuY29kZX0tLS0ke2l9JHtleHR9YCkucHV0KHRoaXMuaW1hZ2VzW2ldKTsKICAgICAgICBzdG9yYWdlUmVmLm9uKGBzdGF0ZV9jaGFuZ2VkYCxzbmFwc2hvdD0+ewogICAgICAgIHRoaXMudXBsb2FkVmFsdWUgPSAoc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZC9zbmFwc2hvdC50b3RhbEJ5dGVzKSoxMDA7CiAgICAgICAgICB9LCBlcnJvcj0+e2NvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpfSwKICAgICAgICAoKT0+e3RoaXMudXBsb2FkVmFsdWU9MTAwOwogICAgICAgICAgICBzdG9yYWdlUmVmLnNuYXBzaG90LnJlZi5nZXREb3dubG9hZFVSTCgpLnRoZW4oKHVybCk9PnsKCiAgICAgICAgICAgICAgdGhpcy5pbWFnZVVybHMucHVzaCh1cmwpCgoKICAgICAgICAgICAgICBpZiAocGhvdG9Eb25lPT10aGlzLmltYWdlcy5sZW5ndGgtMSl7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaW1hZ2VVcmxzKQoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2dvdCBpZCAnK3RoaXMuaWQpCgogICAgICAgICAgICAgICAgICBpZiAodGhpcy5pZCAhPSAnJyl7CgogICAgICAgICAgICAgICAgICBkYgogICAgICAgICAgICAgICAgICAuY29sbGVjdGlvbih0aGlzLmNvZGVQcmVmaXgpCiAgICAgICAgICAgICAgICAgIC5kb2ModGhpcy5pZCkKICAgICAgICAgICAgICAgICAgLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuY2F0ZWdvcnksCiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksCiAgICAgICAgICAgICAgICAgICAgc29ydERhdGUgOiB0aGlzLnNvcnREYXRlLAogICAgICAgICAgICAgICAgICAgIGNvZGU6IHRoaXMuY29kZSA/PycnLAogICAgICAgICAgICAgICAgICAgIHNpemU6IHRoaXMuc2l6ZSA/PycnLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlID8/JycsCiAgICAgICAgICAgICAgICAgICAgYWdlOiB0aGlzLmFnZSA/PycnLAogICAgICAgICAgICAgICAgICAgIGNvbG91cjogdGhpcy5jb2xvdXIgPz8nJywKICAgICAgICAgICAgICAgICAgICBpbWFnZXM6IHRoaXMuaW1hZ2VVcmxzID8/W10sCiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6dGhpcy5tYXRlcmlhbCA/PycnLAogICAgICAgICAgICAgICAgICAgIHF0eTp0aGlzLnF0eSA/PycnLAogICAgICAgICAgICAgICAgICAgIHVzZXI6dGhpcy51c2VyID8/JycsCiAgICAgICAgICAgICAgICAgICAgY29kZVByZWZpeDogdGhpcy5jb2RlUHJlZml4ID8/JycsCiAgICAgICAgICAgICAgICAgICAgcHJpY2U6dGhpcy5wcmljZSA/PycnLAogICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZDp0aGlzLmNvbXBsZXRlZCA/PyBmYWxzZQogICAgICAgICAgICAgICAgICB9KS50aGVuKChkb25lKT0+ewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZSgpCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5pbWdEcm9wem9uZS5yZW1vdmVBbGxGaWxlcygpCiAgICAgICAgICAgICAgICAgIH0pCgoKICAgICAgICAgICAgICAgICAgfWVsc2V7CgogICAgICAgICAgICAgICAgICBkYgogICAgICAgICAgICAgICAgICAuY29sbGVjdGlvbih0aGlzLmNvZGVQcmVmaXgpCiAgICAgICAgICAgICAgICAgIC5hZGQoewogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmNhdGVnb3J5LAogICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LAogICAgICAgICAgICAgICAgICAgIHNvcnREYXRlIDogdGhpcy5zb3J0RGF0ZSwKICAgICAgICAgICAgICAgICAgICBjb2RlOiB0aGlzLmNvZGUgPz8nJywKICAgICAgICAgICAgICAgICAgICBzaXplOiB0aGlzLnNpemUgPz8nJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSA/PycnLAogICAgICAgICAgICAgICAgICAgIGFnZTogdGhpcy5hZ2UgPz8nJywKICAgICAgICAgICAgICAgICAgICBjb2xvdXI6IHRoaXMuY29sb3VyID8/JycsCiAgICAgICAgICAgICAgICAgICAgaW1hZ2VzOiB0aGlzLmltYWdlVXJscyA/P1tdLAogICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOnRoaXMubWF0ZXJpYWwgPz8nJywKICAgICAgICAgICAgICAgICAgICBxdHk6dGhpcy5xdHkgPz8nJywKICAgICAgICAgICAgICAgICAgICB1c2VyOnRoaXMudXNlciA/PycnLAogICAgICAgICAgICAgICAgICAgIGNvZGVQcmVmaXg6IHRoaXMuY29kZVByZWZpeCA/PycnLAogICAgICAgICAgICAgICAgICAgIHByaWNlOnRoaXMucHJpY2UgPz8nJywKICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6dGhpcy5jb21wbGV0ZWQ/PyBmYWxzZQogICAgICAgICAgICAgICAgICB9KS50aGVuKChkb25lKT0+ewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZSgpCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5pbWdEcm9wem9uZS5yZW1vdmVBbGxGaWxlcygpCiAgICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBwaG90b0RvbmUrKwogICAgICAgICAgICAgIC8vdGhpcy5zYXZlKCkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICk7CgogICAgICB9CgoKICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkICE9ICcnKXsKCiAgICAgICAgICAgICAgICAgIGRiCiAgICAgICAgICAgICAgICAgIC5jb2xsZWN0aW9uKHRoaXMuY29kZVByZWZpeCkKICAgICAgICAgICAgICAgICAgLmRvYyh0aGlzLmlkKQogICAgICAgICAgICAgICAgICAudXBkYXRlKHsKICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5jYXRlZ29yeSwKICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSwKICAgICAgICAgICAgICAgICAgICBzb3J0RGF0ZSA6IHRoaXMuc29ydERhdGUsCiAgICAgICAgICAgICAgICAgICAgY29kZTogdGhpcy5jb2RlID8/JycsCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5zaXplID8/JycsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUgPz8nJywKICAgICAgICAgICAgICAgICAgICBhZ2U6IHRoaXMuYWdlID8/JycsCiAgICAgICAgICAgICAgICAgICAgY29sb3VyOiB0aGlzLmNvbG91ciA/PycnLAogICAgICAgICAgICAgICAgICAgIGltYWdlczogdGhpcy5pbWFnZVVybHMgPz9bXSwKICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDp0aGlzLm1hdGVyaWFsID8/JycsCiAgICAgICAgICAgICAgICAgICAgcXR5OnRoaXMucXR5ID8/JycsCiAgICAgICAgICAgICAgICAgICAgdXNlcjp0aGlzLnVzZXIgPz8nJywKICAgICAgICAgICAgICAgICAgICBjb2RlUHJlZml4OiB0aGlzLmNvZGVQcmVmaXggPz8nJywKICAgICAgICAgICAgICAgICAgICBwcmljZTp0aGlzLnByaWNlID8/JycsCiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkOnRoaXMuY29tcGxldGVkID8/IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKGRvbmUpPT57CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlKCkKICAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAgIH1lbHNlewoKICAgICAgICAgICAgICAgICAgZGIKICAgICAgICAgICAgICAgICAgLmNvbGxlY3Rpb24odGhpcy5jb2RlUHJlZml4KQogICAgICAgICAgICAgICAgICAuYWRkKHsKICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5jYXRlZ29yeSwKICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSwKICAgICAgICAgICAgICAgICAgICBzb3J0RGF0ZSA6IHRoaXMuc29ydERhdGUsCiAgICAgICAgICAgICAgICAgICAgY29kZTogdGhpcy5jb2RlID8/JycsCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5zaXplID8/JycsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUgPz8nJywKICAgICAgICAgICAgICAgICAgICBhZ2U6IHRoaXMuYWdlID8/JycsCiAgICAgICAgICAgICAgICAgICAgY29sb3VyOiB0aGlzLmNvbG91ciA/PycnLAogICAgICAgICAgICAgICAgICAgIGltYWdlczogdGhpcy5pbWFnZVVybHMgPz9bXSwKICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDp0aGlzLm1hdGVyaWFsID8/JycsCiAgICAgICAgICAgICAgICAgICAgcXR5OnRoaXMucXR5ID8/JycsCiAgICAgICAgICAgICAgICAgICAgdXNlcjp0aGlzLnVzZXIgPz8nJywKICAgICAgICAgICAgICAgICAgICBjb2RlUHJlZml4OiB0aGlzLmNvZGVQcmVmaXggPz8nJywKICAgICAgICAgICAgICAgICAgICBwcmljZTp0aGlzLnByaWNlID8/JycsCiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkOnRoaXMuY29tcGxldGVkID8/IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKGRvbmUpPT57CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlKCkKICAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICB9CiAgICAgIH0KCiAgICB9LAogICAgaW1hZ2VQcmV2aWV3KCkgewogICAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKQoKICAgICAgaWYgKHRoaXMuZmlsZXMubGVuZ3RoPjApewoKICAgICAgZmlsZVJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywoKSA9PiB7CiAgICAgICAgdGhpcy5pbWFnZVVybHMucHVzaChmaWxlUmVhZGVyLnJlc3VsdCkKICAgICAgfSkKICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKHRoaXMuZmlsZXMpCiAgICAgIHRoaXMuaW1hZ2VzID0gdGhpcy5maWxlcwogICAgICB0aGlzLmltYWdlQ2hhbmdlZCA9IHRydWUKCiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuaW1hZ2VzPVtdCiAgICAgICAgdGhpcy5pbWFnZVVybHM9W10KICAgICAgICB0aGlzLmltYWdlQ2hhbmdlZCA9IGZhbHNlCiAgICAgIH0KCgogICAgfSwKICAgIHZhbGlkYXRlICgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkKICAgIH0sCiAgICByZXNldCAoKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpCiAgICB9LAogICAgcmVzZXRWYWxpZGF0aW9uICgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0VmFsaWRhdGlvbigpCiAgICB9LAogICAgZGVsZXRlSW1hZ2UgKGltZykgewogICAgIGxldCBpbWFnZSA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWZGcm9tVVJMKGltZyk7CgogICAgIHZhciBpbmQgPSB0aGlzLmltYWdlVXJscy5pbmRleE9mKGltZyk7CgogICAgICB0aGlzLmltYWdlVXJscy5zcGxpY2UoaW5kLDEpOwoKICAgICAgICBjb25zb2xlLmxvZyAodGhpcy5jb2RlUHJlZml4KycgICAnK3RoaXMuaWQpCgogICAgICAgICAgZGIKICAgICAgICAgIC5jb2xsZWN0aW9uKHRoaXMuY29kZVByZWZpeCkKICAgICAgICAgIC5kb2ModGhpcy5pZCkKICAgICAgICAgIC51cGRhdGUoewogICAgICAgICAgICBpbWFnZXM6IHRoaXMuaW1hZ2VVcmxzLAogICAgICAgICAgfSkKCiAgICAgICAgaW1hZ2UuZGVsZXRlKCkudGhlbihmdW5jdGlvbigpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdpbWFnZSBkZWxldGVkJyk7CgogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAvLyBVaC1vaCwgYW4gZXJyb3Igb2NjdXJyZWQhCiAgICAgICAgICBjb25zb2xlLmxvZygnYW4gZXJyb3Igb2NjdXJyZWQnKTsKICAgICAgICB9KTsKCgogICAgfSwKICAgIGRyb3BNb3VudGVkICgpIHsKCiAgICAgIGZvciAodmFyIHA9MDsgcDx0aGlzLmltYWdlcy5sZW5ndGg7IHArKyl7CiAgICAgICAgdmFyIGZpbGUgPSB7IHNpemU6IDEyMywgbmFtZTogJ0ljb24nK3AsIHR5cGU6ICdpbWFnZS9wbmcnIH07CiAgICAgICAgdmFyIHVybCA9IHRoaXMuaW1hZ2VzW3BdOwogICAgICAgIHRoaXMuJHJlZnMuaW1nRHJvcHpvbmUubWFudWFsbHlBZGRGaWxlKGZpbGUsIHVybCk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCdkcm9wIG1vdW50ZWQnKQoKICAgIH0sCiAgICBhc3luYyBhZnRlckNvbXBsZXRlKGZpbGUpIHsKICAgICAgdHJ5IHsKICAgICAgICAvL2NvbnN0IGltYWdlTmFtZSA9IHV1aWQudjEoKTsKICAgICAgICB2YXIgbWV0YURhdGEgPSB7CiAgICAgICAgICBjb250ZW50VHlwZTogImltYWdlL3BuZyIKICAgICAgICB9CgoKICAgICAgLy90aGlzLmltYWdlcyA9IHRoaXMuJHJlZnMuaW1nRHJvcHpvbmUuZ2V0QWNjZXB0ZWRGaWxlcygpCgogICAgICAgdGhpcy5pbWFnZUNoYW5nZWQgPSB0cnVlCgogICAgICBjb25zb2xlLmxvZyAoJ2ltYWdlIGRvbmUnKQoKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0KCiAgfQp9Cg=="},{"version":3,"sources":["NewsfeedCompose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsLA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;AAMA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"NewsfeedCompose.vue","sourceRoot":"src/apps/newsfeed/components","sourcesContent":["<template>\n  <v-dialog v-model=\"dialog\" width=\"1000\">\n    <v-card>\n      <v-card-title class=\"pa-2\">\n        {{ isEdit ? 'Edit News...' : 'Add News' }}\n        <v-spacer></v-spacer>\n        <v-btn icon @click=\"dialog = false\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-card-title>\n\n      <v-divider></v-divider>\n\n      <!-- task form -->\n\n  <v-form\n    ref=\"form\"\n    v-model=\"valid\"\n    lazy-validation\n  >\n  <h2>CAFFE Clothing</h2>\n\n   <v-radio-group\n      v-model=\"user\"\n      row\n      @change=\"selectPrefix\"\n    >\n      <v-radio\n        label=\"Iris\"\n        value=\"iris\"\n      ></v-radio>\n      <v-radio\n        label=\"Valerie\"\n        value=\"valerie\"\n      ></v-radio>\n    </v-radio-group>\n\n   <v-radio-group\n      v-model=\"category\"\n      @change=\"selectPrefix\"\n      row\n    >\n      <v-radio\n        label=\"Infant\"\n        value=\"infant\"\n      ></v-radio>\n      <v-radio\n        label=\"Boys\"\n        value=\"boys\"\n      ></v-radio>\n      <v-radio\n        label=\"Girls\"\n        value=\"girls\"\n      ></v-radio>\n      <v-radio\n        label=\"Women\"\n        value=\"women\"\n      ></v-radio>\n           <v-radio\n        label=\"Men\"\n        value=\"men\"\n      ></v-radio>\n    </v-radio-group>\n\n\n    <h2>{{codePrefix}}</h2>\n    <v-text-field\n      v-model=\"code\"\n      outlined\n      :counter=\"8\"\n      :rules=\"codeRules\"\n      label=\"Code\"\n      required\n    ></v-text-field>\n\n\n    <v-text-field\n      v-model=\"title\"\n      outlined\n      :counter=\"80\"\n      :rules=\"titleRules\"\n      label=\"Title\"\n      required\n    ></v-text-field>\n\n    <v-text-field\n      v-model=\"age\"\n      outlined\n      :counter=\"60\"\n      :rules=\"ageRules\"\n      label=\"Age\"\n    ></v-text-field>\n\n    <v-text-field\n      v-model=\"size\"\n      outlined\n      :counter=\"100\"\n      :rules=\"sizeRules\"\n      label=\"Size\"\n    ></v-text-field>\n\n    <v-text-field\n      v-model=\"colour\"\n      outlined\n      :counter=\"100\"\n      :rules=\"colourRules\"\n      label=\"Colour\"\n    ></v-text-field>\n\n    <v-text-field\n      v-model=\"material\"\n      outlined\n      :counter=\"100\"\n      :rules=\"materialRules\"\n      label=\"Material\"\n    ></v-text-field>\n\n    <v-text-field\n      v-model=\"qty\"\n      outlined\n      :counter=\"100\"\n      :rules=\"qtyRules\"\n      label=\"Quantity\"\n      required\n    ></v-text-field>\n\n      <v-text-field\n      v-model=\"price\"\n      outlined\n      :counter=\"100\"\n      :rules=\"priceRules\"\n      label=\"Price\"\n      required\n    ></v-text-field>\n    </v-form>\n\n\n  <v-row>\n    <v-col\n      v-for=\"anImage in imageUrls\" v-bind:key=\"anImage.id\"\n      class=\"d-flex child-flex\"\n      cols=\"4\"\n    >\n      <v-img\n        :src=\"anImage\"\n        aspect-ratio=\"1\"\n        class=\"grey lighten-2\"\n      >\n      <span  @click=\"deleteImage(anImage)\">X</span>\n        <template v-slot:placeholder>\n          <v-row\n            class=\"fill-height ma-0\"\n            align=\"center\"\n            justify=\"center\"\n          >\n            <v-progress-circular\n              indeterminate\n              color=\"grey lighten-5\"\n            ></v-progress-circular>\n          </v-row>\n        </template>\n      </v-img>\n    </v-col>\n  </v-row>\n\n\n\n      <v-divider></v-divider>\n <!-- @vdropzone-mounted=\"dropMounted\" -->\n  <vue-dropzone id=\"imgDropzone\" ref=\"imgDropzone\" :options=\"dropzoneOptions\" @vdropzone-complete=\"afterComplete\"></vue-dropzone>\n\n\n      <v-card-actions class=\"pa-2\">\n        <v-btn outlined @click=\"close\">{{ $t('common.cancel') }}</v-btn>\n        <v-spacer></v-spacer>\n        <v-btn color=\"primary\" @click=\"post\">{{ $t('common.save') }}</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n\n/*\n|---------------------------------------------------------------------\n| TODO Compose Component\n|---------------------------------------------------------------------\n|\n| Compose new tasks editor\n*/\nimport moment from 'moment'\nimport { db } from '../../../main'\nimport firebase from 'firebase'\nimport vue2Dropzone from 'vue2-dropzone'\nimport \"vue2-dropzone/dist/vue2Dropzone.min.css\"\nexport default {\n  components: {\n    vueDropzone: vue2Dropzone\n  },\n  data () {\n    return {\n      dropzoneOptions: {\n        url: \"https://httpbin.org/post\",\n        thumbnailWidth: 250,\n        thumbnailHeight: 250,\n        addRemoveLinks: true,\n        acceptedFiles: \".jpg, .jpeg, .png\"\n      },\n      dialog: false,\n      title: '',\n      time: '',\n      likes:[],\n      shares:0,\n      events:[],\n      codePrefix:'',\n      incidentDate:'',\n      foundEvents:[],\n      show:true,\n      iAmEditing:false,\n      taskLabels: [],\n      search: null,\n      id:'',\n      valid: true,\n      files:[],\n      imageRaw:null,\n      receivedUrl:'',\n      imageUrl:'',\n      imageUrls:[],\n      title: '',\n      sortDate:'',\n      author:'',\n      code:'',\n      category:'infant',\n      user:'iris',\n      size:'',\n      age:'',\n      colour:'',\n      material:'',\n      qty:'',\n      price:'',\n      codeRules: [\n        (v) => !!v || 'Code is required',\n        (v) => (v && v.length <= 80) || 'Code must be less than 8 characters'\n      ],\n      titleRules: [\n        (v) => !!v || 'Title is required',\n        (v) => (v && v.length <= 80) || 'Title must be less than 80 characters'\n      ],\n      sizeRules: [\n        (v) => (v && v.length <= 80) || 'Size must be less than 80 characters'\n      ],\n      ageRules: [\n        (v) => (v && v.length <= 100) || 'Age must be less than 100 characters'\n      ],\n      colourRules: [\n        (v) => (v && v.length <= 100) || 'Colour must be less than 100 characters'\n      ],\n      materialRules: [\n        (v) => (v && v.length <= 100) || 'Material must be less than 100 characters'\n      ],\n      qtyRules: [\n        (v) => !!v || 'Quantity is required',\n        (v) => (v && v.length <= 100) || 'Quantity must be less than 100 characters'\n      ],\n      priceRules: [\n        (v) => !!v || 'Price is required',\n        (v) => (v && v.length <= 100) || 'Price must be less than 100 characters'\n      ],\n      select: null,\n      checkbox: false,\n      imageChanged:false\n\n    }\n  },\n  computed: {\n    ...mapState('newsfeed-app', ['newsfeedlabels']),\n    isEdit() {\n      if (this.id!=null){\n        console.log(this.id)\n        if (this.id==''){\n          return false\n        }else{\n          return true\n        }\n      }\n\n    }\n  },\n  methods: {\n    ...mapMutations('newsfeed-app', ['updateNewsfeed', 'addNewsfeed']),\n    open(task, editing) {\n      console.log('OPEN')\n      if (task) {\n        this.task = task\n        this.iAmEditing = true\n        this.code = this.task.code\n        this.id = this.task.id\n        this.completed = this.task.completed\n        this.title = this.task.title\n        this.age = this.task.age\n        this.size = this.task.size\n        this.colour = this.task.colour\n        this.material = this.task.material\n        this.qty = this.task.qty\n        this.price = this.task.price\n        this.codePrefix = this.task.codePrefix\n        this.images = this.task.images\n        this.taskLabels = this.task.labels\n        this.imageUrls = this.task.images\n        this.sortDate = this.task.sortDate\n        this.category = this.task.category\n        this.user = this.task.user\n      } else {\n        this.iAmEditing = false\n        this.id = ''\n        this.category = 'infant'\n        this.user='iris'\n        this.code = ''\n        this.completed = false\n        this.codePrefix = 'i'\n        this.title = ''\n        this.age = ''\n        this.size = ''\n        this.colour = ''\n        this.material = ''\n        this.qty = ''\n        this.price = ''\n        this.images = []\n        this.taskLabels = []\n        this.imageUrls = []\n        this.sortDate = 0\n      }\n\n      this.dialog = true\n    },\n    close() {\n      this.dialog = false\n    },\n    save() {\n      const {category, title, code, size, age, taskLabels, imageUrls, id,\n        colour, material, qty, price, completed, user, codePrefix, sortDate } = this\n\n      const taskEdit = {\n        title,\n        sortDate,\n        category,\n        code,\n        size,\n        age,\n        id,\n        colour,\n        material,\n        qty,\n        price,\n        completed,\n        user,\n        codePrefix,\n        images: imageUrls,\n        label: [category],\n\n      }\n\n      if (this.iAmEditing == true) {\n        this.updateNewsfeed({\n          ...this.task,\n          ...taskEdit\n        })\n      } else {\n        console.log ('PASS URL '+sortDate)\n        const taskNew = {\n        sortDate,\n        category,\n        code,\n        title,\n        size,\n        age,\n        id,\n        colour,\n        material,\n        qty,\n        price,\n        completed,\n        user,\n        codePrefix,\n        images: imageUrls,\n        label: [category],\n      }\n        this.addNewsfeed(taskNew)\n      }\n      this.resetValidation()\n      this.close()\n    },\n\n    randomNumber (){\n      return Math.floor(Math.random() * (999)) + 1;\n    },\n    selectPrefix(){\n      if (this.user=='iris'){\n        switch (this.category) {\n          case 'infant':\n            this.codePrefix='i'\n            break;\n          case 'boys':\n            this.codePrefix='b'\n            break;\n          case 'girls':\n            this.codePrefix='g'\n            break;\n          case 'women':\n            this.codePrefix='w'\n            break;\n          case 'men':\n            this.codePrefix='m'\n            break;\n          default:\n            break;\n        }\n      }else{\n        switch (this.category) {\n          case 'infant':\n            this.codePrefix='vi'\n            break;\n          case 'boys':\n            this.codePrefix='vb'\n            break;\n          case 'girls':\n            this.codePrefix='vg'\n            break;\n          case 'women':\n            this.codePrefix='vw'\n            break;\n          case 'men':\n            this.codePrefix='vm'\n            break;\n          default:\n            break;\n      }\n      }\n\n    },\n\n    filter (item, queryText, itemText) {\n      const hasValue = (val) => val !== null ? val : ''\n\n      const text = hasValue(item.title)\n      const query = hasValue(queryText)\n\n      return text.toString()\n        .toLowerCase()\n        .indexOf(query.toString().toLowerCase()) > -1\n    },\n\n\n    async post () {\n\n      if (this.iAmEditing==false){\n      const unix = Date.now()\n\n      this.sortDate = unix\n\n      //this.id = this.sortDate.toString()\n\n      const theDate = moment(unix).format('Do MMM YY')\n\n      this.time = firebase.firestore.Timestamp.fromDate(new Date())\n\n      this.taskLabels=[]\n      this.taskLabels.push(this.postType)\n\n      }else{\n\n        this.taskLabels=[]\n        this.taskLabels.push(this.postType)\n\n        console.log('doc id '+this.id)\n      }\n\n      if (this.imageChanged){\n\n\n\n\n\n      const uniqueTime = new Date().getTime()\n\n      this.images = this.$refs.imgDropzone.getAcceptedFiles()\n\n      let photoDone=0\n\n      for (var i=0; i<this.images.length; i++){\n\n        let imgName = this.images[i].name\n\n        let ext = imgName.slice(imgName.lastIndexOf('.'))\n\n      const storageRef=firebase.storage().ref(`clothes/${this.user}/${this.codePrefix}/${uniqueTime}/${this.codePrefix}${this.code}---${i}${ext}`).put(this.images[i]);\n        storageRef.on(`state_changed`,snapshot=>{\n        this.uploadValue = (snapshot.bytesTransferred/snapshot.totalBytes)*100;\n          }, error=>{console.log(error.message)},\n        ()=>{this.uploadValue=100;\n            storageRef.snapshot.ref.getDownloadURL().then((url)=>{\n\n              this.imageUrls.push(url)\n\n\n              if (photoDone==this.images.length-1){\n                  console.log(this.imageUrls)\n\n                  console.log('got id '+this.id)\n\n                  if (this.id != ''){\n\n                  db\n                  .collection(this.codePrefix)\n                  .doc(this.id)\n                  .update({\n                    label: this.category,\n                    category: this.category,\n                    sortDate : this.sortDate,\n                    code: this.code ??'',\n                    size: this.size ??'',\n                    title: this.title ??'',\n                    age: this.age ??'',\n                    colour: this.colour ??'',\n                    images: this.imageUrls ??[],\n                    material:this.material ??'',\n                    qty:this.qty ??'',\n                    user:this.user ??'',\n                    codePrefix: this.codePrefix ??'',\n                    price:this.price ??'',\n                    completed:this.completed ?? false\n                  }).then((done)=>{\n                    this.save()\n                    this.$refs.imgDropzone.removeAllFiles()\n                  })\n\n\n                  }else{\n\n                  db\n                  .collection(this.codePrefix)\n                  .add({\n                    label: this.category,\n                    category: this.category,\n                    sortDate : this.sortDate,\n                    code: this.code ??'',\n                    size: this.size ??'',\n                    title: this.title ??'',\n                    age: this.age ??'',\n                    colour: this.colour ??'',\n                    images: this.imageUrls ??[],\n                    material:this.material ??'',\n                    qty:this.qty ??'',\n                    user:this.user ??'',\n                    codePrefix: this.codePrefix ??'',\n                    price:this.price ??'',\n                    completed:this.completed?? false\n                  }).then((done)=>{\n                    this.save()\n                    this.$refs.imgDropzone.removeAllFiles()\n                  })\n\n                }\n              }\n              photoDone++\n              //this.save()\n              });\n            }\n\n          );\n\n      }\n\n\n      } else {\n\n                  if (this.id != ''){\n\n                  db\n                  .collection(this.codePrefix)\n                  .doc(this.id)\n                  .update({\n                    label: this.category,\n                    category: this.category,\n                    sortDate : this.sortDate,\n                    code: this.code ??'',\n                    size: this.size ??'',\n                    title: this.title ??'',\n                    age: this.age ??'',\n                    colour: this.colour ??'',\n                    images: this.imageUrls ??[],\n                    material:this.material ??'',\n                    qty:this.qty ??'',\n                    user:this.user ??'',\n                    codePrefix: this.codePrefix ??'',\n                    price:this.price ??'',\n                    completed:this.completed ?? false\n                  }).then((done)=>{\n                    this.save()\n                  })\n\n                  }else{\n\n                  db\n                  .collection(this.codePrefix)\n                  .add({\n                    label: this.category,\n                    category: this.category,\n                    sortDate : this.sortDate,\n                    code: this.code ??'',\n                    size: this.size ??'',\n                    title: this.title ??'',\n                    age: this.age ??'',\n                    colour: this.colour ??'',\n                    images: this.imageUrls ??[],\n                    material:this.material ??'',\n                    qty:this.qty ??'',\n                    user:this.user ??'',\n                    codePrefix: this.codePrefix ??'',\n                    price:this.price ??'',\n                    completed:this.completed ?? false\n                  }).then((done)=>{\n                    this.save()\n                  })\n\n                }\n      }\n\n    },\n    imagePreview() {\n      const fileReader = new FileReader()\n\n      if (this.files.length>0){\n\n      fileReader.addEventListener('load',() => {\n        this.imageUrls.push(fileReader.result)\n      })\n      fileReader.readAsDataURL(this.files)\n      this.images = this.files\n      this.imageChanged = true\n\n      }else{\n        this.images=[]\n        this.imageUrls=[]\n        this.imageChanged = false\n      }\n\n\n    },\n    validate () {\n      this.$refs.form.validate()\n    },\n    reset () {\n      this.$refs.form.reset()\n    },\n    resetValidation () {\n      this.$refs.form.resetValidation()\n    },\n    deleteImage (img) {\n     let image = firebase.storage().refFromURL(img);\n\n     var ind = this.imageUrls.indexOf(img);\n\n      this.imageUrls.splice(ind,1);\n\n        console.log (this.codePrefix+'   '+this.id)\n\n          db\n          .collection(this.codePrefix)\n          .doc(this.id)\n          .update({\n            images: this.imageUrls,\n          })\n\n        image.delete().then(function() {\n          console.log('image deleted');\n\n        }).catch(function(error) {\n          // Uh-oh, an error occurred!\n          console.log('an error occurred');\n        });\n\n\n    },\n    dropMounted () {\n\n      for (var p=0; p<this.images.length; p++){\n        var file = { size: 123, name: 'Icon'+p, type: 'image/png' };\n        var url = this.images[p];\n        this.$refs.imgDropzone.manuallyAddFile(file, url);\n      }\n\n      console.log('drop mounted')\n\n    },\n    async afterComplete(file) {\n      try {\n        //const imageName = uuid.v1();\n        var metaData = {\n          contentType: \"image/png\"\n        }\n\n\n      //this.images = this.$refs.imgDropzone.getAcceptedFiles()\n\n       this.imageChanged = true\n\n      console.log ('image done')\n\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  }\n}\n</script>\n"]}]}